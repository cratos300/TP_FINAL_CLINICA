(self.webpackChunktpfinal=self.webpackChunktpfinal||[]).push([[179],{440:(Nt,ze,$)=>{"use strict";$.d(ze,{nm:()=>Rr});var y=$(5813);$(5e3),$(5867);var ie=$(5861),se=$(9681),Be=$(4859),qe=$(2090),Ke=$(1877);const ne=new Map,de={activated:!1,tokenObservers:[]},oe={initialized:!1,enabled:!1};function me(xe){return ne.get(xe)||de}function ge(xe,Ie){ne.set(xe,Ie)}function Ue(){return oe}class Wt{constructor(Ie,$e,st,wt,Qt){if(this.operation=Ie,this.retryPolicy=$e,this.getWaitDuration=st,this.lowerBound=wt,this.upperBound=Qt,this.pending=null,this.nextErrorWaitInterval=wt,wt>Qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ie){var $e=this;return(0,ie.Z)(function*(){$e.stop();try{$e.pending=new qe.BH,yield function kt(xe){return new Promise(Ie=>{setTimeout(Ie,xe)})}($e.getNextRun(Ie)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new qe.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(st){$e.retryPolicy(st)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(Ie){if(Ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const Ot=new qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ln(xe){if(!me(xe).activated)throw Ot.create("use-before-activation",{appName:xe.name})}function Gr(xe,Ie){return zn.apply(this,arguments)}function zn(){return(zn=(0,ie.Z)(function*({url:xe,body:Ie},$e){const st={"Content-Type":"application/json"},wt=$e.getImmediate({optional:!0});if(wt){const Vi=yield wt.getHeartbeatsHeader();Vi&&(st["X-Firebase-Client"]=Vi)}const Qt={method:"POST",body:JSON.stringify(Ie),headers:st};let er,nr;try{er=yield fetch(xe,Qt)}catch(Vi){throw Ot.create("fetch-network-error",{originalErrorMessage:Vi.message})}if(200!==er.status)throw Ot.create("fetch-status-error",{httpStatus:er.status});try{nr=yield er.json()}catch(Vi){throw Ot.create("fetch-parse-error",{originalErrorMessage:Vi.message})}const Wn=nr.ttl.match(/^([\d.]+)(s)$/);if(!Wn||!Wn[2]||isNaN(Number(Wn[1])))throw Ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${nr.ttl}`});const Mi=1e3*Number(Wn[1]),is=Date.now();return{token:nr.attestationToken,expireTimeMillis:is+Mi,issuedAtTimeMillis:is}})).apply(this,arguments)}function Ar(xe,Ie){const{projectId:$e,appId:st,apiKey:wt}=xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${$e}/apps/${st}:exchangeDebugToken?key=${wt}`,body:{debug_token:Ie}}}const Yt="firebase-app-check-store";let rn=null;function Sr(){return rn||(rn=new Promise((xe,Ie)=>{try{const $e=indexedDB.open("firebase-app-check-database",1);$e.onsuccess=st=>{xe(st.target.result)},$e.onerror=st=>{var wt;Ie(Ot.create("storage-open",{originalErrorMessage:null===(wt=st.target.error)||void 0===wt?void 0:wt.message}))},$e.onupgradeneeded=st=>{0===st.oldVersion&&st.target.result.createObjectStore(Yt,{keyPath:"compositeKey"})}}catch($e){Ie(Ot.create("storage-open",{originalErrorMessage:$e.message}))}}),rn)}function Dt(){return(Dt=(0,ie.Z)(function*(xe,Ie){const st=(yield Sr()).transaction(Yt,"readwrite"),Qt=st.objectStore(Yt).put({compositeKey:xe,value:Ie});return new Promise((er,nr)=>{Qt.onsuccess=Wn=>{er()},st.onerror=Wn=>{var Mi;nr(Ot.create("storage-set",{originalErrorMessage:null===(Mi=Wn.target.error)||void 0===Mi?void 0:Mi.message}))}})})).apply(this,arguments)}const Or=new Ke.Yd("@firebase/app-check");function yr(xe,Ie){return(0,qe.hl)()?function tr(xe,Ie){return function lr(xe,Ie){return Dt.apply(this,arguments)}(function ur(xe){return`${xe.options.appId}-${xe.name}`}(xe),Ie)}(xe,Ie).catch($e=>{Or.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function vr(){return Ue().enabled}function Dn(){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,ie.Z)(function*(){const xe=Ue();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xt={error:"UNKNOWN_ERROR"};function Xt(xe){return qe.US.encodeString(JSON.stringify(xe),!1)}function En(xe){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ie.Z)(function*(xe,Ie=!1){const $e=xe.app;ln($e);const st=me($e);let Qt,wt=st.token;if(!wt){const Wn=yield st.cachedTokenPromise;Wn&&_t(Wn)&&(wt=Wn)}if(!Ie&&wt&&_t(wt))return{token:wt.token};let nr,er=!1;if(vr()){st.exchangeTokenPromise||(st.exchangeTokenPromise=Gr(Ar($e,yield Dn()),xe.heartbeatServiceProvider).then(Mi=>(st.exchangeTokenPromise=void 0,Mi)),er=!0);const Wn=yield st.exchangeTokenPromise;return yield yr($e,Wn),ge($e,Object.assign(Object.assign({},st),{token:Wn})),{token:Wn.token}}try{st.exchangeTokenPromise||(st.exchangeTokenPromise=st.provider.getToken().then(Wn=>(st.exchangeTokenPromise=void 0,Wn)),er=!0),wt=yield st.exchangeTokenPromise}catch(Wn){"appCheck/throttled"===Wn.code?Or.warn(Wn.message):Or.error(Wn),Qt=Wn}return wt?(nr={token:wt.token},ge($e,Object.assign(Object.assign({},st),{token:wt})),yield yr($e,wt)):nr=Ee(Qt),er&&Fe($e,nr),nr})).apply(this,arguments)}function ue(xe,Ie){const $e=me(xe),st=$e.tokenObservers.filter(wt=>wt.next!==Ie);0===st.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),ge(xe,Object.assign(Object.assign({},$e),{tokenObservers:st}))}function Ce(xe){const{app:Ie}=xe,$e=me(Ie);let st=$e.tokenRefresher;st||(st=function Ye(xe){const{app:Ie}=xe;return new Wt((0,ie.Z)(function*(){let st;if(st=me(Ie).token?yield En(xe,!0):yield En(xe),st.error)throw st.error}),()=>!0,()=>{const $e=me(Ie);if($e.token){let st=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return st=Math.min(st,$e.token.expireTimeMillis-3e5),Math.max(0,st-Date.now())}return 0},3e4,96e4)}(xe),ge(Ie,Object.assign(Object.assign({},$e),{tokenRefresher:st}))),!st.isRunning()&&$e.isTokenAutoRefreshEnabled&&st.start()}function Fe(xe,Ie){const $e=me(xe).tokenObservers;for(const st of $e)try{"EXTERNAL"===st.type&&null!=Ie.error?st.error(Ie.error):st.next(Ie)}catch(wt){}}function _t(xe){return xe.expireTimeMillis-Date.now()>0}function Ee(xe){return{token:Xt(xt),error:xe}}class _e{constructor(Ie,$e){this.app=Ie,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:Ie}=me(this.app);for(const $e of Ie)ue(this.app,$e.next);return Promise.resolve()}}const Kr="app-check-internal";!function Pr(){(0,se._registerComponent)(new Be.wA("app-check",xe=>function re(xe,Ie){return new _e(xe,Ie)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Ie,$e)=>{xe.getProvider(Kr).initialize()})),(0,se._registerComponent)(new Be.wA(Kr,xe=>function Se(xe){return{getToken:Ie=>En(xe,Ie),addTokenListener:Ie=>function we(xe,Ie,$e,st){const{app:wt}=xe,Qt=me(wt),er={next:$e,error:st,type:Ie};if(ge(wt,Object.assign(Object.assign({},Qt),{tokenObservers:[...Qt.tokenObservers,er]})),Qt.token&&_t(Qt.token)){const nr=Qt.token;Promise.resolve().then(()=>{$e({token:nr.token}),Ce(xe)}).catch(()=>{})}Qt.cachedTokenPromise.then(()=>Ce(xe))}(xe,"INTERNAL",Ie),removeTokenListener:Ie=>ue(xe.app,Ie)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)("@firebase/app-check","0.5.6")}();class Rr{constructor(){return(0,y.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(Nt,ze,$)=>{"use strict";$.d(ze,{zQ:()=>je,ww:()=>qt,rT:()=>oe,f7:()=>ge,L6:()=>ne,_Q:()=>de,lh:()=>me,Qv:()=>Ke,nw:()=>Ue});var y=$(5e3),S=$(7579),X=$(9646),ae=$(8306),ce=$(8996),De=$(6451),Le=$(6063);class Pe extends S.x{constructor(nn=1/0,Ct=1/0,ht=Le.l){super(),this._bufferSize=nn,this._windowTime=Ct,this._timestampProvider=ht,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ct===1/0,this._bufferSize=Math.max(1,nn),this._windowTime=Math.max(1,Ct)}next(nn){const{isStopped:Ct,_buffer:ht,_infiniteTimeWindow:Wt,_timestampProvider:kt,_windowTime:Rn}=this;Ct||(ht.push(nn),!Wt&&ht.push(kt.now()+Rn)),this._trimBuffer(),super.next(nn)}_subscribe(nn){this._throwIfClosed(),this._trimBuffer();const Ct=this._innerSubscribe(nn),{_infiniteTimeWindow:ht,_buffer:Wt}=this,kt=Wt.slice();for(let Rn=0;Rn<kt.length&&!nn.closed;Rn+=ht?1:2)nn.next(kt[Rn]);return this._checkFinalizedStatuses(nn),Ct}_trimBuffer(){const{_bufferSize:nn,_timestampProvider:Ct,_buffer:ht,_infiniteTimeWindow:Wt}=this,kt=(Wt?1:2)*nn;if(nn<1/0&&kt<ht.length&&ht.splice(0,ht.length-kt),!Wt){const Rn=Ct.now();let Ot=0;for(let mn=1;mn<ht.length&&ht[mn]<=Rn;mn+=2)Ot=mn;Ot&&ht.splice(0,Ot+1)}}}var Ne=$(3099);function he(Ft,nn,Ct){let ht,Wt=!1;return Ft&&"object"==typeof Ft?({bufferSize:ht=1/0,windowTime:nn=1/0,refCount:Wt=!1,scheduler:Ct}=Ft):ht=null!=Ft?Ft:1/0,(0,Ne.B)({connector:()=>new Pe(ht,nn,Ct),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Wt})}var pe=$(3900),Oe=$(576);function dt(Ft,nn){return(0,Oe.m)(nn)?(0,pe.w)(()=>Ft,nn):(0,pe.w)(()=>Ft)}var Qe=$(5363),ot=$(4004),ft=$(590),We=$(9468),nt=$(9300),At=$(5813),Et=$(2011),ie=$(9808),se=$(440),Be=$(127);const Ke=new y.OlP("angularfire2.auth.use-emulator"),ne=new y.OlP("angularfire2.auth.settings"),de=new y.OlP("angularfire2.auth.tenant-id"),oe=new y.OlP("angularfire2.auth.langugage-code"),me=new y.OlP("angularfire2.auth.use-device-language"),ge=new y.OlP("angularfire.auth.persistence"),Ue=(Ft,nn,Ct,ht,Wt,kt,Rn,Ot)=>(0,Et.cc)(`${Ft.name}.auth`,"AngularFireAuth",Ft.name,()=>{const mn=nn.runOutsideAngular(()=>Ft.auth());if(Ct&&mn.useEmulator(...Ct),ht&&(mn.tenantId=ht),mn.languageCode=Wt,kt&&mn.useDeviceLanguage(),Rn)for(const[ln,wn]of Object.entries(Rn))mn.settings[ln]=wn;return Ot&&mn.setPersistence(Ot),mn},[Ct,ht,Wt,kt,Rn,Ot]);let je=(()=>{class Ft{constructor(Ct,ht,Wt,kt,Rn,Ot,mn,ln,wn,In,jn,Gr){const zn=new S.x,ar=(0,X.of)(void 0).pipe((0,Qe.Q)(Rn.outsideAngular),(0,pe.w)(()=>kt.runOutsideAngular(()=>Promise.resolve().then($.bind($,820)))),(0,ot.U)(()=>(0,Et.on)(Ct,kt,ht)),(0,ot.U)(Tn=>Ue(Tn,kt,Ot,ln,wn,In,mn,jn)),he({bufferSize:1,refCount:!1}));if((0,ie.PM)(Wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{ar.pipe((0,ft.P)()).subscribe();const Ar=ar.pipe((0,pe.w)(Yt=>Yt.getRedirectResult().then(xn=>xn,()=>null)),At.iC,he({bufferSize:1,refCount:!1})),Vn=ar.pipe((0,pe.w)(Yt=>new ae.y(xn=>({unsubscribe:kt.runOutsideAngular(()=>Yt.onAuthStateChanged(rn=>xn.next(rn),rn=>xn.error(rn),()=>xn.complete()))})))),St=ar.pipe((0,pe.w)(Yt=>new ae.y(xn=>({unsubscribe:kt.runOutsideAngular(()=>Yt.onIdTokenChanged(rn=>xn.next(rn),rn=>xn.error(rn),()=>xn.complete()))}))));this.authState=Ar.pipe(dt(Vn),(0,We.R)(Rn.outsideAngular),(0,Qe.Q)(Rn.insideAngular)),this.user=Ar.pipe(dt(St),(0,We.R)(Rn.outsideAngular),(0,Qe.Q)(Rn.insideAngular)),this.idToken=this.user.pipe((0,pe.w)(Yt=>Yt?(0,ce.D)(Yt.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,pe.w)(Yt=>Yt?(0,ce.D)(Yt.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,De.T)(Ar,zn,this.authState.pipe((0,nt.h)(Yt=>!Yt))).pipe((0,ot.U)(Yt=>(null==Yt?void 0:Yt.user)?Yt:null),(0,We.R)(Rn.outsideAngular),(0,Qe.Q)(Rn.insideAngular))}return(0,Et.pX)(this,ar,kt,{spy:{apply:(Tn,Ar,Vn)=>{(Tn.startsWith("signIn")||Tn.startsWith("createUser"))&&Vn.then(St=>zn.next(St))}}})}}return Ft.\u0275fac=function(Ct){return new(Ct||Ft)(y.LFG(Et.Dh),y.LFG(Et.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(At.HU),y.LFG(Ke,8),y.LFG(ne,8),y.LFG(de,8),y.LFG(oe,8),y.LFG(me,8),y.LFG(ge,8),y.LFG(se.nm,8))},Ft.\u0275prov=y.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"any"}),Ft})(),qt=(()=>{class Ft{constructor(){Be.Z.registerVersion("angularfire",At.q4.full,"auth-compat")}}return Ft.\u0275fac=function(Ct){return new(Ct||Ft)},Ft.\u0275mod=y.oAB({type:Ft}),Ft.\u0275inj=y.cJS({providers:[je]}),Ft})()},7566:(Nt,ze,$)=>{"use strict";$.d(ze,{ST:()=>Xc,yb:()=>Wv});var y=$(5e3),S=$(4986),X=$(8306),ae=$(8996),ce=$(9646),De=$(5813),Le=$(4482),Pe=$(5403);function Ne(){return(0,Le.e)((i,e)=>{let t,o=!1;i.subscribe((0,Pe.x)(e,l=>{const h=t;t=l,o&&e.next([h,l]),o=!0}))})}var he=$(4671);function Oe(i,e){return i===e}var oe,dt=$(8675),Qe=$(4004),ot=$(5026),ft=$(9300),We=$(2011),nt=$(9808),Et=($(820),$(3942)),ie=$(5861),se=$(9681),Be=$(4859),qe=$(1877),Ke=$(2090),ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de={},me=me||{},ge=ne||self;function Ue(){}function je(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function qt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var nn="closure_uid_"+(1e9*Math.random()>>>0),Ct=0;function ht(i,e,t){return i.call.apply(i.bind,arguments)}function Wt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function kt(i,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:Wt).apply(null,arguments)}function Rn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ot(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,h){for(var b=Array(arguments.length-2),x=2;x<arguments.length;x++)b[x-2]=arguments[x];return e.prototype[l].apply(o,b)}}function mn(){this.s=this.s,this.o=this.o}var wn={};mn.prototype.s=!1,mn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ft(i){return Object.prototype.hasOwnProperty.call(i,nn)&&i[nn]||(i[nn]=++Ct)}(this);delete wn[i]}},mn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const In=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},jn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in l&&e.call(t,l[h],h,i)};function zn(i){return Array.prototype.concat.apply([],arguments)}function ar(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Tn(i){return/^[\s\xa0]*$/.test(i)}var Yt,Ar=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Vn(i,e){return-1!=i.indexOf(e)}function St(i,e){return i<e?-1:i>e?1:0}e:{var xn=ge.navigator;if(xn){var rn=xn.userAgent;if(rn){Yt=rn;break e}}Yt=""}function Sr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Zr(i){const e={};for(const t in i)e[t]=i[t];return e}var tr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let h=0;h<tr.length;h++)t=tr[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function mr(i){return mr[" "](i),i}mr[" "]=Ue;var yr,i,Dt=Vn(Yt,"Opera"),Tt=Vn(Yt,"Trident")||Vn(Yt,"MSIE"),Mt=Vn(Yt,"Edge"),ur=Mt||Tt,Or=Vn(Yt,"Gecko")&&!(Vn(Yt.toLowerCase(),"webkit")&&!Vn(Yt,"Edge"))&&!(Vn(Yt,"Trident")||Vn(Yt,"MSIE"))&&!Vn(Yt,"Edge"),yn=Vn(Yt.toLowerCase(),"webkit")&&!Vn(Yt,"Edge");function ki(){var i=ge.document;return i?i.documentMode:void 0}e:{var qn="",Gt=(i=Yt,Or?/rv:([^\);]+)(\)|;)/.exec(i):Mt?/Edge\/([\d\.]+)/.exec(i):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):yn?/WebKit\/(\S+)/.exec(i):Dt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Gt&&(qn=Gt?Gt[1]:""),Tt){var vr=ki();if(null!=vr&&vr>parseFloat(qn)){yr=String(vr);break e}}yr=qn}var Dn={};var Xt=ge.document&&Tt&&(ki()||parseInt(yr,10))||void 0,En=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ge.addEventListener("test",Ue,e),ge.removeEventListener("test",Ue,e)}catch(t){}return i}();function Ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function we(i,e){if(Ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Or){e:{try{mr(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ue[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&we.Z.h.call(this)}}Ht.prototype.h=function(){this.defaultPrevented=!0},Ot(we,Ht);var ue={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Fe(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++Ye,this.ca=this.fa=!1}function _t(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ee(i){this.src=i,this.g={},this.h=0}function _e(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],l=In(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(_t(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function re(i,e,t,o){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return l}return-1}Ee.prototype.add=function(i,e,t,o,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var b=re(i,e,o,l);return-1<b?(e=i[b],t||(e.fa=!1)):((e=new Fe(e,this.src,h,!!o,l)).fa=t,i.push(e)),e};var Se="closure_lm_"+(1e6*Math.random()|0),tt={};function mt(i,e,t,o,l){if(o&&o.once)return _r(i,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)mt(i,e[h],t,o,l);return null}return t=pt(t),i&&i[Ce]?i.N(e,t,qt(o)?!!o.capture:!!o,l):en(i,e,t,!1,o,l)}function en(i,e,t,o,l,h){if(!e)throw Error("Invalid event type");var b=qt(l)?!!l.capture:!!l,x=ai(i);if(x||(i[Se]=x=new Ee(i)),(t=x.add(e,t,o,b,h)).proxy)return t;if(o=function Hn(){var e=wr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)En||(l=b),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Xn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function _r(i,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)_r(i,e[h],t,o,l);return null}return t=pt(t),i&&i[Ce]?i.O(e,t,qt(o)?!!o.capture:!!o,l):en(i,e,t,!0,o,l)}function Fi(i,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)Fi(i,e[h],t,o,l);else o=qt(o)?!!o.capture:!!o,t=pt(t),i&&i[Ce]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=re(h=i.g[e],t,o,l))&&(_t(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=ai(i))&&(e=i.g[e.toString()],i=-1,e&&(i=re(e,t,o,l)),(t=-1<i?e[i]:null)&&oi(t))}function oi(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ce])_e(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Xn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ai(e))?(_e(t,i),0==t.h&&(t.src=null,e[Se]=null)):_t(i)}}}function Xn(i){return i in tt?tt[i]:tt[i]="on"+i}function wr(i,e){if(i.ca)i=!0;else{e=new we(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&oi(i),i=t.call(o,e)}return i}function ai(i){return(i=i[Se])instanceof Ee?i:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(i){return"function"==typeof i?i:(i[sn]||(i[sn]=function(e){return i.handleEvent(e)}),i[sn])}function Zt(){mn.call(this),this.i=new Ee(this),this.P=this,this.I=null}function gn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ht(e,i);else if(e instanceof Ht)e.target=e.target||i;else{var l=e;un(e=new Ht(o,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var b=e.g=t[h];l=gr(b,o,!0,e)&&l}if(l=gr(b=e.g=i,o,!0,e)&&l,l=gr(b,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=gr(b=e.g=t[h],o,!1,e)&&l}function gr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var b=e[h];if(b&&!b.ca&&b.capture==t){var x=b.listener,z=b.ia||b.src;b.fa&&_e(i.i,b),l=!1!==x.call(z,o)&&l}}return l&&!o.defaultPrevented}Ot(Zt,mn),Zt.prototype[Ce]=!0,Zt.prototype.removeEventListener=function(i,e,t,o){Fi(this,i,e,t,o)},Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)_t(t[o]);delete i.g[e],i.h--}}this.I=null},Zt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Zt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Li=ge.JSON.stringify;function hr(){var i=Kr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ui,kn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ir,i=>i.reset());class Ir{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function cr(i){ge.setTimeout(()=>{throw i},0)}function bn(i,e){ui||function rs(){var i=ge.Promise.resolve(void 0);ui=function(){i.then(Pr)}}(),Wi||(ui(),Wi=!0),Kr.add(i,e)}var Wi=!1,Kr=new class li{constructor(){this.h=this.g=null}add(e,t){const o=kn.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Pr(){for(var i;i=hr();){try{i.h.call(i.g)}catch(t){cr(t)}var e=kn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Wi=!1}function br(i,e){Zt.call(this),this.h=i||1,this.g=e||ge,this.j=kt(this.kb,this),this.l=Date.now()}function Nr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Rr(i,e,t){if("function"==typeof i)t&&(i=kt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kt(i.handleEvent,i)}return 2147483647<Number(e)?-1:ge.setTimeout(i,e||0)}function Yn(i){i.g=Rr(()=>{i.g=null,i.i&&(i.i=!1,Yn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ot(br,Zt),(oe=br.prototype).da=!1,oe.S=null,oe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gn(this,"tick"),this.da&&(Nr(this),this.start()))}},oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.M=function(){br.Z.M.call(this),Nr(this),delete this.g};class hs extends mn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yn(this)}M(){super.M(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(i){mn.call(this),this.h=i,this.g={}}Ot(Lr,mn);var ti=[];function Vr(i,e,t,o){Array.isArray(t)||(t&&(ti[0]=t.toString()),t=ti);for(var l=0;l<t.length;l++){var h=mt(e,t[l],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function fs(i){Sr(i.g,function(e,t){this.g.hasOwnProperty(t)&&oi(e)},i),i.g={}}function fi(){this.g=!0}function Zi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Js(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var b=1;b<l.length;b++)l[b]=""}}}return Li(t)}catch(x){return e}}(i,t)+(o?" "+o:"")})}Lr.prototype.M=function(){Lr.Z.M.call(this),fs(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fi.prototype.Aa=function(){this.g=!1},fi.prototype.info=function(){};var Qn={},Es=null;function Xs(){return Es=Es||new Zt}function xe(i){Ht.call(this,Qn.Ma,i)}function Ie(i){const e=Xs();gn(e,new xe(e,i))}function $e(i,e){Ht.call(this,Qn.STAT_EVENT,i),this.stat=e}function st(i){const e=Xs();gn(e,new $e(e,i))}function wt(i,e){Ht.call(this,Qn.Na,i),this.size=e}function Qt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){i()},e)}Qn.Ma="serverreachability",Ot(xe,Ht),Qn.STAT_EVENT="statevent",Ot($e,Ht),Qn.Na="timingevent",Ot(wt,Ht);var er={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wn(){}function is(){}Wn.prototype.h=null;var Vs,Vi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ss(){Ht.call(this,"d")}function vi(){Ht.call(this,"c")}function Cs(){}function xi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Lr(this),this.P=Rs,this.W=new br(i=ur?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}Ot(ss,Ht),Ot(vi,Ht),Ot(Cs,Wn),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},Vs=new Cs;var Rs=45e3,gs={},Yi={};function Bs(i,e,t){i.K=1,i.v=bt(Z(e)),i.s=t,i.U=!0,os(i,null)}function os(i,e){i.F=Date.now(),Ds(i),i.A=Z(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),B(t.h,"t",o),i.C=0,t=i.l.H,i.h=new ni,i.g=Jo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new hs(kt(i.Ia,i,i.g),i.O)),Vr(i.V,i.g,"readystatechange",i.gb),e=i.H?Zr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ie(1),function ps(i,e,t,o,l,h){i.info(function(){if(i.g)if(h)for(var b="",x=h.split("&"),z=0;z<x.length;z++){var Y=x[z].split("=");if(1<Y.length){var fe=Y[0];Y=Y[1];var Me=fe.split("_");b=2<=Me.length&&"type"==Me[1]?b+(fe+"=")+Y+"&":b+(fe+"=redacted&")}}else b=null;else b=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Is(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Wr(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=pi(i,t),l==Yi){4==e&&(i.o=4,st(14),o=!1),Zi(i.j,i.m,null,"[Incomplete Response]");break}if(l==gs){i.o=4,st(15),Zi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Zi(i.j,i.m,l,null),ks(i,l)}Is(i)&&l!=Yi&&l!=gs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,st(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ci(e),e.L=!0,st(11))):(Zi(i.j,i.m,t,"[Invalid Chunked Response]"),_i(i),kr(i))}function pi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Yi:(t=Number(e.substring(t,o)),isNaN(t)?gs:(o+=1)+t>e.length?Yi:(e=e.substr(o,t),i.C=o+t,e))}function Ds(i){i.Y=Date.now()+i.P,Us(i,i.P)}function Us(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qt(kt(i.eb,i),e)}function Br(i){i.B&&(ge.clearTimeout(i.B),i.B=null)}function kr(i){0==i.l.G||i.I||zs(i.l,i)}function _i(i){Br(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Nr(i.W),fs(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ks(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ii(t.i,i)))if(t.I=i.N,!i.J&&ii(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(Y){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qt(kt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;us(t),bo(t)}Xr(t),st(18)}if(1>=ri(t.i)&&t.ka){try{t.ka()}catch(Y){}t.ka=void 0}}else di(t,11)}else if((i.J||t.g==i)&&us(t),!Tn(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(t.U=Y[0],Y=Y[1],2==t.G)if("c"==Y[0]){t.J=Y[1],t.la=Y[2];const fe=Y[3];null!=fe&&(t.ma=fe,t.h.info("VER="+t.ma));const Me=Y[4];null!=Me&&(t.za=Me,t.h.info("SVER="+t.za));const et=Y[5];null!=et&&"number"==typeof et&&0<et&&(t.K=o=1.5*et,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const gt=i.g;if(gt){const yt=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yt){var h=o.i;!h.g&&(Vn(yt,"spdy")||Vn(yt,"quic")||Vn(yt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Qr(h,h.h),h.h=null))}if(o.D){const dn=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(o.sa=dn,Xe(o.F,o.D,dn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var b=i;if((o=t).oa=Qo(o,o.H?o.la:null,o.W),b.J){to(o.i,b);var x=b,z=o.K;z&&x.setTimeout(z),x.B&&(Br(x),Ds(x)),o.g=b}else Co(o);0<t.l.length&&Eo(t)}else"stop"!=Y[0]&&"close"!=Y[0]||di(t,7);else 3==t.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?di(t,7):qr(t):"noop"!=Y[0]&&t.j&&t.j.wa(Y),t.A=0)}Ie(4)}catch(Y){}}function as(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(je(i)||"string"==typeof i)jn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(je(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function Yr(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(je(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],i)}}function wi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof wi)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function zr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Bi(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)Bi(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function Bi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(oe=xi.prototype).setTimeout=function(i){this.P=i},oe.gb=function(i){i=i.target;const e=this.L;e&&3==Fs(i)?e.l():this.Ia(i)},oe.Ia=function(i){try{if(i==this.g)e:{const fe=Fs(this.g);var e=this.g.Da();const Me=this.g.ba();if(!(3>fe)&&(3!=fe||ur||this.g&&(this.h.h||this.g.ga()||io(this.g)))){this.I||4!=fe||7==e||Ie(8==e||0>=Me?3:2),Br(this);var t=this.g.ba();this.N=t;t:if(Is(this)){var o=io(this.g);i="";var l=o.length,h=4==Fs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_i(this),kr(this);var b="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==t,function yi(i,e,t,o,l,h,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+b})}(this.j,this.u,this.A,this.m,this.X,fe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tn(x)){var Y=x;break t}}Y=null}if(!(t=Y)){this.i=!1,this.o=3,st(12),_i(this),kr(this);break e}Zi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ks(this,t)}this.U?(Wr(this,fe,b),ur&&this.i&&3==fe&&(Vr(this.V,this.W,"tick",this.fb),this.W.start())):(Zi(this.j,this.m,b,null),ks(this,b)),4==fe&&_i(this),this.i&&!this.I&&(4==fe?zs(this.l,this):(this.i=!1,Ds(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),_i(this),kr(this)}}}catch(fe){}},oe.fb=function(){if(this.g){var i=Fs(this.g),e=this.g.ga();this.C<e.length&&(Br(this),Wr(this,i,e),this.i&&4!=i&&Ds(this))}},oe.cancel=function(){this.I=!0,_i(this)},oe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ki(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ie(3),st(17)),_i(this),this.o=2,kr(this)):Us(this,this.Y-i)},(oe=wi.prototype).R=function(){zr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},oe.T=function(){return zr(this),this.g.concat()},oe.get=function(i,e){return Bi(this.h,i)?this.h[i]:e},oe.set=function(i,e){Bi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},oe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],h=this.get(l);i.call(e,h,l,this)}};var eo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function V(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof V){this.g=void 0!==e?e:i.g,L(this,i.j),this.s=i.s,ee(this,i.i),be(this,i.m),this.l=i.l,e=i.h;var t=new Ui;t.i=e.i,e.g&&(t.g=new wi(e.g),t.h=e.h),Je(this,t),this.o=i.o}else i&&(t=String(i).match(eo))?(this.g=!!e,L(this,t[1]||"",!0),this.s=Cn(t[2]||""),ee(this,t[3]||"",!0),be(this,t[4]),this.l=Cn(t[5]||"",!0),Je(this,t[6]||"",!0),this.o=Cn(t[7]||"")):(this.g=!!e,this.h=new Ui(null,this.g))}function Z(i){return new V(i)}function L(i,e,t){i.j=t?Cn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ee(i,e,t){i.i=t?Cn(e,!0):e}function be(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Je(i,e,t){e instanceof Ui?(i.h=e,function N(i,e){e&&!i.j&&(bi(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(js(this,o),B(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=An(e,gi)),i.h=new Ui(e,i.g))}function Xe(i,e,t){i.h.set(e,t)}function bt(i){return Xe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Cn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function An(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Dr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Dr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}V.prototype.toString=function(){var i=[],e=this.j;e&&i.push(An(e,ir,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(An(e,ir,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(An(t,"/"==t.charAt(0)?Qi:sr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",An(t,cn)),i.join("")};var ir=/[#\/\?@]/g,sr=/[#\?:]/g,Qi=/[#\?]/g,gi=/[#\?@]/g,cn=/#/g;function Ui(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function bi(i){i.g||(i.g=new wi,i.h=0,i.i&&function rr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var h=i[t].substring(0,o);l=i[t].substring(o+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function js(i,e){bi(i),e=F(i,e),Bi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Bi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&zr(i)))}function Ts(i,e){return bi(i),e=F(i,e),Bi(i.g.h,e)}function B(i,e,t){js(i,e),0<t.length&&(i.i=null,i.g.set(F(i,e),ar(t)),i.h+=t.length)}function F(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function He(i){this.l=i||$t,i=ge.PerformanceNavigationTiming?0<(i=ge.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ge.g&&ge.g.Ea&&ge.g.Ea()&&ge.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=Ui.prototype).add=function(i,e){bi(this),this.i=null,i=F(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(i,e){bi(this),this.g.forEach(function(t,o){jn(t,function(l){i.call(e,l,o,this)},this)},this)},oe.T=function(){bi(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],h=0;h<l.length;h++)t.push(e[o]);return t},oe.R=function(i){bi(this);var e=[];if("string"==typeof i)Ts(this,i)&&(e=zn(e,this.g.get(F(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=zn(e,i[t])}return e},oe.set=function(i,e){return bi(this),this.i=null,Ts(this,i=F(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},oe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var b=l;""!==o[h]&&(b+="="+encodeURIComponent(String(o[h]))),i.push(b)}}return this.i=i.join("&")};var $t=10;function vn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ri(i){return i.h?1:i.g?i.g.size:0}function ii(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qr(i,e){i.g?i.g.add(e):i.h=e}function to(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function As(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return ar(i.i)}function po(){}function la(){this.g=new po}function Lo(i,e,t){const o=t||"";try{as(i,function(l,h){let b=l;qt(l)&&(b=Li(l)),e.push(o+h+"="+encodeURIComponent(b))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Ei(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(h){}}function ji(i){this.l=i.$b||null,this.j=i.ib||!1}function go(i,e){Zt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}He.prototype.cancel=function(){if(this.i=As(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},po.prototype.stringify=function(i){return ge.JSON.stringify(i,void 0)},po.prototype.parse=function(i){return ge.JSON.parse(i,void 0)},Ot(ji,Wn),ji.prototype.g=function(){return new go(this.l,this.j)},ji.prototype.i=function(i){return function(){return i}}({}),Ot(go,Zt);var ms=0;function Oi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ro(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Hi(i)}function Hi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(oe=go.prototype).open=function(i,e){if(this.readyState!=ms)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Hi(this)},oe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ge).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ro(this)),this.readyState=ms},oe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ge.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oi(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},oe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ro(this):Hi(this),3==this.readyState&&Oi(this)}},oe.Ua=function(i){this.g&&(this.response=this.responseText=i,ro(this))},oe.Ta=function(i){this.g&&(this.response=i,ro(this))},oe.ha=function(){this.g&&ro(this)},oe.setRequestHeader=function(i,e){this.v.append(i,e)},oe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(go.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var mo=ge.JSON.parse;function Jr(i){Zt.call(this),this.headers=new wi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yo,this.K=this.L=!1}Ot(Jr,Zt);var yo="",Vo=/^https?$/i,vo=["POST","PUT"];function _o(i){return"content-type"==i.toLowerCase()}function ho(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Hs(i),$s(i)}function Hs(i){i.D||(i.D=!0,gn(i,"complete"),gn(i,"error"))}function wo(i){if(i.h&&void 0!==me&&(!i.C[1]||4!=Fs(i)||2!=i.ba()))if(i.v&&4==Fs(i))Rr(i.Fa,0,i);else if(gn(i,"readystatechange"),4==Fs(i)){i.h=!1;try{const x=i.ba();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===x){var l=String(i.H).match(eo)[1]||null;if(!l&&ge.self&&ge.self.location){var h=ge.self.location.protocol;l=h.substr(0,h.length-1)}o=!Vo.test(l?l.toLowerCase():"")}t=o}if(t)gn(i,"complete"),gn(i,"success");else{i.m=6;try{var b=2<Fs(i)?i.g.statusText:""}catch(z){b=""}i.j=b+" ["+i.ba()+"]",Hs(i)}}finally{$s(i)}}}function $s(i,e){if(i.g){Yo(i);const t=i.g,o=i.C[0]?Ue:null;i.g=null,i.C=null,e||gn(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function Yo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ge.clearTimeout(i.A),i.A=null)}function Fs(i){return i.g?i.g.readyState:0}function io(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case yo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Bo(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Ra(i){let e="";return Sr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Xe(i,e,t))}function si(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Gs(i){this.za=0,this.l=[],this.h=new fi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=si("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=si("baseRetryDelayMs",5e3,i),this.$a=si("retryDelaySeedMs",1e4,i),this.Ya=si("forwardChannelMaxRetries",2,i),this.ra=si("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new He(i&&i.concurrentRequestLimit),this.Ca=new la,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function qr(i){if(Ca(i),3==i.G){var e=i.V++,t=Z(i.F);Xe(t,"SID",i.J),Xe(t,"RID",e),Xe(t,"TYPE","terminate"),ls(i,t),(e=new xi(i,i.h,e,void 0)).K=2,e.v=bt(Z(t)),t=!1,ge.navigator&&ge.navigator.sendBeacon&&(t=ge.navigator.sendBeacon(e.v.toString(),"")),!t&&ge.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ds(e)}so(i)}function bo(i){i.g&&(ci(i),i.g.cancel(),i.g=null)}function Ca(i){bo(i),i.u&&(ge.clearTimeout(i.u),i.u=null),us(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ge.clearTimeout(i.m),i.m=null)}function Ia(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Eo(i)}function Eo(i){vn(i.i)||i.m||(i.m=!0,bn(i.Ha,i),i.C=0)}function Uo(i,e){var t;t=e?e.m:i.V++;const o=Z(i.F);Xe(o,"SID",i.J),Xe(o,"RID",t),Xe(o,"AID",i.U),ls(i,o),i.o&&i.s&&Bo(o,i.o,i.s),t=new xi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ss(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Qr(i.i,t),Bs(t,o,e)}function ls(i,e){i.j&&as({},function(t,o){Xe(e,o,t)})}function Ss(i,e,t){t=Math.min(i.l.length,t);var o=i.j?kt(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const b=["count="+t];-1==h?0<t?(h=l[0].h,b.push("ofs="+h)):h=0:b.push("ofs="+h);let x=!0;for(let z=0;z<t;z++){let Y=l[z].h;const fe=l[z].g;if(Y-=h,0>Y)h=Math.max(0,l[z].h-100),x=!1;else try{Lo(fe,b,"req"+Y+"_")}catch(Me){o&&o(fe)}}if(x){o=b.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Co(i){i.g||i.u||(i.Y=1,bn(i.Ga,i),i.A=0)}function Xr(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Qt(kt(i.Ga,i),co(i,i.A)),i.A++,0))}function ci(i){null!=i.B&&(ge.clearTimeout(i.B),i.B=null)}function Fa(i){i.g=new xi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Z(i.oa);Xe(e,"RID","rpc"),Xe(e,"SID",i.J),Xe(e,"CI",i.N?"0":"1"),Xe(e,"AID",i.U),ls(i,e),Xe(e,"TYPE","xmlhttp"),i.o&&i.s&&Bo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=bt(Z(e)),t.s=null,t.U=!0,os(t,i)}function us(i){null!=i.v&&(ge.clearTimeout(i.v),i.v=null)}function zs(i,e){var t=null;if(i.g==e){us(i),ci(i),i.g=null;var o=2}else{if(!ii(i.i,e))return;t=e.D,to(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;gn(o=Xs(),new wt(o,t,e,l)),Eo(i)}else Co(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function ka(i,e){return!(ri(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Qt(kt(i.Ha,i,e),co(i,i.C)),i.C++,0)))}(i,e)||2==o&&Xr(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:di(i,5);break;case 4:di(i,10);break;case 3:di(i,6);break;default:di(i,2)}}function co(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function di(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=kt(i.jb,i);t||(t=new V("//www.google.com/images/cleardot.gif"),ge.location&&"http"==ge.location.protocol||L(t,"https"),bt(t)),function no(i,e){const t=new fi;if(ge.Image){const o=new Image;o.onload=Rn(Ei,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Rn(Ei,t,o,"TestLoadImage: error",!1,e),o.onabort=Rn(Ei,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Rn(Ei,t,o,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else st(2);i.G=0,i.j&&i.j.va(e),so(i),Ca(i)}function so(i){i.G=0,i.I=-1,i.j&&((0!=As(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ar(i.l),i.l.length=0),i.j.ua())}function Qo(i,e,t){let o=function $n(i){return i instanceof V?Z(i):new V(i,void 0)}(t);if(""!=o.i)e&&ee(o,e+"."+o.i),be(o,o.m);else{const l=ge.location;o=function Zn(i,e,t,o){var l=new V(null,void 0);return i&&L(l,i),e&&ee(l,e),t&&be(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Sr(i.aa,function(l,h){Xe(o,h,l)}),t=i.sa,(e=i.D)&&t&&Xe(o,e,t),Xe(o,"VER",i.ma),ls(i,o),o}function Jo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(t&&i.Ba&&!i.qa?new ji({ib:!0}):i.qa)).L=i.H,e}function ua(){}function ca(){if(Tt&&!(10<=Number(Xt)))throw Error("Environmental error: no available transport.")}function dr(i,e){Zt.call(this),this.g=new Gs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Tn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new A(this)}function Io(i){ss.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ms(){vi.call(this),this.status=1}function A(i){this.g=i}(oe=Jr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vs.g(),this.C=function Mi(i){return i.h||(i.h=i.i())}(this.u?this.u:Vs),this.g.onreadystatechange=kt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ho(this,h)}i=t||"";const l=new wi(this.headers);o&&as(o,function(h,b){l.set(b,h)}),o=function Gr(i){e:{var e=_o;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=ge.FormData&&i instanceof ge.FormData,!(0<=In(vo,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,b){this.g.setRequestHeader(b,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yo(this),0<this.B&&((this.K=function Ea(i){return Tt&&function Lt(){return function lr(i){var e=Dn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ar(String(yr)).split("."),t=Ar("9").split("."),o=Math.max(e.length,t.length);for(let b=0;0==i&&b<o;b++){var l=e[b]||"",h=t[b]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=St(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||St(0==l[2].length,0==h[2].length)||St(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.pa,this)):this.A=Rr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ho(this,h)}},oe.pa=function(){void 0!==me&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},oe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gn(this,"complete"),gn(this,"abort"),$s(this))},oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$s(this,!0)),Jr.Z.M.call(this)},oe.Fa=function(){this.s||(this.F||this.v||this.l?wo(this):this.cb())},oe.cb=function(){wo(this)},oe.ba=function(){try{return 2<Fs(this)?this.g.status:-1}catch(i){return-1}},oe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},oe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),mo(e)}},oe.Da=function(){return this.m},oe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=Gs.prototype).ma=8,oe.G=1,oe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},oe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new xi(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Zr(h),un(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ss(this,l,e),Xe(t=Z(this.F),"RID",i),Xe(t,"CVER",22),this.D&&Xe(t,"X-HTTP-Session-Id",this.D),ls(this,t),this.o&&h&&Bo(t,this.o,h),Qr(this.i,l),this.Ra&&Xe(t,"TYPE","init"),this.ja?(Xe(t,"$req",e),Xe(t,"SID","null"),l.$=!0,Bs(l,t,null)):Bs(l,t,e),this.G=2}}else 3==this.G&&(i?Uo(this,i):0==this.l.length||vn(this.i)||Uo(this))},oe.Ga=function(){if(this.u=null,Fa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Qt(kt(this.bb,this),i)}},oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,st(10),bo(this),Fa(this))},oe.ab=function(){null!=this.v&&(this.v=null,bo(this),Xr(this),st(19))},oe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),st(2)):(this.h.info("Failed to ping google.com"),st(1))},(oe=ua.prototype).xa=function(){},oe.wa=function(){},oe.va=function(){},oe.ua=function(){},oe.Oa=function(){},ca.prototype.g=function(i,e){return new dr(i,e)},Ot(dr,Zt),dr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),bn(kt(i.hb,i,e))),st(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Qo(i,null,i.W),Eo(i)},dr.prototype.close=function(){qr(this.g)},dr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ia(this.g,e)}else this.v?((e={}).__data__=Li(i),Ia(this.g,e)):Ia(this.g,i)},dr.prototype.M=function(){this.g.j=null,delete this.j,qr(this.g),delete this.g,dr.Z.M.call(this)},Ot(Io,ss),Ot(Ms,vi),Ot(A,ua),A.prototype.xa=function(){gn(this.g,"a")},A.prototype.wa=function(i){gn(this.g,new Io(i))},A.prototype.va=function(i){gn(this.g,new Ms(i))},A.prototype.ua=function(){gn(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,dr.prototype.send=dr.prototype.u,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,nr.COMPLETE="complete",is.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",Zt.prototype.listen=Zt.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var M=de.createWebChannelTransport=function(){return new ca},W=de.getStatEventTarget=function(){return Xs()},ve=de.ErrorCode=er,rt=de.EventType=nr,hn=de.Event=Qn,fr=de.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$i=de.FetchXmlHttpFactory=ji,Fr=de.WebChannel=is,jo=de.XhrIo=Jr;const Ho="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Do="9.6.11";const xs=new qe.Yd("@firebase/firestore");function To(){return xs.logLevel}function v(i,...e){if(xs.logLevel<=qe.in.DEBUG){const t=e.map(p);xs.debug(`Firestore (${Do}): ${i}`,...t)}}function _(i,...e){if(xs.logLevel<=qe.in.ERROR){const t=e.map(p);xs.error(`Firestore (${Do}): ${i}`,...t)}}function c(i,...e){if(xs.logLevel<=qe.in.WARN){const t=e.map(p);xs.warn(`Firestore (${Do}): ${i}`,...t)}}function p(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function f(i="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+i;throw _(e),new Error(e)}function C(i,e){i||f()}function P(i,e){return i}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ae{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class ct{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jt{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=Y=>this.i!==l?(l=this.i,t(Y)):Promise.resolve();let b=new Ae;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ae,e.enqueueRetryable(()=>h(this.currentUser))};const x=()=>{const Y=b;e.enqueueRetryable((0,ie.Z)(function*(){yield Y.promise,yield h(o.currentUser)}))},z=Y=>{v("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Y=>z(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?z(Y):(v("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ae)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(v("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(C("string"==typeof o.accessToken),new lt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return C(null===e||"string"==typeof e),new Pi(e)}}class tn{constructor(e,t,o){this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Mr{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new tn(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ci{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&v("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const b=h.token!==this.p;return this.p=h.token,v("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{v("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):v("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(C("string"==typeof t.token),this.p=t.token,new Tr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ur{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ii(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Ur.A=-1;class Os{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Ii(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function Sn(i,e){return i<e?-1:i>e?1:0}function Ji(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function oo(i){return i+"\0"}class Ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ni(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Ni(0,0))}static max(){return new zt(new Ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function da(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Da(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Rl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class on{constructor(e,t,o){void 0===t?t=0:t>e.length&&f(),void 0===o?o=e.length-t:o>e.length-t&&f(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===on.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof on?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),b=t.get(l);if(h<b)return-1;if(h>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends on{construct(e,t,o){return new Pt(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const Fn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends on{construct(e,t,o){return new On(e,t,o)}static isValidIdentifier(e){return Fn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new On(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;l<e.length;){const x=e[l];if("\\"===x){if(l+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[l+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=z,l+=2}else"`"===x?(b=!b,l++):"."!==x||b?(o+=x,l++):(h(),l++)}if(h(),b)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(t)}static emptyPath(){return new On([])}}class jr{constructor(e){this.fields=e,e.sort(On.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(i){if(C(!!i),"string"==typeof i){let e=0;const t=Ao.exec(i);if(C(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Di(i.seconds),nanos:Di(i.nanos)}}function Di(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Go(i){return"string"==typeof i?Mn.fromBase64String(i):Mn.fromUint8Array(i)}function xr(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xi(i){const e=i.mapValue.fields.__previous_value__;return xr(e)?Xi(e):e}function ao(i){const e=pr(i.mapValue.fields.__local_write_time__.timestampValue);return new Ni(e.seconds,e.nanos)}class qs{constructor(e,t,o,l,h,b,x,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.useFetchStreams=z}}class Ri{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ri("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ri&&e.projectId===this.projectId&&e.database===this.database}}function Ws(i){return null==i}function ha(i){return 0===i&&1/i==-1/0}function kl(i){return"number"==typeof i&&Number.isInteger(i)&&!ha(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(Pt.fromString(e))}static fromName(e){return new Bt(Pt.fromString(e).popFirst(5))}static empty(){return new Bt(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new Pt(e.slice()))}}const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fl={nullValue:"NULL_VALUE"};function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xr(i)?4:Aa(i)?9:10:f()}function zo(i,e){if(i===e)return!0;const t=ys(i);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ao(i).isEqual(ao(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=pr(o.timestampValue),b=pr(l.timestampValue);return h.seconds===b.seconds&&h.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Go(i.bytesValue).isEqual(Go(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Di(o.geoPointValue.latitude)===Di(l.geoPointValue.latitude)&&Di(o.geoPointValue.longitude)===Di(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Di(o.integerValue)===Di(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Di(o.doubleValue),b=Di(l.doubleValue);return h===b?ha(h)===ha(b):isNaN(h)&&isNaN(b)}return!1}(i,e);case 9:return Ji(i.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:return function(o,l){const h=o.mapValue.fields||{},b=l.mapValue.fields||{};if(da(h)!==da(b))return!1;for(const x in h)if(h.hasOwnProperty(x)&&(void 0===b[x]||!zo(h[x],b[x])))return!1;return!0}(i,e);default:return f()}var l}function Xo(i,e){return void 0!==(i.values||[]).find(t=>zo(t,e))}function fa(i,e){if(i===e)return 0;const t=ys(i),o=ys(e);if(t!==o)return Sn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Sn(i.booleanValue,e.booleanValue);case 2:return function(l,h){const b=Di(l.integerValue||l.doubleValue),x=Di(h.integerValue||h.doubleValue);return b<x?-1:b>x?1:b===x?0:isNaN(b)?isNaN(x)?0:-1:1}(i,e);case 3:return Ta(i.timestampValue,e.timestampValue);case 4:return Ta(ao(i),ao(e));case 5:return Sn(i.stringValue,e.stringValue);case 6:return function(l,h){const b=Go(l),x=Go(h);return b.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const b=l.split("/"),x=h.split("/");for(let z=0;z<b.length&&z<x.length;z++){const Y=Sn(b[z],x[z]);if(0!==Y)return Y}return Sn(b.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const b=Sn(Di(l.latitude),Di(h.latitude));return 0!==b?b:Sn(Di(l.longitude),Di(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const b=l.values||[],x=h.values||[];for(let z=0;z<b.length&&z<x.length;++z){const Y=fa(b[z],x[z]);if(Y)return Y}return Sn(b.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){const b=l.fields||{},x=Object.keys(b),z=h.fields||{},Y=Object.keys(z);x.sort(),Y.sort();for(let fe=0;fe<x.length&&fe<Y.length;++fe){const Me=Sn(x[fe],Y[fe]);if(0!==Me)return Me;const et=fa(b[x[fe]],z[Y[fe]]);if(0!==et)return et}return Sn(x.length,Y.length)}(i.mapValue,e.mapValue);default:throw f()}}function Ta(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Sn(i,e);const t=pr(i),o=pr(e),l=Sn(t.seconds,o.seconds);return 0!==l?l:Sn(t.nanos,o.nanos)}function pa(i){return wu(i)}function wu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=pr(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Go(i.bytesValue).toBase64():"referenceValue"in i?Bt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",h=!0;for(const b of o.values||[])h?h=!1:l+=",",l+=wu(b);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",b=!0;for(const x of l)b?b=!1:h+=",",h+=`${x}:${wu(o.fields[x])}`;return h+"}"}(i.mapValue):f();var e}function ga(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qo(i){return!!i&&"integerValue"in i}function dl(i){return!!i&&"arrayValue"in i}function So(i){return!!i&&"nullValue"in i}function bu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ya(i){return!!i&&"mapValue"in i}function La(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Da(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=La(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=La(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Aa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function hl(i){return"nullValue"in i?Fl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ga(Ri.empty(),Bt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:f()}function Eu(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ga(Ri.empty(),Bt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?_u:f()}function R(i,e){return void 0===i?e:void 0===e||fa(i,e)>0?i:e}function j(i,e){return void 0===i?e:void 0===e||fa(i,e)<0?i:e}class J{constructor(e){this.value=e}static empty(){return new J({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ya(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(t)}setAll(e){let t=On.emptyPath(),o={},l=[];e.forEach((b,x)=>{if(!t.isImmediateParentOf(x)){const z=this.getFieldsMap(t);this.applyChanges(z,o,l),o={},l=[],t=x.popLast()}b?o[x.lastSegment()]=La(b):l.push(x.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());Ya(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Ya(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Da(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new J(La(this.value))}}function ye(i){const e=[];return Da(i.fields,(t,o)=>{const l=new On([t]);if(Ya(o)){const h=ye(o.mapValue).fields;if(0===h.length)e.push(l);else for(const b of h)e.push(l.child(b))}else e.push(l)}),new jr(e)}class Re{constructor(e,t,o,l,h,b){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=h,this.documentState=b}static newInvalidDocument(e){return new Re(e,0,zt.min(),zt.min(),J.empty(),0)}static newFoundDocument(e,t,o){return new Re(e,1,t,zt.min(),o,0)}static newNoDocument(e,t){return new Re(e,2,t,zt.min(),J.empty(),0)}static newUnknownDocument(e,t){return new Re(e,3,t,zt.min(),J.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=J.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=J.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Re(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ze{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function It(i){return i.fields.find(e=>2===e.kind)}function Jt(i){return i.fields.filter(e=>2!==e.kind)}Ze.UNKNOWN_ID=-1;class fn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pn(0,hi.min())}}function Er(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=zt.fromTimestamp(1e9===o?new Ni(t+1,0):new Ni(t,o));return new hi(l,Bt.empty(),e)}function Gn(i){return new hi(i.readTime,i.key,-1)}class hi{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new hi(zt.min(),Bt.empty(),-1)}static max(){return new hi(zt.max(),Bt.empty(),-1)}}function cs(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Bt.comparator(i.documentKey,e.documentKey),0!==t?t:Sn(i.largestBatchId,e.largestBatchId))}class Qa{constructor(e,t=null,o=[],l=[],h=null,b=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=b,this.endAt=x,this.P=null}}function fl(i,e=null,t=[],o=[],l=null,h=null,b=null){return new Qa(i,e,t,o,l,h,b)}function Zs(i){const e=P(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+pa(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Ws(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>pa(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>pa(o)).join(",")),e.P=t}return e.P}function Mo(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Pf(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!zo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jd(i.startAt,e.startAt)&&Jd(i.endAt,e.endAt)}function ea(i){return Bt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Cu(i,e){return i.filters.filter(t=>t instanceof ds&&t.field.isEqual(e))}function ed(i,e,t){let o,l=!0;for(const h of Cu(i,e)){let b,x=!0;switch(h.op){case"<":case"<=":b=hl(h.value);break;case"==":case"in":case">=":b=h.value;break;case">":b=h.value,x=!1;break;case"!=":case"not-in":b=Fl}R(o,b)===b&&(o=b,l=x)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const b=t.position[h];R(o,b)===b&&(o=b,l=t.inclusive);break}return{value:o,inclusive:l}}function Iu(i,e,t){let o,l=!0;for(const h of Cu(i,e)){let b,x=!0;switch(h.op){case">=":case">":b=Eu(h.value),x=!1;break;case"==":case"in":case"<=":b=h.value;break;case"<":b=h.value,x=!1;break;case"!=":case"not-in":b=_u}j(o,b)===b&&(o=b,l=x)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const b=t.position[h];j(o,b)===b&&(o=b,l=t.inclusive);break}return{value:o,inclusive:l}}class ds extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Kd(e,t,o):"array-contains"===t?new Du(e,o):"in"===t?new xf(e,o):"not-in"===t?new Of(e,o):"array-contains-any"===t?new Yd(e,o):new ds(e,t,o)}static V(e,t,o){return"in"===t?new Sf(e,o):new Mf(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fa(t,this.value)):null!==t&&ys(this.value)===ys(t)&&this.v(fa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return f()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kd extends ds{constructor(e,t,o){super(e,t,o),this.key=Bt.fromName(o.referenceValue)}matches(e){const t=Bt.comparator(e.key,this.key);return this.v(t)}}class Sf extends ds{constructor(e,t){super(e,"in",t),this.keys=Va(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mf extends ds{constructor(e,t){super(e,"not-in",t),this.keys=Va(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Va(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Bt.fromName(o.referenceValue))}class Du extends ds{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dl(t)&&Xo(t.arrayValue,this.value)}}class xf extends ds{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xo(this.value.arrayValue,t)}}class Of extends ds{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xo(this.value.arrayValue,t)}}class Yd extends ds{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Xo(this.value.arrayValue,o))}}class ma{constructor(e,t){this.position=e,this.inclusive=t}}class Tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Qd(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const h=e[l],b=i.position[l];if(o=h.field.isKeyField()?Bt.comparator(Bt.fromName(b.referenceValue),t.key):fa(b,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Jd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!zo(i.position[t],e.position[t]))return!1;return!0}class ta{constructor(e,t=null,o=[],l=[],h=null,b="F",x=null,z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=b,this.startAt=x,this.endAt=z,this.D=null,this.C=null}}function lc(i,e,t,o,l,h,b,x){return new ta(i,e,t,o,l,h,b,x)}function ya(i){return new ta(i)}function uc(i){return!Ws(i.limit)&&"F"===i.limitType}function Ll(i){return!Ws(i.limit)&&"L"===i.limitType}function Xd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Vl(i){for(const e of i.filters)if(e.S())return e.field;return null}function Au(i){return null!==i.collectionGroup}function pl(i){const e=P(i);if(null===e.D){e.D=[];const t=Vl(e),o=Xd(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Tu(t)),e.D.push(new Tu(On.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Tu(On.keyField(),h))}}}return e.D}function Zo(i){const e=P(i);if(!e.C)if("F"===e.limitType)e.C=fl(e.path,e.collectionGroup,pl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of pl(e))t.push(new Tu(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new ma(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new ma(e.startAt.position,!e.startAt.inclusive):null;e.C=fl(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function cc(i,e,t){return new ta(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function va(i,e){return Mo(Zo(i),Zo(e))&&i.limitType===e.limitType}function eh(i){return`${Zs(Zo(i))}|lt:${i.limitType}`}function td(i){return`Query(target=${function Wo(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${pa(o.value)}`;var o}).join(", ")}]`),Ws(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>pa(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>pa(t)).join(",")),`Target(${e})`}(Zo(i))}; limitType=${i.limitType})`}function nd(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Bt.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,h,b){const x=Qd(l,h,b);return l.inclusive?x<=0:x<0}(t.startAt,pl(t),o)||t.endAt&&!function(l,h,b){const x=Qd(l,h,b);return l.inclusive?x>=0:x>0}(t.endAt,pl(t),o)));var t,o}function dc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function th(i){return(e,t)=>{let o=!1;for(const l of pl(i)){const h=_a(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function _a(i,e,t){const o=i.field.isKeyField()?Bt.comparator(e.key,t.key):function(l,h,b){const x=h.data.field(l),z=b.data.field(l);return null!==x&&null!==z?fa(x,z):f()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return f()}}function gl(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ha(e)?"-0":e}}function hc(i){return{integerValue:""+i}}function nh(i,e){return kl(e)?hc(e):gl(i,e)}class Bl{constructor(){this._=void 0}}function Nf(i,e,t){return i instanceof ml?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof yl?ih(i,e):i instanceof Ul?Ja(i,e):function(o,l){const h=rd(o,l),b=sh(h)+sh(o.k);return qo(h)&&qo(o.k)?hc(b):gl(o.M,b)}(i,e)}function rh(i,e,t){return i instanceof yl?ih(i,e):i instanceof Ul?Ja(i,e):t}function rd(i,e){return i instanceof Su?qo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ml extends Bl{}class yl extends Bl{constructor(e){super(),this.elements=e}}function ih(i,e){const t=Xa(e);for(const o of i.elements)t.some(l=>zo(l,o))||t.push(o);return{arrayValue:{values:t}}}class Ul extends Bl{constructor(e){super(),this.elements=e}}function Ja(i,e){let t=Xa(e);for(const o of i.elements)t=t.filter(l=>!zo(l,o));return{arrayValue:{values:t}}}class Su extends Bl{constructor(e,t){super(),this.M=e,this.k=t}}function sh(i){return Di(i.integerValue||i.doubleValue)}function Xa(i){return dl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class jl{constructor(e,t){this.field=e,this.transform=t}}class Mu{constructor(e,t){this.version=e,this.transformResults=t}}class vs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class xu{}function Og(i,e,t){i instanceof _l?function(o,l,h){const b=o.value.clone(),x=Ou(o.fieldTransforms,l,h.transformResults);b.setAll(x),l.convertToFoundDocument(h.version,b).setHasCommittedMutations()}(i,e,t):i instanceof Hl?function(o,l,h){if(!vl(o.precondition,l))return void l.convertToUnknownDocument(h.version);const b=Ou(o.fieldTransforms,l,h.transformResults),x=l.data;x.setAll(oh(o)),x.setAll(b),l.convertToFoundDocument(h.version,x).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function fc(i,e,t){var l;i instanceof _l?function(o,l,h){if(!vl(o.precondition,l))return;const b=o.value.clone(),x=ah(o.fieldTransforms,h,l);b.setAll(x),l.convertToFoundDocument(gc(l),b).setHasLocalMutations()}(i,e,t):i instanceof Hl?function(o,l,h){if(!vl(o.precondition,l))return;const b=ah(o.fieldTransforms,h,l),x=l.data;x.setAll(oh(o)),x.setAll(b),l.convertToFoundDocument(gc(l),x).setHasLocalMutations()}(i,e,t):vl(i.precondition,l=e)&&l.convertToNoDocument(zt.min())}function Pg(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),h=rd(o.transform,l||null);null!=h&&(null==t&&(t=J.empty()),t.set(o.field,h))}return t||null}function pc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ji(t,o,(l,h)=>function na(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof yl&&o instanceof yl||t instanceof Ul&&o instanceof Ul?Ji(t.elements,o.elements,zo):t instanceof Su&&o instanceof Su?zo(t.k,o.k):t instanceof ml&&o instanceof ml);var t,o}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function gc(i){return i.isFoundDocument()?i.version:zt.min()}class _l extends xu{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class Hl extends xu{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}}function oh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Ou(i,e,t){const o=new Map;C(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],b=h.transform,x=e.data.field(h.field);o.set(h.field,rh(b,x,t[l]))}return o}function ah(i,e,t){const o=new Map;for(const l of i){const h=l.transform,b=t.data.field(l.field);o.set(l.field,Nf(h,b,e))}return o}class Pu extends xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Nu extends xu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class id{constructor(e){this.count=e}}var _s,Cr;function $l(i){switch(i){default:return f();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function mc(i){if(void 0===i)return _("GRPC error has no .code"),U.UNKNOWN;switch(i){case _s.OK:return U.OK;case _s.CANCELLED:return U.CANCELLED;case _s.UNKNOWN:return U.UNKNOWN;case _s.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case _s.INTERNAL:return U.INTERNAL;case _s.UNAVAILABLE:return U.UNAVAILABLE;case _s.UNAUTHENTICATED:return U.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case _s.NOT_FOUND:return U.NOT_FOUND;case _s.ALREADY_EXISTS:return U.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return U.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case _s.ABORTED:return U.ABORTED;case _s.OUT_OF_RANGE:return U.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return U.UNIMPLEMENTED;case _s.DATA_LOSS:return U.DATA_LOSS;default:return f()}}(Cr=_s||(_s={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";class el{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return Rl(this.inner)}size(){return this.innerSize}}class or{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=null!=o?o:lo.RED,this.left=null!=l?l:lo.EMPTY,this.right=null!=h?h:lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new lo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return lo.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw f();const e=this.left.check();if(e!==this.right.check())throw f();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw f()}get value(){throw f()}get color(){throw f()}get left(){throw f()}get right(){throw f()}copy(i,e,t,o,l){return this}insert(i,e,t){return new lo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sd(this.data.getIterator())}getIteratorFrom(e){return new sd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class sd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zl(i){return i.hasNext()?i.getNext():void 0}const yc=new or(Bt.comparator);function ra(){return yc}const lh=new or(Bt.comparator);function od(){return lh}function vc(){return new el(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ng=new or(Bt.comparator),Ru=new mi(Bt.comparator);function Kn(...i){let e=Ru;for(const t of i)e=e.add(t);return e}const ku=new mi(Sn);function wl(){return ku}class bl{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Ps.createSynthesizedTargetChangeForCurrentChange(e,t)),new bl(zt.min(),o,wl(),ra(),Kn())}}class Ps{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ps(Mn.EMPTY_BYTE_STRING,t,Kn(),Kn(),Kn())}}class Sa{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class _c{constructor(e,t){this.targetId=e,this.$=t}}class xo{constructor(e,t,o=Mn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class ql{constructor(){this.B=0,this.L=Fu(),this.U=Mn.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Kn(),t=Kn(),o=Kn();return this.L.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:f()}}),new Ps(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Fu()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ad{constructor(e){this.nt=e,this.st=new Map,this.it=ra(),this.rt=uh(),this.ot=new mi(Sn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:f()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const h=l.target;if(ea(h))if(0===o){const b=new Bt(h.path);this.ct(t,b,Re.newNoDocument(b,zt.min()))}else C(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,b)=>{const x=this.wt(b);if(x){if(h.current&&ea(x.target)){const z=new Bt(x.target.path);null!==this.it.get(z)||this.It(b,z)||this.ct(b,z,Re.newNoDocument(z,e))}h.j&&(t.set(b,h.H()),h.J())}});let o=Kn();this.rt.forEach((h,b)=>{let x=!0;b.forEachWhile(z=>{const Y=this.wt(z);return!Y||2===Y.purpose||(x=!1,!1)}),x&&(o=o.add(h))}),this.it.forEach((h,b)=>b.setReadTime(e));const l=new bl(e,t,this.ot,this.it,o);return this.it=ra(),this.rt=uh(),this.ot=new mi(Sn),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ql,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new mi(Sn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||v("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new ql),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function uh(){return new or(Bt.comparator)}function Fu(){return new or(Bt.comparator)}const ld={asc:"ASCENDING",desc:"DESCENDING"},ch={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dh{constructor(e,t){this.databaseId=e,this.N=t}}function Lu(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wa(i,e){return i.N?e.toBase64():e.toUint8Array()}function hh(i,e){return Lu(i,e.toTimestamp())}function Ks(i){return C(!!i),zt.fromTimestamp(function(e){const t=pr(e);return new Ni(t.seconds,t.nanos)}(i))}function Vu(i,e){return(t=i,new Pt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fh(i){const e=Pt.fromString(i);return C(Nn(e)),e}function Wl(i,e){return Vu(i.databaseId,e.path)}function Ti(i,e){const t=fh(e);if(t.get(1)!==i.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Bt(Ma(t))}function Bu(i,e){return Vu(i.databaseId,e)}function wc(i){const e=fh(i);return 4===e.length?Pt.emptyPath():Ma(e)}function Uu(i){return new Pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ma(i){return C(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zl(i,e,t){return{name:Wl(i,e),fields:t.value.mapValue.fields}}function bc(i,e,t){const o=Ti(i,e.name),l=Ks(e.updateTime),h=new J({mapValue:{fields:e.fields}}),b=Re.newFoundDocument(o,l,h);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function El(i,e){let t;if(e instanceof _l)t={update:Zl(i,e.key,e.value)};else if(e instanceof Pu)t={delete:Wl(i,e.key)};else if(e instanceof Hl)t={update:Zl(i,e.key,e.data),updateMask:pn(e.fieldMask)};else{if(!(e instanceof Nu))return f();t={verify:Wl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const b=h.transform;if(b instanceof ml)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof yl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ul)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Su)return{fieldPath:h.field.canonicalString(),increment:b.k};throw f()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:hh(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:f()),t;var l}function ud(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?vs.updateTime(Ks(l.updateTime)):void 0!==l.exists?vs.exists(l.exists):vs.none():vs.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(h,b){let x=null;"setToServerValue"in b?(C("REQUEST_TIME"===b.setToServerValue),x=new ml):"appendMissingElements"in b?x=new yl(b.appendMissingElements.values||[]):"removeAllFromArray"in b?x=new Ul(b.removeAllFromArray.values||[]):"increment"in b?x=new Su(h,b.increment):f();const z=On.fromServerFormat(b.fieldPath);return new jl(z,x)}(i,l)):[];var l;if(e.update){const l=Ti(i,e.update.name),h=new J({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new jr((e.updateMask.fieldPaths||[]).map(Y=>On.fromServerFormat(Y)));return new Hl(l,h,b,t,o)}return new _l(l,h,t,o)}if(e.delete){const l=Ti(i,e.delete);return new Pu(l,t)}if(e.verify){const l=Ti(i,e.verify);return new Nu(l,t)}return f()}function gh(i,e){return{documents:[Bu(i,e.path)]}}function cd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Bu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(z){if(0===z.length)return;const Y=z.map(fe=>function(Me){if("=="===Me.op){if(bu(Me.value))return{unaryFilter:{field:te(Me.field),op:"IS_NAN"}};if(So(Me.value))return{unaryFilter:{field:te(Me.field),op:"IS_NULL"}}}else if("!="===Me.op){if(bu(Me.value))return{unaryFilter:{field:te(Me.field),op:"IS_NOT_NAN"}};if(So(Me.value))return{unaryFilter:{field:te(Me.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:te(Me.field),op:G(Me.op),value:Me.value}}}(fe));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(z){if(0!==z.length)return z.map(Y=>{return{field:te((fe=Y).field),direction:I(fe.dir)};var fe})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const b=(Y=e.limit,i.N||Ws(Y)?Y:{value:Y});var Y,x,z;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),t}function w(i){let e=wc(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){C(1===o);const fe=t.from[0];fe.allDescendants?l=fe.collectionId:e=e.child(fe.collectionId)}let h=[];t.where&&(h=m(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(fe=>{return new Tu(ke((Me=fe).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Me.direction));var Me}));let x=null;t.limit&&(x=function(fe){let Me;return Me="object"==typeof fe?fe.value:fe,Ws(Me)?null:Me}(t.limit));let z=null;var fe;t.startAt&&(z=new ma((fe=t.startAt).values||[],!!fe.before));let Y=null;return t.endAt&&(Y=function(fe){return new ma(fe.values||[],!fe.before)}(t.endAt)),lc(e,l,b,h,x,"F",z,Y)}function m(i){return i?void 0!==i.unaryFilter?[Ut(i)]:void 0!==i.fieldFilter?[it(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>m(e)).reduce((e,t)=>e.concat(t)):f():[]}function I(i){return ld[i]}function G(i){return ch[i]}function te(i){return{fieldPath:i.canonicalString()}}function ke(i){return On.fromServerFormat(i.fieldPath)}function it(i){return ds.create(ke(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return f()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ut(i){switch(i.unaryFilter.op){case"IS_NAN":const e=ke(i.unaryFilter.field);return ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ke(i.unaryFilter.field);return ds.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ke(i.unaryFilter.field);return ds.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ke(i.unaryFilter.field);return ds.create(l,"!=",{nullValue:"NULL_VALUE"});default:return f()}}function pn(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Nn(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function an(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ko(e)),e=es(i.get(t),e);return Ko(e)}function es(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function Ko(i){return i+"\x01\x01"}function Oo(i){const e=i.length;if(C(e>=2),2===e)return C("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Pt.emptyPath();const t=e-2,o=[];let l="";for(let h=0;h<e;){const b=i.indexOf("\x01",h);switch((b<0||b>t)&&f(),i.charAt(b+1)){case"\x01":const x=i.substring(h,b);let z;0===l.length?z=x:(l+=x,z=l,l=""),o.push(z);break;case"\x10":l+=i.substring(h,b),l+="\0";break;case"\x11":l+=i.substring(h,b+1);break;default:f()}h=b+2}return new Pt(o)}const ju=["userId","batchId"];function tl(i,e){return[i,an(e)]}function Ec(i,e,t){return[i,an(e),t]}const Ff={},nl=["prefixPath","collectionGroup","readTime","documentId"],Cc=["prefixPath","collectionGroup","documentId"],dd=["collectionGroup","readTime","prefixPath","documentId"],hd=["canonicalId","targetId"],Ic=["targetId","path"],Lf=["path","targetId"],fd=["collectionId","parent"],Vf=["indexId","uid"],Sy=["uid","sequenceNumber"],My=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xy=["indexId","uid","orderedDocumentKey"],Rg=["userId","collectionPath","documentId"],Bf=["userId","collectionPath","largestBatchId"],kg=["userId","collectionGroup","largestBatchId"],mh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oy=[...mh,"documentOverlays"],Fg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lg=[...Fg,"indexConfiguration","indexState","indexEntries"],Uf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&f(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,o)=>{t(e)})}static reject(e){return new at((t,o)=>{o(e)})}static waitFor(e){return new at((t,o)=>{let l=0,h=0,b=!1;e.forEach(x=>{++l,x.next(()=>{++h,b&&h===l&&t()},z=>o(z))}),b=!0,h===l&&t()})}static or(e){let t=at.resolve(!1);for(const o of e)t=t.next(l=>l?at.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}}class pd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Ae,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new gd(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=_h(o.target.error);this.At.reject(new gd(e,l))}}static open(e,t,o,l){try{return new pd(t,e.transaction(l,o))}catch(h){throw new gd(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(v("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vg(t)}}class Ba{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===Ba.Vt((0,Ke.z$)())&&_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return v("SimpleDb","Removing database:",e),Ql(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ke.hl)())return!1;if(Ba.St())return!0;const e=(0,Ke.z$)(),t=Ba.Vt(e),o=0<t&&t<10,l=Ba.Dt(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,ie.Z)(function*(){return t.db||(v("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=b=>{o(b.target.result)},h.onblocked=()=>{l(new gd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=b=>{const x=b.target.error;l("VersionError"===x.name?new K(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new K(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new gd(e,x))},h.onupgradeneeded=b=>{v("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.bt.kt(b.target.result,h.transaction,b.oldVersion,t.version).next(()=>{v("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var h=this;return(0,ie.Z)(function*(){const b="readonly"===t;let x=0;for(;;){++x;try{h.db=yield h.Nt(e);const z=pd.open(h.db,e,b?"readonly":"readwrite",o),Y=l(z).next(fe=>(z.Pt(),fe)).catch(fe=>(z.abort(fe),at.reject(fe))).toPromise();return Y.catch(()=>{}),yield z.Rt,Y}catch(z){const Y="FirebaseError"!==z.name&&x<3;if(v("SimpleDb","Transaction failed with error:",z.message,"Retrying:",Y),h.close(),!Y)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yh{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ql(this.Ft.delete())}}class gd extends K{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Yl(i){return"IndexedDbTransactionError"===i.name}class Vg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(v("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ql(o)}add(e){return v("SimpleDb","ADD",this.store.name,e,e),Ql(this.store.add(e))}get(e){return Ql(this.store.get(e)).next(t=>(void 0===t&&(t=null),v("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return v("SimpleDb","DELETE",this.store.name,e),Ql(this.store.delete(e))}count(){return v("SimpleDb","COUNT",this.store.name),Ql(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),h=[];return this.Kt(l,(b,x)=>{h.push(x)}).next(()=>h)}{const l=this.store.getAll(o.range);return new at((h,b)=>{l.onerror=x=>{b(x.target.error)},l.onsuccess=x=>{h(x.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new at((l,h)=>{o.onerror=b=>{h(b.target.error)},o.onsuccess=b=>{l(b.target.result)}})}Qt(e,t){v("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Kt(l,(h,b,x)=>x.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Kt(l,t)}zt(e){const t=this.cursor({});return new at((o,l)=>{t.onerror=h=>{const b=_h(h.target.error);l(b)},t.onsuccess=h=>{const b=h.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}Kt(e,t){const o=[];return new at((l,h)=>{e.onerror=b=>{h(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void l();const z=new yh(x),Y=t(x.primaryKey,x.value,z);if(Y instanceof at){const fe=Y.catch(Me=>(z.done(),at.reject(Me)));o.push(fe)}z.isDone?l():null===z.Lt?x.continue():x.continue(z.Lt)}}).next(()=>at.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ql(i){return new at((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=_h(o.target.error);t(l)}})}let vh=!1;function _h(i){const e=Ba.Vt((0,Ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vh||(vh=!0,setTimeout(()=>{throw o},0)),o}}return i}class md extends Kl{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ls(i,e){const t=P(i);return Ba.xt(t.Ht,e)}class wh{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&Og(h,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&fc(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&fc(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(zt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(t,o)=>pc(t,o))&&Ji(this.baseMutations,e.baseMutations,(t,o)=>pc(t,o))}}class yd{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){C(e.mutations.length===o.length);let l=Ng;const h=e.mutations;for(let b=0;b<h.length;b++)l=l.insert(h[b].key,o[b].version);return new yd(e,t,o,l)}}class bh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rl{constructor(e,t,o,l,h=zt.min(),b=zt.min(),x=Mn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Dc{constructor(e){this.Jt=e}}function jf(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Eh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Wl(l=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Lu(l,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return f();o.unknownDocument={path:t.path.toArray(),version:Hu(e.version)}}var l,h;return o}function Eh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(i){const e=new Ni(i.seconds,i.nanoseconds);return zt.fromTimestamp(e)}function Xl(i,e){const t=(e.baseMutations||[]).map(h=>ud(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const b=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(b.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>ud(i.Jt,h)),l=Ni.fromMillis(e.localWriteTimeMs);return new wh(e.batchId,l,t,o)}function Tc(i){const e=Jl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Jl(i.lastLimboFreeSnapshotVersion):zt.min();let o;var l;return void 0!==i.query.documents?(C(1===(l=i.query).documents.length),o=Zo(ya(wc(l.documents[0])))):o=Zo(w(i.query)),new rl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Mn.fromBase64String(i.resumeToken))}function Ny(i,e){const t=Hu(e.snapshotVersion),o=Hu(e.lastLimboFreeSnapshotVersion);let l;l=ea(e.target)?gh(i.Jt,e.target):cd(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zs(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Ch(i){const e=w({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?cc(e,e.limit,"L"):e}function Hf(i,e){return new bh(e.largestBatchId,ud(i.Jt,e.overlayMutation))}function $f(i,e){const t=e.path.lastSegment();return[i,an(e.path.popLast()),t]}class Ry{getBundleMetadata(e,t){return Bg(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Jl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Bg(e).put({bundleId:(o=t).id,createTime:Hu(Ks(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return xa(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Ch(l.bundledQuery),readTime:Jl(l.readTime)};var l})}saveNamedQuery(e,t){return xa(e).put({name:(o=t).name,readTime:Hu(Ks(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Bg(i){return Ls(i,"bundles")}function xa(i){return Ls(i,"namedQueries")}class Gf{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Gf(e,t.uid||"")}getOverlay(e,t){return Ac(e).get($f(this.userId,t)).next(o=>o?Hf(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((h,b)=>{const x=new bh(t,b);l.push(this.Xt(e,x))}),at.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(b=>l.add(an(b.getCollectionPath())));const h=[];return l.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);h.push(Ac(e).Qt("collectionPathOverlayIndex",x))}),at.waitFor(h)}getOverlaysForCollection(e,t,o){const l=vc(),h=an(t),b=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Ac(e).qt("collectionPathOverlayIndex",b).next(x=>{for(const z of x){const Y=Hf(this.M,z);l.set(Y.getKey(),Y)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const h=vc();let b;const x=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ac(e).Wt({index:"collectionGroupOverlayIndex",range:x},(z,Y,fe)=>{const Me=Hf(this.M,Y);h.size()<l||Me.largestBatchId===b?(h.set(Me.getKey(),Me),b=Me.largestBatchId):fe.done()}).next(()=>h)}Xt(e,t){return Ac(e).put(function(o,l,h){const[b,x,z]=$f(l,h.mutation.key);return{userId:l,collectionPath:x,documentId:z,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:El(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function Ac(i){return Ls(i,"documentOverlays")}class $u{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Di(e.integerValue));else if("doubleValue"in e){const o=Di(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),ha(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Go(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?Aa(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):f()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),Bt.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ky(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Ug(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const h=ky(255&t[l]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}$u.fe=new $u;class Fy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=Ug(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=Ug(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class jg{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Ly{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class vd{constructor(){this.De=new Fy,this.Ce=new jg(this.De),this.xe=new Ly(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class eu{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new eu(this.indexId,this.documentKey,this.arrayValue,o)}}function Un(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=zf(i.arrayValue,e.arrayValue),0!==t?t:(t=zf(i.directionalValue,e.directionalValue),0!==t?t:Bt.comparator(i.documentKey,e.documentKey)))}function zf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Hg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=It(e);if(void 0!==t&&!this.Be(t))return!1;const o=Jt(e);let l=0,h=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const b=o[l];if(!this.Le(this.Fe,b)||!this.Ue(this.Me[h++],b))return!1;++l}for(;l<o.length;++l){const b=o[l];if(h>=this.Me.length||!this.Ue(this.Me[h++],b))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class $g{constructor(){this.qe=new Sc}addToCollectionParentIndex(e,t){return this.qe.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getFieldIndex(e,t){return at.resolve(null)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}updateCollectionGroup(e,t,o){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class Sc{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new mi(Pt.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new mi(Pt.comparator)).toArray()}}const Po=new Uint8Array(0);class Gg{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Sc,this.Ge=new el(o=>Zs(o),(o,l)=>Mo(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const h={collectionId:o,parent:an(l)};return zg(e).put(h)}return at.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[oo(t),""],!1,!0);return zg(e).qt(l).next(h=>{for(const b of h){if(b.collectionId!==t)break;o.push(Oo(b.parent))}return o})}addFieldIndex(e,t){const o=Oa(e),l={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var h;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=Oa(e),l=Mc(e),h=Gu(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Gu(e);let l=!0;const h=new Map;return at.forEach(this.Qe(t),b=>this.getFieldIndex(e,b).next(x=>{l&&(l=!!x),h.set(b,x)})).next(()=>{if(l){let b=Kn();const x=[];return at.forEach(h,(z,Y)=>{var fe;v("IndexedDbIndexManager",`Using index ${fe=z,`id=${fe.indexId}|cg=${fe.collectionGroup}|f=${fe.fields.map(Ai=>`${Ai.fieldPath}:${Ai.kind}`).join(",")}`} to execute ${Zs(t)}`);const Me=function(Ai,Qs){const ns=It(Qs);if(void 0===ns)return null;for(const bs of Cu(Ai,ns.fieldPath))switch(bs.op){case"array-contains-any":return bs.value.arrayValue.values||[];case"array-contains":return[bs.value]}return null}(Y,z),et=function(Ai,Qs){const ns=new Map;for(const bs of Jt(Qs))for(const Fo of Cu(Ai,bs.fieldPath))switch(Fo.op){case"==":case"in":ns.set(bs.fieldPath.canonicalString(),Fo.value);break;case"not-in":case"!=":return ns.set(bs.fieldPath.canonicalString(),Fo.value),Array.from(ns.values())}return null}(Y,z),gt=function(Ai,Qs){const ns=[];let bs=!0;for(const Fo of Jt(Qs)){const yu=0===Fo.kind?ed(Ai,Fo.fieldPath,Ai.startAt):Iu(Ai,Fo.fieldPath,Ai.startAt);if(!yu.value)return null;ns.push(yu.value),bs&&(bs=yu.inclusive)}return new ma(ns,bs)}(Y,z),yt=function(Ai,Qs){const ns=[];let bs=!0;for(const Fo of Jt(Qs)){const yu=0===Fo.kind?Iu(Ai,Fo.fieldPath,Ai.endAt):ed(Ai,Fo.fieldPath,Ai.endAt);if(!yu.value)return null;ns.push(yu.value),bs&&(bs=yu.inclusive)}return new ma(ns,bs)}(Y,z),dn=this.je(z,Y,gt),Jn=this.je(z,Y,yt),qi=this.We(z,Y,et),ts=this.ze(z.indexId,Me,dn,!!gt&&gt.inclusive,Jn,!!yt&&yt.inclusive,qi);return at.forEach(ts,Ai=>o.Gt(Ai,t.limit).next(Qs=>{Qs.forEach(ns=>{const bs=Bt.fromSegments(ns.documentKey);b.has(bs)||(b=b.add(bs),x.push(bs))})}))}).next(()=>x)}return at.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,l,h,b,x){const z=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),Y=z/(null!=t?t.length:1),fe=[];for(let Me=0;Me<z;++Me){const et=t?this.He(t[Me/Y]):Po,gt=o?this.Je(e,et,o[Me%Y],l):this.Ye(e),yt=h?this.Xe(e,et,h[Me%Y],b):this.Ye(e+1);fe.push(...this.createRange(gt,yt,x.map(dn=>this.Je(e,et,dn,!0))))}return fe}Je(e,t,o,l){const h=new eu(e,Bt.empty(),t,o);return l?h:h.ke()}Xe(e,t,o,l){const h=new eu(e,Bt.empty(),t,o);return l?h.ke():h}Ye(e){return new eu(e,Bt.empty(),Po,Po)}getFieldIndex(e,t){const o=new Hg(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{const b=h.filter(x=>o.$e(x));return b.sort((x,z)=>z.fields.length-x.fields.length),b.length>0?b[0]:null})}Ze(e,t){const o=new vd;for(const l of Jt(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const b=o.Ne(l.kind);$u.fe.Zt(h,b)}return o.Se()}He(e){const t=new vd;return $u.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new vd;return $u.fe.Zt(ga(this.databaseId,t),o.Ne(function(l){const h=Jt(l);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let l=[];l.push(new vd);let h=0;for(const b of Jt(e)){const x=o[h++];for(const z of l)if(this.en(t,b.fieldPath)&&dl(x))l=this.nn(l,b,x);else{const Y=z.Ne(b.kind);$u.fe.Zt(x,Y)}}return this.sn(l)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const l=[...e],h=[];for(const b of o.arrayValue.values||[])for(const x of l){const z=new vd;z.seed(x.Se()),$u.fe.Zt(b,z.Ne(t.kind)),h.push(z)}return h}en(e,t){return!!e.filters.find(o=>o instanceof ds&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Oa(e),l=Mc(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const b=[];return at.forEach(h,x=>l.get([x.indexId,this.uid]).next(z=>{b.push(function(Y,fe){const Me=fe?new Pn(fe.sequenceNumber,new hi(Jl(fe.readTime),new Bt(Oo(fe.documentKey)),fe.largestBatchId)):Pn.empty(),et=Y.fields.map(([gt,yt])=>new fn(On.fromServerFormat(gt),yt));return new Ze(Y.indexId,Y.collectionGroup,et,Me)}(x,z))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const h=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:Sn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=Oa(e),h=Mc(e);return this.rn(e).next(b=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>at.forEach(x,z=>{return h.put({indexId:z.indexId,uid:this.user.uid||"",sequenceNumber:b,readTime:Hu((et=o).readTime),documentKey:an(et.documentKey.path),largestBatchId:et.largestBatchId});var et})))}updateIndexEntries(e,t){const o=new Map;return at.forEach(t,(l,h)=>{const b=o.get(l.collectionGroup);return(b?at.resolve(b):this.getFieldIndexes(e,l.collectionGroup)).next(x=>(o.set(l.collectionGroup,x),at.forEach(x,z=>this.on(e,l,z).next(Y=>{const fe=this.un(h,z);return Y.isEqual(fe)?at.resolve():this.an(e,h,z,Y,fe)}))))})}cn(e,t,o,l){return Gu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,l){return Gu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const l=Gu(e);let h=new mi(Un);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(b,x)=>{h=h.add(new eu(o.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>h)}un(e,t){let o=new mi(Un);const l=this.Ze(t,e);if(null==l)return o;const h=It(t);if(null!=h){const b=e.data.field(h.fieldPath);if(dl(b))for(const x of b.arrayValue.values||[])o=o.add(new eu(t.indexId,e.key,this.He(x),l))}else o=o.add(new eu(t.indexId,e.key,Po,l));return o}an(e,t,o,l,h){v("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(x,z,Y,fe,Me){const et=x.getIterator(),gt=z.getIterator();let yt=zl(et),dn=zl(gt);for(;yt||dn;){let Jn=!1,qi=!1;if(yt&&dn){const ts=Y(yt,dn);ts<0?qi=!0:ts>0&&(Jn=!0)}else null!=yt?qi=!0:Jn=!0;Jn?(fe(dn),dn=zl(gt)):qi?(Me(yt),yt=zl(et)):(yt=zl(et),dn=zl(gt))}}(l,h,Un,x=>{b.push(this.cn(e,t,o,x))},x=>{b.push(this.hn(e,t,o,x))}),at.waitFor(b)}rn(e){let t=1;return Mc(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,x)=>Un(b,x)).filter((b,x,z)=>!x||0!==Un(b,z[x-1]));const l=[];l.push(e);for(const b of o){const x=Un(b,e),z=Un(b,t);if(0===x)l[0]=e.ke();else if(x>0&&z<0)l.push(b),l.push(b.ke());else if(z>0)break}l.push(t);const h=[];for(let b=0;b<l.length;b+=2)h.push(IDBKeyRange.bound([l[b].indexId,this.uid,l[b].arrayValue,l[b].directionalValue,Po,[]],[l[b+1].indexId,this.uid,l[b+1].arrayValue,l[b+1].directionalValue,Po,[]]));return h}}function zg(i){return Ls(i,"collectionParents")}function Gu(i){return Ls(i,"indexEntries")}function Oa(i){return Ls(i,"indexConfiguration")}function Mc(i){return Ls(i,"indexState")}const qf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class No{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new No(e,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vy(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),h=[],b=IDBKeyRange.only(t.batchId);let x=0;const z=o.Wt({range:b},(fe,Me,et)=>(x++,et.delete()));h.push(z.next(()=>{C(1===x)}));const Y=[];for(const fe of t.mutations){const Me=Ec(e,fe.key.path,t.batchId);h.push(l.delete(Me)),Y.push(fe.key)}return at.waitFor(h).next(()=>Y)}function _d(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw f();e=i.noDocument}return JSON.stringify(e).length}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class qg{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.ln={}}static Yt(e,t,o,l){C(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new qg(h,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).Wt({index:"userMutationsIndex",range:o},(l,h,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const h=tu(e),b=Ua(e);return b.add({}).next(x=>{C("number"==typeof x);const z=new wh(x,t,o,l),Y=function(et,gt,yt){const dn=yt.baseMutations.map(qi=>El(et.Jt,qi)),Jn=yt.mutations.map(qi=>El(et.Jt,qi));return{userId:gt,batchId:yt.batchId,localWriteTimeMs:yt.localWriteTime.toMillis(),baseMutations:dn,mutations:Jn}}(this.M,this.userId,z),fe=[];let Me=new mi((et,gt)=>Sn(et.canonicalString(),gt.canonicalString()));for(const et of l){const gt=Ec(this.userId,et.key.path,x);Me=Me.add(et.key.path.popLast()),fe.push(b.put(Y)),fe.push(h.put(gt,Ff))}return Me.forEach(et=>{fe.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.ln[x]=z.keys()}),at.waitFor(fe).next(()=>z)})}lookupMutationBatch(e,t){return Ua(e).get(t).next(o=>o?(C(o.userId===this.userId),Xl(this.M,o)):null)}fn(e,t){return this.ln[t]?at.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.ln[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Ua(e).Wt({index:"userMutationsIndex",range:l},(b,x,z)=>{x.userId===this.userId&&(C(x.batchId>=o),h=Xl(this.M,x)),z.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ua(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,h,b)=>{o=h.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ua(e).qt("userMutationsIndex",t).next(o=>o.map(l=>Xl(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=tl(this.userId,t.path),l=IDBKeyRange.lowerBound(o),h=[];return tu(e).Wt({range:l},(b,x,z)=>{const[Y,fe,Me]=b,et=Oo(fe);if(Y===this.userId&&t.path.isEqual(et))return Ua(e).get(Me).next(gt=>{if(!gt)throw f();C(gt.userId===this.userId),h.push(Xl(this.M,gt))});z.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(Sn);const l=[];return t.forEach(h=>{const b=tl(this.userId,h.path),x=IDBKeyRange.lowerBound(b),z=tu(e).Wt({range:x},(Y,fe,Me)=>{const[et,gt,yt]=Y,dn=Oo(gt);et===this.userId&&h.path.isEqual(dn)?o=o.add(yt):Me.done()});l.push(z)}),at.waitFor(l).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,h=tl(this.userId,o),b=IDBKeyRange.lowerBound(h);let x=new mi(Sn);return tu(e).Wt({range:b},(z,Y,fe)=>{const[Me,et,gt]=z,yt=Oo(et);Me===this.userId&&o.isPrefixOf(yt)?yt.length===l&&(x=x.add(gt)):fe.done()}).next(()=>this.dn(e,x))}dn(e,t){const o=[],l=[];return t.forEach(h=>{l.push(Ua(e).get(h).next(b=>{if(null===b)throw f();C(b.userId===this.userId),o.push(Xl(this.M,b))}))}),at.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Vy(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),at.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return tu(e).Wt({range:o},(h,b,x)=>{if(h[0]===this.userId){const z=Oo(h[1]);l.push(z)}else x.done()}).next(()=>{C(0===l.length)})})}containsKey(e,t){return wd(e,this.userId,t)}wn(e){return Ih(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wd(i,e,t){const o=tl(e,t.path),l=o[1],h=IDBKeyRange.lowerBound(o);let b=!1;return tu(i).Wt({range:h,jt:!0},(x,z,Y)=>{const[fe,Me,et]=x;fe===e&&Me===l&&(b=!0),Y.done()}).next(()=>b)}function Ua(i){return Ls(i,"mutations")}function tu(i){return Ls(i,"documentMutations")}function Ih(i){return Ls(i,"mutationQueues")}class Cl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Cl(0)}static yn(){return new Cl(-1)}}class U_{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Cl(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>zt.fromTimestamp(new Ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.In(e,l)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xc(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(C(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let l=0;const h=[];return xc(e).Wt((b,x)=>{const z=Tc(x);z.sequenceNumber<=t&&null===o.get(z.targetId)&&(l++,h.push(this.removeTargetData(e,z)))}).next(()=>at.waitFor(h)).next(()=>l)}forEachTarget(e,t){return xc(e).Wt((o,l)=>{const h=Tc(l);t(h)})}pn(e){return Wg(e).get("targetGlobalKey").next(t=>(C(null!==t),t))}In(e,t){return Wg(e).put("targetGlobalKey",t)}Tn(e,t){return xc(e).put(Ny(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Zs(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return xc(e).Wt({range:l,index:"queryTargetsIndex"},(b,x,z)=>{const Y=Tc(x);Mo(t,Y.target)&&(h=Y,z.done())}).next(()=>h)}addMatchingKeys(e,t,o){const l=[],h=nu(e);return t.forEach(b=>{const x=an(b.path);l.push(h.put({targetId:o,path:x})),l.push(this.referenceDelegate.addReference(e,o,b))}),at.waitFor(l)}removeMatchingKeys(e,t,o){const l=nu(e);return at.forEach(t,h=>{const b=an(h.path);return at.waitFor([l.delete([o,b]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=nu(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=nu(e);let h=Kn();return l.Wt({range:o,jt:!0},(b,x,z)=>{const Y=Oo(b[1]),fe=new Bt(Y);h=h.add(fe)}).next(()=>h)}containsKey(e,t){const o=an(t.path),l=IDBKeyRange.bound([o],[oo(o)],!1,!0);let h=0;return nu(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([b,x],z,Y)=>{0!==b&&(h++,Y.done())}).next(()=>h>0)}Et(e,t){return xc(e).get(t).next(o=>o?Tc(o):null)}}function xc(i){return Ls(i,"targets")}function Wg(i){return Ls(i,"targetGlobal")}function nu(i){return Ls(i,"targetDocuments")}function zu(i){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,ie.Z)(function*(i){if(i.code!==U.FAILED_PRECONDITION||i.message!==Uf)throw i;v("LocalStore","Unexpectedly lost primary lease")}),Dh.apply(this,arguments)}function By([i,e],[t,o]){const l=Sn(i,t);return 0===l?Sn(e,o):l}class Uy{constructor(e){this.An=e,this.buffer=new mi(By),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();By(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class j_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;v("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,ie.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){Yl(l)?v("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield zu(l)}yield t.Sn(e)}))}}class Zg{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return at.resolve(Ur.A);const o=new Uy(t);return this.Dn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Dn.xn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(qf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qf):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,l,h,b,x,z,Y;const fe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(v("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),l=this.params.maximumSequenceNumbersToCollect):l=Me,b=Date.now(),this.nthSequenceNumber(e,l))).next(Me=>(o=Me,x=Date.now(),this.removeTargets(e,o,t))).next(Me=>(h=Me,z=Date.now(),this.removeOrphanedDocuments(e,o))).next(Me=>(Y=Date.now(),To()<=qe.in.DEBUG&&v("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-fe}ms\n\tDetermined least recently used ${l} in `+(x-b)+`ms\n\tRemoved ${h} targets in `+(z-x)+`ms\n\tRemoved ${Me} documents in `+(Y-z)+`ms\nTotal Duration: ${Y-fe}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:Me})))}}class Kg{constructor(e,t){this.db=e,this.garbageCollector=new Zg(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,l)=>t(l))}addReference(e,t,o){return Th(e,o)}removeReference(e,t,o){return Th(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Th(e,t)}On(e,t){return function(o,l){let h=!1;return Ih(o).zt(b=>wd(o,b,l).next(x=>(x&&(h=!0),at.resolve(!x)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Mn(e,(b,x)=>{if(x<=t){const z=this.On(e,b).next(Y=>{if(!Y)return h++,o.getEntry(e,b).next(()=>(o.removeEntry(b,zt.min()),nu(e).delete([0,an(b.path)])))});l.push(z)}}).next(()=>at.waitFor(l)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Th(e,t)}Mn(e,t){const o=nu(e);let l,h=Ur.A;return o.Wt({index:"documentTargetsIndex"},([b,x],{path:z,sequenceNumber:Y})=>{0===b?(h!==Ur.A&&t(new Bt(Oo(l)),h),h=Y,l=z):h=Ur.A}).next(()=>{h!==Ur.A&&t(new Bt(Oo(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Th(i,e){return nu(i).put((o=i.currentSequenceNumber,{targetId:0,path:an(e.path),sequenceNumber:o}));var o}class Ah{constructor(){this.changes=new el(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Re.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?at.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class H_{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Oc(e).put(o)}removeEntry(e,t,o){return Oc(e).delete(function(l,h){const b=l.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Eh(h),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=Re.newInvalidDocument(t);return Oc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sh(t))},(l,h)=>{o=this.$n(t,h)}).next(()=>o)}Bn(e,t){let o={size:0,document:Re.newInvalidDocument(t)};return Oc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sh(t))},(l,h)=>{o={document:this.$n(t,h),size:_d(h)}}).next(()=>o)}getEntries(e,t){let o=ra();return this.Ln(e,t,(l,h)=>{const b=this.$n(l,h);o=o.insert(l,b)}).next(()=>o)}Un(e,t){let o=ra(),l=new or(Bt.comparator);return this.Ln(e,t,(h,b)=>{const x=this.$n(h,b);o=o.insert(h,x),l=l.insert(h,_d(b))}).next(()=>({documents:o,qn:l}))}Ln(e,t,o){if(t.isEmpty())return at.resolve();let l=new mi($y);t.forEach(z=>l=l.add(z));const h=IDBKeyRange.bound(Sh(l.first()),Sh(l.last())),b=l.getIterator();let x=b.getNext();return Oc(e).Wt({index:"documentKeyIndex",range:h},(z,Y,fe)=>{const Me=Bt.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;x&&$y(x,Me)<0;)o(x,null),x=b.getNext();x&&x.isEqual(Me)&&(o(x,Y),x=b.hasNext()?b.getNext():null),x?fe.Ut(Sh(x)):fe.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),Eh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oc(e).qt(IDBKeyRange.bound(l,h,!0)).next(b=>{let x=ra();for(const z of b){const Y=this.$n(Bt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);x=x.insert(Y.key,Y)}return x})}getAllFromCollectionGroup(e,t,o,l){let h=ra();const b=Hy(t,o),x=Hy(t,hi.max());return Oc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(z,Y,fe)=>{const Me=this.$n(Bt.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);h=h.insert(Me.key,Me),h.size===l&&fe.done()}).next(()=>h)}newChangeBuffer(e){return new $_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jy(e).get("remoteDocumentGlobalKey").next(t=>(C(!!t),t))}Fn(e,t){return jy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function Py(i,e){let t;if(e.document)t=bc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Bt.fromSegments(e.noDocument.path),l=Jl(e.noDocument.readTime);t=Re.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return f();{const o=Bt.fromSegments(e.unknownDocument.path),l=Jl(e.unknownDocument.version);t=Re.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Ni(o[0],o[1]);return zt.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(zt.min()))return o}return Re.newInvalidDocument(e)}}class $_ extends Ah{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new el(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new mi((h,b)=>Sn(h.canonicalString(),b.canonicalString()));return this.changes.forEach((h,b)=>{const x=this.Gn.get(h);if(t.push(this.Kn.removeEntry(e,h,x.readTime)),b.isValidDocument()){const z=jf(this.Kn.M,b);l=l.add(h.path.popLast()),o+=_d(z)-x.size,t.push(this.Kn.addEntry(e,h,z))}else if(o-=x.size,this.trackRemovals){const z=jf(this.Kn.M,b.convertToNoDocument(zt.min()));t.push(this.Kn.addEntry(e,h,z))}}),l.forEach(h=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Kn.updateMetadata(e,o)),at.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:l})=>(l.forEach((h,b)=>{this.Gn.set(h,{size:b,readTime:o.get(h).readTime})}),o))}}function jy(i){return Ls(i,"remoteDocumentGlobal")}function Oc(i){return Ls(i,"remoteDocumentsV14")}function Sh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hy(i,e){const t=e.documentKey.path.toArray();return[i,Eh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $y(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(l=Sn(t[h],o[h]),l)return l;return l=Sn(t.length,o.length),l||(l=Sn(t[t.length-2],o[o.length-2]),l||Sn(t[t.length-1],o[o.length-1]))}class G_{constructor(e){this.M=e}kt(e,t,o,l){const h=new pd("createOrUpgrade",t);var x;o<1&&l>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ju,{unique:!0}),x.createObjectStore("documentMutations"),Gy(e),function(x){x.createObjectStore("remoteDocuments")}(e));let b=at.resolve();return o<3&&l>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),Gy(e)),b=b.next(()=>function(x){const z=x.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zt.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",Y)}(h))),o<4&&l>=4&&(0!==o&&(b=b.next(()=>function(x,z){return z.store("mutations").qt().next(Y=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ju,{unique:!0});const fe=z.store("mutations"),Me=Y.map(et=>fe.put(et));return at.waitFor(Me)})}(e,h))),b=b.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(b=b.next(()=>this.Qn(h))),o<6&&l>=6&&(b=b.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&l>=7&&(b=b.next(()=>this.Wn(h))),o<8&&l>=8&&(b=b.next(()=>this.zn(e,h))),o<9&&l>=9&&(b=b.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(b=b.next(()=>this.Hn(h))),o<11&&l>=11&&(b=b.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(b=b.next(()=>{!function(x){const z=x.createObjectStore("documentOverlays",{keyPath:Rg});z.createIndex("collectionPathOverlayIndex",Bf,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",kg,{unique:!1})}(e)})),o<13&&l>=13&&(b=b.next(()=>function(x){const z=x.createObjectStore("remoteDocumentsV14",{keyPath:nl});z.createIndex("documentKeyIndex",Cc),z.createIndex("collectionGroupIndex",dd)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(b=b.next(()=>{!function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Vf}).createIndex("sequenceNumberIndex",Sy,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:My}).createIndex("documentKeyIndex",xy,{unique:!1})}(e)})),b}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=_d(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>at.forEach(l,h=>{const b=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",b).next(x=>at.forEach(x,z=>{C(z.userId===h.userId);const Y=Xl(this.M,z);return Vy(e,h.userId,Y).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return o.Wt((b,x)=>{const z=new Pt(b),Y=[0,an(z)];h.push(t.get(Y).next(fe=>fe?at.resolve():t.put({targetId:0,path:an(z),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>at.waitFor(h))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:fd});const o=t.store("collectionParents"),l=new Sc,h=b=>{if(l.add(b)){const x=b.lastSegment(),z=b.popLast();return o.put({collectionId:x,parent:an(z)})}};return t.store("remoteDocuments").Wt({jt:!0},(b,x)=>{const z=new Pt(b);return h(z.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([b,x,z],Y)=>{const fe=Oo(x);return h(fe.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,l)=>{const h=Tc(l),b=Ny(this.M,h);return t.put(b)})}Jn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((h,b)=>{const x=t.store("remoteDocumentsV14"),z=(Y=b,Y.document?new Bt(Pt.fromString(Y.document.name).popFirst(5)):Y.noDocument?Bt.fromSegments(Y.noDocument.path):Y.unknownDocument?Bt.fromSegments(Y.unknownDocument.path):f()).path.toArray();var Y;const fe={prefixPath:z.slice(0,z.length-2),collectionGroup:z[z.length-2],documentId:z[z.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};l.push(x.put(fe))}).next(()=>at.waitFor(l))}}function Gy(i){i.createObjectStore("targetDocuments",{keyPath:Ic}).createIndex("documentTargetsIndex",Lf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hd,{unique:!0}),i.createObjectStore("targetGlobal")}const Yg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class il{constructor(e,t,o,l,h,b,x,z,Y,fe,Me=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=h,this.window=b,this.document=x,this.Xn=Y,this.Zn=fe,this.ts=Me,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=et=>Promise.resolve(),!il.vt())throw new K(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kg(this,l),this.hs=t+"main",this.M=new Dc(z),this.ls=new Ba(this.hs,this.ts,new G_(this.M)),this.fs=new U_(this.referenceDelegate,this.M),this.ds=new H_(this.M),this._s=new Ry,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===fe&&_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K(U.FAILED_PRECONDITION,Yg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ur(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,ie.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ie.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ie.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Yl(e))return v("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return qu(e).get("owner").next(t=>at.resolve(this.bs(t)))}Vs(e){return Mh(e).delete(this.clientId)}vs(){var e=this;return(0,ie.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ls(o,"clientMetadata");return l.qt().next(h=>{const b=e.Ds(h,18e5),x=h.filter(z=>-1===b.indexOf(z));return at.forEach(x,z=>l.delete(z.clientId)).next(()=>x)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?at.resolve(!0):qu(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new K(U.FAILED_PRECONDITION,Yg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mh(e).qt().next(o=>void 0===this.Ds(o,5e3).find(l=>{if(this.clientId!==l.clientId){const b=!this.inForeground&&l.inForeground,x=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||b&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&v("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ie.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new md(t,Ur.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Mh(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return qg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Gg(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Gf.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){v("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=14===(b=this.ts)?Lg:13===b?Fg:12===b?Oy:11===b?mh:void f();var b;let x;return this.ls.runTransaction(e,l,h,z=>(x=new md(z,this.es?this.es.next():Ur.A),"readwrite-primary"===t?this.Es(x).next(Y=>!!Y||this.As(x)).next(Y=>{if(!Y)throw _(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new K(U.FAILED_PRECONDITION,Uf);return o(x)}).next(Y=>this.Ps(x).next(()=>Y)):this.$s(x).next(()=>o(x)))).then(z=>(x.raiseOnCommittedEvent(),z))}$s(e){return qu(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new K(U.FAILED_PRECONDITION,Yg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qu(e).put("owner",t)}static vt(){return Ba.vt()}Rs(e){const t=qu(e);return t.get("owner").next(o=>this.bs(o)?(v("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(_(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return v("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return _("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){_("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qu(i){return Ls(i,"owner")}function Mh(i){return Ls(i,"clientMetadata")}function xh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Wf{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(l=>{for(const h of o)h.applyToLocalView(l);return l})}qs(e,t){e.forEach((o,l)=>{for(const h of t)h.applyToLocalView(l)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return Bt.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.js(e,t.path):Au(t)?this.Ws(e,t,o):this.zs(e,t,o);var l}js(e,t){return this.Ls(e,new Bt(t)).next(o=>{let l=od();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Ws(e,t,o){const l=t.collectionGroup;let h=od();return this.indexManager.getCollectionParents(e,l).next(b=>at.forEach(b,x=>{const z=(Y=t,fe=x.child(l),new ta(fe,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,fe;return this.zs(e,z,o).next(Y=>{Y.forEach((fe,Me)=>{h=h.insert(fe,Me)})})}).next(()=>h))}zs(e,t,o){let l;return this.ds.getAllFromCollection(e,t.path,o).next(h=>(l=h,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const b of h)for(const x of b.mutations){const z=x.key;let Y=l.get(z);null==Y&&(Y=Re.newInvalidDocument(z),l=l.insert(z,Y)),fc(x,Y,b.localWriteTime),Y.isFoundDocument()||(l=l.remove(z))}}).next(()=>(l.forEach((h,b)=>{nd(t,b)||(l=l.remove(h))}),l))}}class Oh{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=l}static Ys(e,t){let o=Kn(),l=Kn();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Oh(e,t.fromCache,o,l)}}class Ph{Xs(e){this.Zs=e}Qs(e,t,o,l){return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(zt.min())?this.ti(e,t):this.Zs.Ks(e,l).next(h=>{const b=this.ei(t,h);return(uc(t)||Ll(t))&&this.ni(t.limitType,b,l,o)?this.ti(e,t):(To()<=qe.in.DEBUG&&v("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),td(t)),this.Zs.Qs(e,t,Er(o,-1)).next(x=>(b.forEach(z=>{x=x.insert(z.key,z)}),x)))});var h}ei(e,t){let o=new mi(th(e));return t.forEach((l,h)=>{nd(e,h)&&(o=o.add(h))}),o}ni(e,t,o,l){if(o.size!==t.size)return!0;const h="F"===e?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ti(e,t){return To()<=qe.in.DEBUG&&v("QueryEngine","Using full collection scan to execute query:",td(t)),this.Zs.Qs(e,t,hi.min())}}class zy{constructor(e,t,o,l){this.persistence=e,this.si=t,this.M=l,this.ii=new or(Sn),this.ri=new el(h=>Zs(h),Mo),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Wf(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Il(i,e,t,o){return new zy(i,e,t,o)}function Zf(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ie.Z)(function*(i,e){const t=P(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.Bs.getAllMutationBatches(o).next(h=>(l=h,t.ai(e),t.Bs.getAllMutationBatches(o))).next(h=>{const b=[],x=[];let z=Kn();for(const Y of l){b.push(Y.batchId);for(const fe of Y.mutations)z=z.add(fe.key)}for(const Y of h){x.push(Y.batchId);for(const fe of Y.mutations)z=z.add(fe.key)}return t.ci.Ks(o,z).next(Y=>({hi:Y,removedBatchIds:b,addedBatchIds:x}))})})}),Kf.apply(this,arguments)}function Yf(i,e){const t=P(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.ui.newChangeBuffer({trackRemovals:!0});return function(b,x,z,Y){const fe=z.batch,Me=fe.keys();let et=at.resolve();return Me.forEach(gt=>{et=et.next(()=>Y.getEntry(x,gt)).next(yt=>{const dn=z.docVersions.get(gt);C(null!==dn),yt.version.compareTo(dn)<0&&(fe.applyToRemoteDocument(yt,z),yt.isValidDocument()&&(yt.setReadTime(z.commitVersion),Y.addEntry(yt)))})}),et.next(()=>b.Bs.removeMutationBatch(x,fe))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,l))})}function Qg(i){const e=P(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Jg(i,e){const t=P(i),o=e.snapshotVersion;let l=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const b=t.ui.newChangeBuffer({trackRemovals:!0});l=t.ii;const x=[];e.targetChanges.forEach((Y,fe)=>{const Me=l.get(fe);if(!Me)return;x.push(t.fs.removeMatchingKeys(h,Y.removedDocuments,fe).next(()=>t.fs.addMatchingKeys(h,Y.addedDocuments,fe)));let et=Me.withSequenceNumber(h.currentSequenceNumber);var gt,yt,dn;e.targetMismatches.has(fe)?et=et.withResumeToken(Mn.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):Y.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(Y.resumeToken,o)),l=l.insert(fe,et),yt=et,dn=Y,(0===(gt=Me).resumeToken.approximateByteSize()||yt.snapshotVersion.toMicroseconds()-gt.snapshotVersion.toMicroseconds()>=3e8||dn.addedDocuments.size+dn.modifiedDocuments.size+dn.removedDocuments.size>0)&&x.push(t.fs.updateTargetData(h,et))});let z=ra();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(h,Y))}),x.push(Xg(h,b,e.documentUpdates).next(Y=>{z=Y})),!o.isEqual(zt.min())){const Y=t.fs.getLastRemoteSnapshotVersion(h).next(fe=>t.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));x.push(Y)}return at.waitFor(x).next(()=>b.apply(h)).next(()=>t.ci.Gs(h,z)).next(()=>z)}).then(h=>(t.ii=l,h))}function Xg(i,e,t){let o=Kn();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let h=ra();return t.forEach((b,x)=>{const z=l.get(b);x.isNoDocument()&&x.version.isEqual(zt.min())?(e.removeEntry(b,x.readTime),h=h.insert(b,x)):!z.isValidDocument()||x.version.compareTo(z.version)>0||0===x.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(x),h=h.insert(b,x)):v("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",x.version)}),h})}function qy(i,e){const t=P(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function sl(i,e){const t=P(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.fs.getTargetData(o,e).next(h=>h?(l=h,at.resolve(l)):t.fs.allocateTargetId(o).next(b=>(l=new rl(e,b,0,o.currentSequenceNumber),t.fs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.ii.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function ja(i,e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,ie.Z)(function*(i,e,t){const o=P(i),l=o.ii.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,b=>o.persistence.referenceDelegate.removeTarget(b,l)))}catch(b){if(!Yl(b))throw b;v("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.ii=o.ii.remove(e),o.ri.delete(l.target)}),bd.apply(this,arguments)}function Dl(i,e,t){const o=P(i);let l=zt.min(),h=Kn();return o.persistence.runTransaction("Execute query","readonly",b=>function(x,z,Y){const fe=P(x),Me=fe.ri.get(Y);return void 0!==Me?at.resolve(fe.ii.get(Me)):fe.fs.getTargetData(z,Y)}(o,b,Zo(e)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(b,x.targetId).next(z=>{h=z})}).next(()=>o.si.Qs(b,e,t?l:zt.min(),t?h:Kn())).next(x=>(em(o,dc(e),x),{documents:x,li:h})))}function Pc(i,e){const t=P(i),o=P(t.fs),l=t.ii.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(b=>b?b.target:null))}function Wu(i,e){const t=P(i),o=t.oi.get(e)||zt.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.ui.getAllFromCollectionGroup(l,e,Er(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(em(t,e,l),l))}function em(i,e,t){let o=zt.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.oi.set(e,o)}function Nh(){return Nh=(0,ie.Z)(function*(i,e,t,o){const l=P(i);let h=Kn(),b=ra();for(const Y of t){const fe=e.fi(Y.metadata.name);Y.document&&(h=h.add(fe));const Me=e.di(Y);Me.setReadTime(e._i(Y.metadata.readTime)),b=b.insert(fe,Me)}const x=l.ui.newChangeBuffer({trackRemovals:!0}),z=yield sl(l,(Y=o,Zo(ya(Pt.fromString(`__bundle__/docs/${Y}`)))));var Y;return l.persistence.runTransaction("Apply bundle documents","readwrite",Y=>Xg(Y,x,b).next(fe=>(x.apply(Y),fe)).next(fe=>l.fs.removeMatchingKeysForTargetId(Y,z.targetId).next(()=>l.fs.addMatchingKeys(Y,h,z.targetId)).next(()=>l.ci.Gs(Y,fe)).next(()=>fe)))}),Nh.apply(this,arguments)}function Qf(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,ie.Z)(function*(i,e,t=Kn()){const o=yield sl(i,Zo(Ch(e.bundledQuery))),l=P(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const b=Ks(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return l._s.saveNamedQuery(h,e);const x=o.withResumeToken(Mn.EMPTY_BYTE_STRING,b);return l.ii=l.ii.insert(x.targetId,x),l.fs.updateTargetData(h,x).next(()=>l.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.fs.addMatchingKeys(h,t,o.targetId)).next(()=>l._s.saveNamedQuery(h,e))})}),Ed.apply(this,arguments)}class nm{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return at.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:Ks(o.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:Ch(o.bundledQuery),readTime:Ks(o.readTime)}),at.resolve();var o}}class Rh{constructor(){this.overlays=new or(Bt.comparator),this.gi=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.Xt(e,t,h)}),at.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.gi.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.gi.delete(o)),at.resolve()}getOverlaysForCollection(e,t,o){const l=vc(),h=t.length+1,b=new Bt(t.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const z=x.getNext().value,Y=z.getKey();if(!t.isPrefixOf(Y.path))break;Y.path.length===h&&z.largestBatchId>o&&l.set(z.getKey(),z)}return at.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new or((Y,fe)=>Y-fe);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===t&&Y.largestBatchId>o){let fe=h.get(Y.largestBatchId);null===fe&&(fe=vc(),h=h.insert(Y.largestBatchId,fe)),fe.set(Y.getKey(),Y)}}const x=vc(),z=h.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((Y,fe)=>x.set(Y,fe)),!(x.size()>=l)););return at.resolve(x)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const b=this.gi.get(l.largestBatchId).delete(o.key);this.gi.set(l.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new bh(t,o));let h=this.gi.get(t);void 0===h&&(h=Kn(),this.gi.set(t,h)),this.gi.set(t,h.add(o.key))}}class Jf{constructor(){this.yi=new mi(uo.pi),this.Ii=new mi(uo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new uo(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new uo(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new Bt(new Pt([])),o=new uo(t,e),l=new uo(t,e+1),h=[];return this.Ii.forEachInRange([o,l],b=>{this.Ai(b),h.push(b.key)}),h}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Bt(new Pt([])),o=new uo(t,e),l=new uo(t,e+1);let h=Kn();return this.Ii.forEachInRange([o,l],b=>{h=h.add(b.key)}),h}containsKey(e){const t=new uo(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class uo{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Bt.comparator(e.key,t.key)||Sn(e.vi,t.vi)}static Ti(e,t){return Sn(e.vi,t.vi)||Bt.comparator(e.key,t.key)}}class z_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new mi(uo.pi)}checkEmpty(e){return at.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,l){const h=this.Si;this.Si++;const b=new wh(h,t,o,l);this.Bs.push(b);for(const x of l)this.Di=this.Di.add(new uo(x.key,h)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return at.resolve(b)}lookupMutationBatch(e,t){return at.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.xi(t+1),h=l<0?0:l;return at.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return at.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new uo(t,0),l=new uo(t,Number.POSITIVE_INFINITY),h=[];return this.Di.forEachInRange([o,l],b=>{const x=this.Ci(b.vi);h.push(x)}),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new mi(Sn);return t.forEach(l=>{const h=new uo(l,0),b=new uo(l,Number.POSITIVE_INFINITY);this.Di.forEachInRange([h,b],x=>{o=o.add(x.vi)})}),at.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;Bt.isDocumentKey(h)||(h=h.child(""));const b=new uo(new Bt(h),0);let x=new mi(Sn);return this.Di.forEachWhile(z=>{const Y=z.key.path;return!!o.isPrefixOf(Y)&&(Y.length===l&&(x=x.add(z.vi)),!0)},b),at.resolve(this.Ni(x))}Ni(e){const t=[];return e.forEach(o=>{const l=this.Ci(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){C(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return at.forEach(t.mutations,l=>{const h=new uo(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new uo(t,0),l=this.Di.firstAfterOrEqual(o);return at.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return at.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class rm{constructor(e){this.Mi=e,this.docs=new or(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,b=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return at.resolve(o?o.document.mutableCopy():Re.newInvalidDocument(t))}getEntries(e,t){let o=ra();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():Re.newInvalidDocument(l))}),at.resolve(o)}getAllFromCollection(e,t,o){let l=ra();const h=new Bt(t.child("")),b=this.docs.getIteratorFrom(h);for(;b.hasNext();){const{key:x,value:{document:z}}=b.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||cs(Gn(z),o)<=0||(l=l.insert(z.key,z.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(e,t,o,l){f()}Oi(e,t){return at.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new im(this)}getSize(e){return at.resolve(this.size)}}class im extends Ah{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Kn.addEntry(e,l)):this.Kn.removeEntry(o)}),at.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Wy{constructor(e){this.persistence=e,this.Fi=new el(t=>Zs(t),Mo),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Jf,this.targetCount=0,this.Li=Cl.gn()}forEachTarget(e,t){return this.Fi.forEach((o,l)=>t(l)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),at.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Cl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Tn(t),at.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.Fi.forEach((b,x)=>{x.sequenceNumber<=t&&null===o.get(x.targetId)&&(this.Fi.delete(b),h.push(this.removeMatchingKeysForTargetId(e,x.targetId)),l++)}),at.waitFor(h).next(()=>l)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return at.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),at.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(b=>{h.push(l.markPotentiallyOrphaned(e,b))}),at.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),at.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return at.resolve(o)}containsKey(e,t){return at.resolve(this.Bi.containsKey(t))}}class sm{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ur(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Wy(this),this.indexManager=new $g,this.ds=new rm(o=>this.referenceDelegate.qi(o)),this.M=new Dc(t),this._s=new nm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new z_(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){v("MemoryPersistence","Starting transaction:",e);const l=new Zy(this.es.next());return this.referenceDelegate.Ki(),o(l).next(h=>this.referenceDelegate.Gi(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Qi(e,t){return at.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class Zy extends Kl{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.ji=new Jf,this.Wi=null}static zi(e){return new Xf(e)}get Hi(){if(this.Wi)return this.Wi;throw f()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),at.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),at.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(l=>this.Hi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Hi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Hi,o=>{const l=Bt.fromPath(o);return this.Ji(e,l).next(h=>{h||t.removeEntry(l,zt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return at.or([()=>at.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function ia(i,e){return`firestore_clients_${i}_${e}`}function om(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ep(i,e){return`firestore_targets_${i}_${e}`}class tp{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Yi(e,t,o){const l=JSON.parse(o);let h,b="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(h=new K(l.error.code,l.error.message))),b?new tp(e,t,l.state,h):(_("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kh{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let l,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new K(o.error.code,o.error.message))),h?new kh(e,o.state,l):(_("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,h=wl();for(let b=0;l&&b<o.activeTargetIds.length;++b)l=kl(o.activeTargetIds[b]),h=h.add(o.activeTargetIds[b]);return l?new Cd(e,h):(_("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class am{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new am(t.clientId,t.onlineState):(_("SharedClientState",`Failed to parse online state: ${e}`),null)}}class np{constructor(){this.activeTargetIds=wl()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Id{constructor(e,t,o,l,h){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new or(Sn),this.started=!1,this.rr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ur=ia(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new np),this.cr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ie.Z)(function*(){const t=yield e.syncEngine.Fs();for(const l of t){if(l===e.er)continue;const h=e.getItem(ia(e.persistenceKey,l));if(h){const b=Cd.Yi(l,h);b&&(e.ir=e.ir.insert(b.clientId,b))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const l=e.mr(o);l&&e.gr(l)}for(const l of e.rr)e.sr(l);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ep(this.persistenceKey,e));if(o){const l=kh.Yi(e,o);l&&(t=l.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ep(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Ir(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return v("SharedClientState","READ",e,t),t}setItem(e,t){v("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){v("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(v("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void _("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ie.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const l=t.Pr(o.key);return t.br(l,null)}{const l=t.Vr(o.key,o.newValue);if(l)return t.br(l.clientId,l)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const l=t.vr(o.key,o.newValue);if(l)return t.Sr(l)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const l=t.Dr(o.key,o.newValue);if(l)return t.Cr(l)}}else if(o.key===t.dr){if(null!==o.newValue){const l=t.mr(o.newValue);if(l)return t.gr(l)}}else if(o.key===t.ar){const l=function(h){let b=Ur.A;if(null!=h)try{const x=JSON.parse(h);C("number"==typeof x),b=x}catch(x){_("SharedClientState","Failed to read sequence number from WebStorage",x)}return b}(o.newValue);l!==Ur.A&&t.sequenceNumberHandler(l)}else if(o.key===t._r){const l=t.Nr(o.newValue);yield Promise.all(l.map(h=>t.syncEngine.kr(h)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const l=new tp(this.currentUser,e,t,o),h=om(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Xi())}Ir(e){const t=om(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const l=ep(this.persistenceKey,e),h=new kh(e,t,o);this.setItem(l,h.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return Cd.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),l=Number(o[1]);return tp.Yi(new Pi(void 0!==o[2]?o[2]:null),l,t)}Dr(e,t){const o=this.lr.exec(e),l=Number(o[1]);return kh.Yi(l,t)}mr(e){return am.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);v("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),l=this.yr(this.ir),h=this.yr(o),b=[],x=[];return h.forEach(z=>{l.has(z)||b.push(z)}),l.forEach(z=>{h.has(z)||x.push(z)}),this.syncEngine.Fr(b,x).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=wl();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class rp{constructor(){this.$r=new np,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new np,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ky{Lr(e){}shutdown(){}}class lm{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class um{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Qy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,l,h){const b=this.uo(e,t);v("RestConnection","Sending: ",b,o);const x={};return this.ao(x,l,h),this.co(e,b,x,o).then(z=>(v("RestConnection","Received: ",z),z),z=>{throw c("RestConnection",`${e} failed with error: `,z,"url: ",b,"request:",o),z})}ho(e,t,o,l,h){return this.oo(e,t,o,l,h)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Do,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}uo(e,t){return`${this.io}/v1/${t}:${Yy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,l){return new Promise((h,b)=>{const x=new jo;x.listenOnce(rt.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case ve.NO_ERROR:const Y=x.getResponseJson();v("Connection","XHR received:",JSON.stringify(Y)),h(Y);break;case ve.TIMEOUT:v("Connection",'RPC "'+e+'" timed out'),b(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case ve.HTTP_ERROR:const fe=x.getStatus();if(v("Connection",'RPC "'+e+'" failed with status:',fe,"response text:",x.getResponseText()),fe>0){const Me=x.getResponseJson().error;if(Me&&Me.status&&Me.message){const et=function(gt){const yt=gt.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(yt)>=0?yt:U.UNKNOWN}(Me.status);b(new K(et,Me.message))}else b(new K(U.UNKNOWN,"Server responded with status "+x.getStatus()))}else b(new K(U.UNAVAILABLE,"Connection failed."));break;default:f()}}finally{v("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(l);x.send(t,"POST",z,o,15)})}lo(e,t,o){const l=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=M(),b=W(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new $i({})),this.ao(x.initMessageHeaders,t,o),(0,Ke.uI)()||(0,Ke.b$)()||(0,Ke.d)()||(0,Ke.w1)()||(0,Ke.Mn)()||(0,Ke.ru)()||(x.httpHeadersOverwriteParam="$httpHeaders");const z=l.join("");v("Connection","Creating WebChannel: "+z,x);const Y=h.createWebChannel(z,x);let fe=!1,Me=!1;const et=new um({Wr:yt=>{Me?v("Connection","Not sending because WebChannel is closed:",yt):(fe||(v("Connection","Opening WebChannel transport."),Y.open(),fe=!0),v("Connection","WebChannel sending:",yt),Y.send(yt))},zr:()=>Y.close()}),gt=(yt,dn,Jn)=>{yt.listen(dn,qi=>{try{Jn(qi)}catch(ts){setTimeout(()=>{throw ts},0)}})};return gt(Y,Fr.EventType.OPEN,()=>{Me||v("Connection","WebChannel transport opened.")}),gt(Y,Fr.EventType.CLOSE,()=>{Me||(Me=!0,v("Connection","WebChannel transport closed"),et.no())}),gt(Y,Fr.EventType.ERROR,yt=>{Me||(Me=!0,c("Connection","WebChannel transport errored:",yt),et.no(new K(U.UNAVAILABLE,"The operation could not be completed")))}),gt(Y,Fr.EventType.MESSAGE,yt=>{var dn;if(!Me){const Jn=yt.data[0];C(!!Jn);const qi=Jn,ts=qi.error||(null===(dn=qi[0])||void 0===dn?void 0:dn.error);if(ts){v("Connection","WebChannel received error:",ts);const Ai=ts.status;let Qs=function(bs){const Fo=_s[bs];if(void 0!==Fo)return mc(Fo)}(Ai),ns=ts.message;void 0===Qs&&(Qs=U.INTERNAL,ns="Unknown error status: "+Ai+" with message "+ts.message),Me=!0,et.no(new K(Qs,ns)),Y.close()}else v("Connection","WebChannel received:",Jn),et.so(Jn)}}),gt(b,hn.STAT_EVENT,yt=>{yt.stat===fr.PROXY?v("Connection","Detected buffering proxy"):yt.stat===fr.NOPROXY&&v("Connection","Detected no buffering proxy")}),setTimeout(()=>{et.eo()},0),et}}function ip(){return"undefined"!=typeof window?window:null}function Fh(){return"undefined"!=typeof document?document:null}function Dd(i){return new dh(i,!0)}class Lh{constructor(e,t,o=1e3,l=1.5,h=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=l,this.wo=h,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),l=Math.max(0,t-o);l>0&&v("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,l,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class sp{constructor(e,t,o,l,h,b,x,z){this.Yn=e,this.Ro=o,this.Po=l,this.bo=h,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=z,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Lh(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,ie.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,ie.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,ie.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===U.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Vo===t&&this.qo(o,l)},o=>{e(()=>{const l=new K(U.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(l)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(l=>{o(()=>this.Ko(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}No(){var e=this;this.state=5,this.Do.To((0,ie.Z)(function*(){e.state=0,e.start()}))}Ko(e){return v("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jy extends sp{constructor(e,t,o,l,h,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,b),this.M=h}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Rf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:f(),l=e.targetChange.targetIds||[],h=function(z,Y){return z.N?(C(void 0===Y||"string"==typeof Y),Mn.fromBase64String(Y||"")):(C(void 0===Y||Y instanceof Uint8Array),Mn.fromUint8Array(Y||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(z){const Y=void 0===z.code?U.UNKNOWN:mc(z.code);return new K(Y,z.message||"")}(b);t=new xo(o,l,h,x||null)}else if("documentChange"in e){const o=e.documentChange,l=Ti(i,o.document.name),h=Ks(o.document.updateTime),b=new J({mapValue:{fields:o.document.fields}}),x=Re.newFoundDocument(l,h,b);t=new Sa(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,l=Ti(i,o.document),h=o.readTime?Ks(o.readTime):zt.min(),b=Re.newNoDocument(l,h);t=new Sa([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,l=Ti(i,o.document);t=new Sa([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return f();{const o=e.filter,h=new id(o.count||0);t=new _c(o.targetId,h)}}var z;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return zt.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?zt.min():h.readTime?Ks(h.readTime):zt.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=Uu(this.M),t.addTarget=function(l,h){let b;const x=h.target;return b=ea(x)?{documents:gh(l,x)}:{query:cd(l,x)},b.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?b.resumeToken=wa(l,h.resumeToken):h.snapshotVersion.compareTo(zt.min())>0&&(b.readTime=Lu(l,h.snapshotVersion.toTimestamp())),b}(this.M,e);const o=function d(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return f()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Uu(this.M),t.removeTarget=e,this.Fo(t)}}class ol extends sp{constructor(e,t,o,l,h,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,b),this.M=h,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(C(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function kf(i,e){return i&&i.length>0?(C(void 0!==e),i.map(t=>function(o,l){let h=Ks(o.updateTime?o.updateTime:l);return h.isEqual(zt.min())&&(h=Ks(l)),new Mu(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ks(e.commitTime);return this.listener.Yo(o,t)}return C(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Uu(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>El(this.M,o))};this.Fo(t)}}class op extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=l,this.tu=!1}eu(){if(this.tu)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.oo(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new K(U.UNKNOWN,l.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ho(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new K(U.UNKNOWN,l.toString())})}terminate(){this.tu=!0}}class Xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(_(t),this.iu=!1):v("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class ev{constructor(e,t,o,l,h){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=h,this._u.Lr(x=>{o.enqueueAndForget((0,ie.Z)(function*(){var z;ru(b)&&(v("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,ie.Z)(function*(Y){const fe=P(Y);fe.fu.add(4),yield Nc(fe),fe.wu.set("Unknown"),fe.fu.delete(4),yield Vh(fe)}),function(Y){return z.apply(this,arguments)})(b))}))}),this.wu=new Xy(o,l)}}function Vh(i){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,ie.Z)(function*(i){if(ru(i))for(const e of i.du)yield e(!0)}),Bh.apply(this,arguments)}function Nc(i){return ap.apply(this,arguments)}function ap(){return ap=(0,ie.Z)(function*(i){for(const e of i.du)yield e(!1)}),ap.apply(this,arguments)}function Uh(i,e){const t=P(i);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Td(t)?Rc(t):iu(t).xo()&&lp(t,e))}function Zu(i,e){const t=P(i),o=iu(t);t.lu.delete(e),o.xo()&&cm(t,e),0===t.lu.size&&(o.xo()?o.Mo():ru(t)&&t.wu.set("Unknown"))}function lp(i,e){i.mu.Z(e.targetId),iu(i).jo(e)}function cm(i,e){i.mu.Z(e),iu(i).Wo(e)}function Rc(i){i.mu=new ad({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),iu(i).start(),i.wu.ru()}function Td(i){return ru(i)&&!iu(i).Co()&&i.lu.size>0}function ru(i){return 0===P(i).fu.size}function jh(i){i.mu=void 0}function up(i){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,ie.Z)(function*(i){i.lu.forEach((e,t)=>{lp(i,e)})}),Hh.apply(this,arguments)}function tv(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,ie.Z)(function*(i,e){jh(i),Td(i)?(i.wu.au(e),Rc(i)):i.wu.set("Unknown")}),cp.apply(this,arguments)}function dp(i,e,t){return dm.apply(this,arguments)}function dm(){return dm=(0,ie.Z)(function*(i,e,t){if(i.wu.set("Online"),e instanceof xo&&2===e.state&&e.cause)try{yield(o=(0,ie.Z)(function*(l,h){const b=h.cause;for(const x of h.targetIds)l.lu.has(x)&&(yield l.remoteSyncer.rejectListen(x,b),l.lu.delete(x),l.mu.removeTarget(x))}),function(l,h){return o.apply(this,arguments)})(i,e)}catch(o){v("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield $h(i,o)}else if(e instanceof Sa?i.mu.ut(e):e instanceof _c?i.mu._t(e):i.mu.ht(e),!t.isEqual(zt.min()))try{const o=yield Qg(i.localStore);t.compareTo(o)>=0&&(yield function(l,h){const b=l.mu.yt(h);return b.targetChanges.forEach((x,z)=>{if(x.resumeToken.approximateByteSize()>0){const Y=l.lu.get(z);Y&&l.lu.set(z,Y.withResumeToken(x.resumeToken,h))}}),b.targetMismatches.forEach(x=>{const z=l.lu.get(x);if(!z)return;l.lu.set(x,z.withResumeToken(Mn.EMPTY_BYTE_STRING,z.snapshotVersion)),cm(l,x);const Y=new rl(z.target,x,1,z.sequenceNumber);lp(l,Y)}),l.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(o){v("RemoteStore","Failed to raise snapshot:",o),yield $h(i,o)}var o}),dm.apply(this,arguments)}function $h(i,e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,ie.Z)(function*(i,e,t){if(!Yl(e))throw e;i.fu.add(1),yield Nc(i),i.wu.set("Offline"),t||(t=()=>Qg(i.localStore)),i.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){v("RemoteStore","Retrying IndexedDB access"),yield t(),i.fu.delete(1),yield Vh(i)}))}),Gh.apply(this,arguments)}function hp(i,e){return e().catch(t=>$h(i,t,e))}function Ku(i){return zh.apply(this,arguments)}function zh(){return zh=(0,ie.Z)(function*(i){const e=P(i),t=su(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;hm(e);)try{const l=yield qy(e.localStore,o);if(null===l){0===e.hu.length&&t.Mo();break}o=l.batchId,Tl(e,l)}catch(l){yield $h(e,l)}Ad(e)&&fm(e)}),zh.apply(this,arguments)}function hm(i){return ru(i)&&i.hu.length<10}function Tl(i,e){i.hu.push(e);const t=su(i);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Ad(i){return ru(i)&&!su(i).Co()&&i.hu.length>0}function fm(i){su(i).start()}function nv(i){return pm.apply(this,arguments)}function pm(){return pm=(0,ie.Z)(function*(i){su(i).Zo()}),pm.apply(this,arguments)}function fp(i){return qh.apply(this,arguments)}function qh(){return qh=(0,ie.Z)(function*(i){const e=su(i);for(const t of i.hu)e.Jo(t.mutations)}),qh.apply(this,arguments)}function pp(i,e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,ie.Z)(function*(i,e,t){const o=i.hu.shift(),l=yd.from(o,e,t);yield hp(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Ku(i)}),Yu.apply(this,arguments)}function rv(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,ie.Z)(function*(i,e){var t;e&&su(i).Ho&&(yield(t=(0,ie.Z)(function*(o,l){if($l(h=l.code)&&h!==U.ABORTED){const b=o.hu.shift();su(o).ko(),yield hp(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,l)),yield Ku(o)}var h}),function(o,l){return t.apply(this,arguments)})(i,e)),Ad(i)&&fm(i)}),Sd.apply(this,arguments)}function gp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,ie.Z)(function*(i,e){const t=P(i);t.asyncQueue.verifyOperationInProgress(),v("RemoteStore","RemoteStore received new credentials");const o=ru(t);t.fu.add(3),yield Nc(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Vh(t)}),Wh.apply(this,arguments)}function Zh(i,e){return mp.apply(this,arguments)}function mp(){return mp=(0,ie.Z)(function*(i,e){const t=P(i);e?(t.fu.delete(2),yield Vh(t)):e||(t.fu.add(2),yield Nc(t),t.wu.set("Unknown"))}),mp.apply(this,arguments)}function iu(i){return i.gu||(i.gu=function(e,t,o){const l=P(e);return l.eu(),new Jy(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:up.bind(null,i),Yr:tv.bind(null,i),Qo:dp.bind(null,i)}),i.du.push(function(){var e=(0,ie.Z)(function*(t){t?(i.gu.ko(),Td(i)?Rc(i):i.wu.set("Unknown")):(yield i.gu.stop(),jh(i))});return function(t){return e.apply(this,arguments)}}())),i.gu}function su(i){return i.yu||(i.yu=function(e,t,o){const l=P(e);return l.eu(),new ol(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:nv.bind(null,i),Yr:rv.bind(null,i),Xo:fp.bind(null,i),Yo:pp.bind(null,i)}),i.du.push(function(){var e=(0,ie.Z)(function*(t){t?(i.yu.ko(),yield Ku(i)):(yield i.yu.stop(),i.hu.length>0&&(v("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(t){return e.apply(this,arguments)}}())),i.yu}class yp{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new Ae,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,l,h){const b=Date.now()+o,x=new yp(e,t,b,l,h);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(i,e){if(_("AsyncQueue",`${e}: ${i}`),Yl(i))return new K(U.UNAVAILABLE,`${e}: ${i}`);throw i}class Ha{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Bt.comparator(t.key,o.key):(t,o)=>Bt.comparator(t.key,o.key),this.keyedMap=od(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new Ha(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ha;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class vp{constructor(){this.pu=new or(Bt.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):f():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class kc{constructor(e,t,o,l,h,b,x,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=z}static fromInitialDocuments(e,t,o,l){const h=[];return t.forEach(b=>{h.push({type:0,doc:b})}),new kc(e,t,Ha.emptySet(t),h,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&va(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class iv{constructor(){this.Tu=void 0,this.listeners=[]}}class Fc{constructor(){this.queries=new el(e=>eh(e),va),this.onlineState="Unknown",this.Eu=new Set}}function _p(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,ie.Z)(function*(i,e){const t=P(i),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new iv),l)try{h.Tu=yield t.onListen(o)}catch(b){const x=Qu(b,`Initialization of query '${td(e.query)}' failed`);return void e.onError(x)}t.queries.set(o,h),h.listeners.push(e),e.Au(t.onlineState),h.Tu&&e.Ru(h.Tu)&&Kh(t)}),wp.apply(this,arguments)}function bp(i,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,ie.Z)(function*(i,e){const t=P(i),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const b=h.listeners.indexOf(e);b>=0&&(h.listeners.splice(b,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),Ep.apply(this,arguments)}function al(i,e){const t=P(i);let o=!1;for(const l of e){const b=t.queries.get(l.query);if(b){for(const x of b.listeners)x.Ru(l)&&(o=!0);b.Tu=l}}o&&Kh(t)}function Cp(i,e,t){const o=P(i),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function Kh(i){i.Eu.forEach(e=>{e.next()})}class Yh{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new kc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class gm{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Ip{constructor(e){this.M=e}fi(e){return Ti(this.M,e)}di(e){return e.metadata.exists?bc(this.M,e.document,!1):Re.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Ks(e)}}class sv{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mm(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Pt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new Ip(this.M);for(const l of e)if(l.metadata.queries){const h=o.fi(l.metadata.name);for(const b of l.metadata.queries){const x=(t.get(b)||Kn()).add(h);t.set(b,x)}}return t}complete(){var e=this;return(0,ie.Z)(function*(){const t=yield function tm(i,e,t,o){return Nh.apply(this,arguments)}(e.localStore,new Ip(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const l of e.queries)yield Qf(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function mm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ym{constructor(e){this.key=e}}class vm{constructor(e){this.key=e}}class Dp{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Kn(),this.mutatedKeys=Kn(),this.Uu=th(e),this.qu=new Ha(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new vp,l=t?t.qu:this.qu;let h=t?t.mutatedKeys:this.mutatedKeys,b=l,x=!1;const z=uc(this.query)&&l.size===this.query.limit?l.last():null,Y=Ll(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((fe,Me)=>{const et=l.get(fe),gt=nd(this.query,Me)?Me:null,yt=!!et&&this.mutatedKeys.has(et.key),dn=!!gt&&(gt.hasLocalMutations||this.mutatedKeys.has(gt.key)&&gt.hasCommittedMutations);let Jn=!1;et&&gt?et.data.isEqual(gt.data)?yt!==dn&&(o.track({type:3,doc:gt}),Jn=!0):this.ju(et,gt)||(o.track({type:2,doc:gt}),Jn=!0,(z&&this.Uu(gt,z)>0||Y&&this.Uu(gt,Y)<0)&&(x=!0)):!et&&gt?(o.track({type:0,doc:gt}),Jn=!0):et&&!gt&&(o.track({type:1,doc:et}),Jn=!0,(z||Y)&&(x=!0)),Jn&&(gt?(b=b.add(gt),h=dn?h.add(fe):h.delete(fe)):(b=b.delete(fe),h=h.delete(fe)))}),uc(this.query)||Ll(this.query))for(;b.size>this.query.limit;){const fe=uc(this.query)?b.last():b.first();b=b.delete(fe.key),h=h.delete(fe.key),o.track({type:1,doc:fe})}return{qu:b,Qu:o,ni:x,mutatedKeys:h}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const h=e.Qu.Iu();h.sort((Y,fe)=>function(Me,et){const gt=yt=>{switch(yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return f()}};return gt(Me)-gt(et)}(Y.type,fe.type)||this.Uu(Y.doc,fe.doc)),this.Wu(o);const b=t?this.zu():[],x=0===this.Lu.size&&this.current?1:0,z=x!==this.Bu;return this.Bu=x,0!==h.length||z?{snapshot:new kc(this.query,e.qu,l,h,e.mutatedKeys,0===x,z,!1),Hu:b}:{Hu:b}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new vp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Kn(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new vm(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new ym(o))}),t}Yu(e){this.$u=e.li,this.Lu=Kn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return kc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class q_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class _m{constructor(e){this.key=e,this.Zu=!1}}class ov{constructor(e,t,o,l,h,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=b,this.ta={},this.ea=new el(x=>eh(x),va),this.na=new Map,this.sa=new Set,this.ia=new or(Bt.comparator),this.ra=new Map,this.oa=new Jf,this.ua={},this.aa=new Map,this.ca=Cl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function av(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,ie.Z)(function*(i,e){const t=cu(i);let o,l;const h=t.ea.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.Xu();else{const b=yield sl(t.localStore,Zo(e));t.isPrimaryClient&&Uh(t.remoteStore,b);const x=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,l=yield bm(t,e,o,"current"===x)}return l}),wm.apply(this,arguments)}function bm(i,e,t,o){return Md.apply(this,arguments)}function Md(){return Md=(0,ie.Z)(function*(i,e,t,o){i.la=(fe,Me,et)=>{return(gt=(0,ie.Z)(function*(yt,dn,Jn,qi){let ts=dn.view.Gu(Jn);ts.ni&&(ts=yield Dl(yt.localStore,dn.query,!1).then(({documents:ns})=>dn.view.Gu(ns,ts)));const Ai=qi&&qi.targetChanges.get(dn.targetId),Qs=dn.view.applyChanges(ts,yt.isPrimaryClient,Ai);return xp(yt,dn.targetId,Qs.Hu),Qs.snapshot}),function(yt,dn,Jn,qi){return gt.apply(this,arguments)})(i,fe,Me,et);var gt};const l=yield Dl(i.localStore,e,!0),h=new Dp(e,l.li),b=h.Gu(l.documents),x=Ps.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),z=h.applyChanges(b,i.isPrimaryClient,x);xp(i,t,z.Hu);const Y=new q_(e,t,h);return i.ea.set(e,Y),i.na.has(t)?i.na.get(t).push(e):i.na.set(t,[e]),z.snapshot}),Md.apply(this,arguments)}function lv(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,ie.Z)(function*(i,e){const t=P(i),o=t.ea.get(e),l=t.na.get(o.targetId);if(l.length>1)return t.na.set(o.targetId,l.filter(h=>!va(h,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ja(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Zu(t.remoteStore,o.targetId),Lc(t,o.targetId)}).catch(zu))):(Lc(t,o.targetId),yield ja(t.localStore,o.targetId,!0))}),Qh.apply(this,arguments)}function Cm(){return Cm=(0,ie.Z)(function*(i,e,t){const o=du(i);try{const l=yield function(h,b){const x=P(h),z=Ni.now(),Y=b.reduce((Me,et)=>Me.add(et.key),Kn());let fe;return x.persistence.runTransaction("Locally write mutations","readwrite",Me=>x.ci.Ks(Me,Y).next(et=>{fe=et;const gt=[];for(const yt of b){const dn=Pg(yt,fe.get(yt.key));null!=dn&&gt.push(new Hl(yt.key,dn,ye(dn.value.mapValue),vs.exists(!0)))}return x.Bs.addMutationBatch(Me,z,gt,b)})).then(Me=>(Me.applyToLocalDocumentSet(fe),{batchId:Me.batchId,changes:fe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,b,x){let z=h.ua[h.currentUser.toKey()];z||(z=new or(Sn)),z=z.insert(b,x),h.ua[h.currentUser.toKey()]=z}(o,l.batchId,t),yield Na(o,l.changes),yield Ku(o.remoteStore)}catch(l){const h=Qu(l,"Failed to persist write");t.reject(h)}}),Cm.apply(this,arguments)}function Pa(i,e){return Im.apply(this,arguments)}function Im(){return Im=(0,ie.Z)(function*(i,e){const t=P(i);try{const o=yield Jg(t.localStore,e);e.targetChanges.forEach((l,h)=>{const b=t.ra.get(h);b&&(C(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?b.Zu=!0:l.modifiedDocuments.size>0?C(b.Zu):l.removedDocuments.size>0&&(C(b.Zu),b.Zu=!1))}),yield Na(t,o,e)}catch(o){yield zu(o)}}),Im.apply(this,arguments)}function uv(i,e,t){const o=P(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ea.forEach((h,b)=>{const x=b.view.Au(e);x.snapshot&&l.push(x.snapshot)}),function(h,b){const x=P(h);x.onlineState=b;let z=!1;x.queries.forEach((Y,fe)=>{for(const Me of fe.listeners)Me.Au(b)&&(z=!0)}),z&&Kh(x)}(o.eventManager,e),l.length&&o.ta.Qo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Dm(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,ie.Z)(function*(i,e,t){const o=P(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.ra.get(e),h=l&&l.key;if(h){let b=new or(Bt.comparator);b=b.insert(h,Re.newNoDocument(h,zt.min()));const x=Kn().add(h),z=new bl(zt.min(),new Map,new mi(Sn),b,x);yield Pa(o,z),o.ia=o.ia.remove(h),o.ra.delete(e),Op(o)}else yield ja(o.localStore,e,!1).then(()=>Lc(o,e,t)).catch(zu)}),Jh.apply(this,arguments)}function Tm(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ie.Z)(function*(i,e){const t=P(i),o=e.batch.batchId;try{const l=yield Yf(t.localStore,e);Mp(t,o,null),xd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Na(t,l)}catch(l){yield zu(l)}}),Tp.apply(this,arguments)}function W_(i,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,ie.Z)(function*(i,e,t){const o=P(i);try{const l=yield function(h,b){const x=P(h);return x.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let Y;return x.Bs.lookupMutationBatch(z,b).next(fe=>(C(null!==fe),Y=fe.keys(),x.Bs.removeMutationBatch(z,fe))).next(()=>x.Bs.performConsistencyCheck(z)).next(()=>x.ci.Ks(z,Y))})}(o.localStore,e);Mp(o,e,t),xd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Na(o,l)}catch(l){yield zu(l)}}),Xh.apply(this,arguments)}function Sp(){return Sp=(0,ie.Z)(function*(i,e){const t=P(i);ru(t.remoteStore)||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const b=P(h);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>b.Bs.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===o)return void e.resolve();const l=t.aa.get(o)||[];l.push(e),t.aa.set(o,l)}catch(o){const l=Qu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Sp.apply(this,arguments)}function xd(i,e){(i.aa.get(e)||[]).forEach(t=>{t.resolve()}),i.aa.delete(e)}function Mp(i,e,t){const o=P(i);let l=o.ua[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.ua[o.currentUser.toKey()]=l}}function Lc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),t&&i.ta.fa(o,t);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||Am(i,o)})}function Am(i,e){i.sa.delete(e.path.canonicalString());const t=i.ia.get(e);null!==t&&(Zu(i.remoteStore,t),i.ia=i.ia.remove(e),i.ra.delete(t),Op(i))}function xp(i,e,t){for(const o of t)o instanceof ym?(i.oa.addReference(o.key,e),cv(i,o)):o instanceof vm?(v("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||Am(i,o.key)):f()}function cv(i,e){const t=e.key,o=t.path.canonicalString();i.ia.get(t)||i.sa.has(o)||(v("SyncEngine","New document in limbo: "+t),i.sa.add(o),Op(i))}function Op(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const t=new Bt(Pt.fromString(e)),o=i.ca.next();i.ra.set(o,new _m(t)),i.ia=i.ia.insert(t,o),Uh(i.remoteStore,new rl(Zo(ya(t.path)),o,2,Ur.A))}}function Na(i,e,t){return ou.apply(this,arguments)}function ou(){return ou=(0,ie.Z)(function*(i,e,t){const o=P(i),l=[],h=[],b=[];var x;o.ea.isEmpty()||(o.ea.forEach((x,z)=>{b.push(o.la(z,e,t).then(Y=>{if(Y){o.isPrimaryClient&&o.sharedClientState.updateQueryState(z.targetId,Y.fromCache?"not-current":"current"),l.push(Y);const fe=Oh.Ys(z.targetId,Y);h.push(fe)}}))}),yield Promise.all(b),o.ta.Qo(l),yield(x=(0,ie.Z)(function*(z,Y){const fe=P(z);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Me=>at.forEach(Y,et=>at.forEach(et.Hs,gt=>fe.persistence.referenceDelegate.addReference(Me,et.targetId,gt)).next(()=>at.forEach(et.Js,gt=>fe.persistence.referenceDelegate.removeReference(Me,et.targetId,gt)))))}catch(Me){if(!Yl(Me))throw Me;v("LocalStore","Failed to update sequence numbers: "+Me)}for(const Me of Y){const et=Me.targetId;if(!Me.fromCache){const gt=fe.ii.get(et),dn=gt.withLastLimboFreeSnapshotVersion(gt.snapshotVersion);fe.ii=fe.ii.insert(et,dn)}}}),function(z,Y){return x.apply(this,arguments)})(o.localStore,h))}),ou.apply(this,arguments)}function dv(i,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,ie.Z)(function*(i,e){const t=P(i);if(!t.currentUser.isEqual(e)){v("SyncEngine","User change. New user:",e.toKey());const o=yield Zf(t.localStore,e);t.currentUser=e,(l=t).aa.forEach(b=>{b.forEach(x=>{x.reject(new K(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Na(t,o.hi)}var l}),Ju.apply(this,arguments)}function hv(i,e){const t=P(i),o=t.ra.get(e);if(o&&o.Zu)return Kn().add(o.key);{let l=Kn();const h=t.na.get(e);if(!h)return l;for(const b of h){const x=t.ea.get(b);l=l.unionWith(x.view.Ku)}return l}}function fv(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,ie.Z)(function*(i,e){const t=P(i),o=yield Dl(t.localStore,e.query,!0),l=e.view.Yu(o);return t.isPrimaryClient&&xp(t,e.targetId,l.Hu),l}),Od.apply(this,arguments)}function ll(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,ie.Z)(function*(i,e){const t=P(i);return Wu(t.localStore,e).then(o=>Na(t,o))}),Xu.apply(this,arguments)}function Ro(i,e,t,o){return Al.apply(this,arguments)}function Al(){return Al=(0,ie.Z)(function*(i,e,t,o){const l=P(i),h=yield function(b,x){const z=P(b),Y=P(z.Bs);return z.persistence.runTransaction("Lookup mutation documents","readonly",fe=>Y.fn(fe,x).next(Me=>Me?z.ci.Ks(fe,Me):at.resolve(null)))}(l.localStore,e);var x;null!==h?("pending"===t?yield Ku(l.remoteStore):"acknowledged"===t||"rejected"===t?(Mp(l,e,o||null),xd(l,e),x=e,P(P(l.localStore).Bs)._n(x)):f(),yield Na(l,h)):v("SyncEngine","Cannot apply mutation batch with id: "+e)}),Al.apply(this,arguments)}function sa(){return sa=(0,ie.Z)(function*(i,e){const t=P(i);if(cu(t),du(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield tf(t,o.toArray());t.ha=!0,yield Zh(t.remoteStore,!0);for(const h of l)Uh(t.remoteStore,h)}else if(!1===e&&!1!==t.ha){const o=[];let l=Promise.resolve();t.na.forEach((h,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):l=l.then(()=>(Lc(t,b),ja(t.localStore,b,!0))),Zu(t.remoteStore,b)}),yield l,yield tf(t,o),function(h){const b=P(h);b.ra.forEach((x,z)=>{Zu(b.remoteStore,z)}),b.oa.bi(),b.ra=new Map,b.ia=new or(Bt.comparator)}(t),t.ha=!1,yield Zh(t.remoteStore,!1)}}),sa.apply(this,arguments)}function tf(i,e,t){return au.apply(this,arguments)}function au(){return au=(0,ie.Z)(function*(i,e,t){const o=P(i),l=[],h=[];for(const b of e){let x;const z=o.na.get(b);if(z&&0!==z.length){x=yield sl(o.localStore,Zo(z[0]));for(const Y of z){const fe=o.ea.get(Y),Me=yield fv(o,fe);Me.snapshot&&h.push(Me.snapshot)}}else{const Y=yield Pc(o.localStore,b);x=yield sl(o.localStore,Y),yield bm(o,ec(Y),b,!1)}l.push(x)}return o.ta.Qo(h),l}),au.apply(this,arguments)}function ec(i){return lc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Vc(i){const e=P(i);return P(P(e.localStore).persistence).Fs()}function Bc(i,e,t,o){return lu.apply(this,arguments)}function lu(){return lu=(0,ie.Z)(function*(i,e,t,o){const l=P(i);if(l.ha)return void v("SyncEngine","Ignoring unexpected query state notification.");const h=l.na.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const b=yield Wu(l.localStore,dc(h[0])),x=bl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Na(l,b,x);break}case"rejected":yield ja(l.localStore,e,!0),Lc(l,e,o);break;default:f()}}),lu.apply(this,arguments)}function Uc(i,e,t){return uu.apply(this,arguments)}function uu(){return uu=(0,ie.Z)(function*(i,e,t){const o=cu(i);if(o.ha){for(const l of e){if(o.na.has(l)){v("SyncEngine","Adding an already active target "+l);continue}const h=yield Pc(o.localStore,l),b=yield sl(o.localStore,h);yield bm(o,ec(h),b.targetId,!1),Uh(o.remoteStore,b)}for(const l of t)o.na.has(l)&&(yield ja(o.localStore,l,!1).then(()=>{Zu(o.remoteStore,l),Lc(o,l)}).catch(zu))}}),uu.apply(this,arguments)}function cu(i){const e=P(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pa.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dm.bind(null,e),e.ta.Qo=al.bind(null,e.eventManager),e.ta.fa=Cp.bind(null,e.eventManager),e}function du(i){const e=P(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W_.bind(null,e),e}class Pp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ie.Z)(function*(){t.M=Dd(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Il(this.persistence,new Ph,e.initialUser,this.M)}wa(e){return new sm(Xf.zi,this.M)}_a(e){return new rp}terminate(){var e=this;return(0,ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Np extends Pp{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ie.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield du(o.ya.syncEngine),yield Ku(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return Il(this.persistence,new Ph,e.initialUser,this.M)}ma(e){return new j_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=xh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new il(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,ip(),Fh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new rp}}class Mm extends Np{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ie.Z)(function*(){yield t().call(o,e);const l=o.ya.syncEngine;o.sharedClientState instanceof Id&&(o.sharedClientState.syncEngine={Mr:Ro.bind(null,l),Or:Bc.bind(null,l),Fr:Uc.bind(null,l),Fs:Vc.bind(null,l),kr:ll.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,ie.Z)(function*(b){yield function ef(i,e){return sa.apply(this,arguments)}(o.ya.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):b||o.gcScheduler.stop())});return function(b){return h.apply(this,arguments)}}())})()}_a(e){const t=ip();if(!Id.vt(t))throw new K(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=xh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Id(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class nf{initialize(e,t){var o=this;return(0,ie.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>uv(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=dv.bind(null,o.syncEngine),yield Zh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fc}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),o=new Qy(e.databaseInfo);return new op(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=x=>uv(this.syncEngine,x,0),b=lm.vt()?new lm:new Ky,new ev(t,o,l,h,b);var t,o,l,h,b}createSyncEngine(e,t){return function(o,l,h,b,x,z,Y){const fe=new ov(o,l,h,b,x,z);return Y&&(fe.ha=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ie.Z)(function*(t){const o=P(t);v("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Nc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rp(i,e=10240){let t=0;return{read:()=>(0,ie.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class xm{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Ae,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,ie.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,ie.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,ie.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),l=Number(o);isNaN(l)&&e.Pa(`length string (${o}) is not valid number`);const h=yield e.ba(l);return new gm(JSON.parse(h),t.length+l)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,ie.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,ie.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Om{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new K(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,ie.Z)(function*(h,b){const x=P(h),z=Uu(x.M)+"/documents",Y={documents:b.map(gt=>Wl(x.M,gt))},fe=yield x.ho("BatchGetDocuments",z,Y),Me=new Map;fe.forEach(gt=>{const yt=function ph(i,e){return"found"in e?function(t,o){C(!!o.found);const l=Ti(t,o.found.name),h=Ks(o.found.updateTime),b=new J({mapValue:{fields:o.found.fields}});return Re.newFoundDocument(l,h,b)}(i,e):"missing"in e?function(t,o){C(!!o.missing),C(!!o.readTime);const l=Ti(t,o.missing),h=Ks(o.readTime);return Re.newNoDocument(l,h)}(i,e):f()}(x.M,gt);Me.set(yt.key.toString(),yt)});const et=[];return b.forEach(gt=>{const yt=Me.get(gt.toString());C(!!yt),et.push(yt)}),et}),function(h,b){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const h=Bt.fromPath(l);e.mutations.push(new Nu(h,e.precondition(h)))}),yield(o=(0,ie.Z)(function*(l,h){const b=P(l),x=Uu(b.M)+"/documents",z={writes:h.map(Y=>El(b.M,Y))};yield b.oo("Commit",x,z)}),function(l,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw f();t=zt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new K(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?vs.updateTime(t):vs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zt.min()))throw new K(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(t)}return vs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pv{constructor(e,t,o,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=l,this.Sa=5,this.Do=new Lh(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,ie.Z)(function*(){const t=new Om(e.datastore),o=e.Ca(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.xa(h)}))}).catch(l=>{e.xa(l)})}))}Ca(e){try{const t=this.updateFunction(e);return!Ws(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$l(t)}return!1}}class Pm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Pi.UNAUTHENTICATED,this.clientId=Os.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,ie.Z)(function*(x){v("FirestoreClient","Received user=",x.uid),yield h.authCredentialListener(x),h.user=x});return function(x){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(v("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ae;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Qu(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Nm(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),v("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,ie.Z)(function*(h){o.isEqual(h)||(yield Zf(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),rf.apply(this,arguments)}function kp(i,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Lp(i);v("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>gp(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>gp(e.remoteStore,h)),i.onlineComponents=e}),Fp.apply(this,arguments)}function Lp(i){return sf.apply(this,arguments)}function sf(){return sf=(0,ie.Z)(function*(i){return i.offlineComponents||(v("FirestoreClient","Using default OfflineComponentProvider"),yield Nm(i,new Pp)),i.offlineComponents}),sf.apply(this,arguments)}function of(i){return af.apply(this,arguments)}function af(){return af=(0,ie.Z)(function*(i){return i.onlineComponents||(v("FirestoreClient","Using default OnlineComponentProvider"),yield kp(i,new nf)),i.onlineComponents}),af.apply(this,arguments)}function Rm(i){return Lp(i).then(e=>e.persistence)}function Vp(i){return Lp(i).then(e=>e.localStore)}function gv(i){return of(i).then(e=>e.remoteStore)}function Bp(i){return of(i).then(e=>e.syncEngine)}function hu(i){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,ie.Z)(function*(i){const e=yield of(i),t=e.eventManager;return t.onListen=av.bind(null,e.syncEngine),t.onUnlisten=lv.bind(null,e.syncEngine),t}),Nd.apply(this,arguments)}function yv(i,e,t={}){const o=new Ae;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(l,h,b,x,z){const Y=new Pd({next:Me=>{h.enqueueAndForget(()=>bp(l,fe));const et=Me.docs.has(b);!et&&Me.fromCache?z.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Me.fromCache&&x&&"server"===x.source?z.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(Me)},error:Me=>z.reject(Me)}),fe=new Yh(ya(b.path),Y,{includeMetadataChanges:!0,Cu:!0});return _p(l,fe)}(yield hu(i),i.asyncQueue,e,t,o)})),o.promise}function Up(i,e,t={}){const o=new Ae;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(l,h,b,x,z){const Y=new Pd({next:Me=>{h.enqueueAndForget(()=>bp(l,fe)),Me.fromCache&&"server"===x.source?z.reject(new K(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(Me)},error:Me=>z.reject(Me)}),fe=new Yh(b,Y,{includeMetadataChanges:!0,Cu:!0});return _p(l,fe)}(yield hu(i),i.asyncQueue,e,t,o)})),o.promise}const jp=new Map;function Hp(i,e,t){if(!t)throw new K(U.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $p(i,e,t,o){if(!0===e&&!0===o)throw new K(U.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Rd(i){if(!Bt.isDocumentKey(i))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function km(i){if(Bt.isDocumentKey(i))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function kd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":f()}function Hr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kd(i);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Fm(i,e){if(e<=0)throw new K(U.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Lm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$p("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lm({}),this._settingsFrozen=!1,e instanceof Ri?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ri(l.options.projectId)}(e))}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Vt;switch(t.type){case"gapi":const o=t.client;return C(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Mr(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jp.get(e);t&&(v("ComponentProvider","Removing Datastore"),jp.delete(e),t.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class ko{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class $a extends ko{constructor(e,t,o){super(e,t,ya(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new Bt(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function Gp(i,e,...t){if(i=(0,Ke.m9)(i),Hp("collection","path",e),i instanceof Fd){const o=Pt.fromString(e,...t);return km(o),new $a(i,null,o)}{if(!(i instanceof Gi||i instanceof $a))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pt.fromString(e,...t));return km(o),new $a(i.firestore,null,o)}}function qp(i,e,...t){if(i=(0,Ke.m9)(i),1===arguments.length&&(e=Os.R()),Hp("doc","path",e),i instanceof Fd){const o=Pt.fromString(e,...t);return Rd(o),new Gi(i,null,new Bt(o))}{if(!(i instanceof Gi||i instanceof $a))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Pt.fromString(e,...t));return Rd(o),new Gi(i.firestore,i instanceof $a?i.converter:null,new Bt(o))}}function lf(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),(i instanceof Gi||i instanceof $a)&&(e instanceof Gi||e instanceof $a)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Vm(i,e){return i=(0,Ke.m9)(i),e=(0,Ke.m9)(e),i instanceof ko&&e instanceof ko&&i.firestore===e.firestore&&va(i._query,e._query)&&i.converter===e.converter}class Q_{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Lh(this,"async_queue_retry"),this.qa=()=>{const t=Fh();t&&v("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Fh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Fh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Ae;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,ie.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Yl(t))throw t;v("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,_("INTERNAL UNHANDLED ERROR: ",function(h){let b=h.message||"";return h.stack&&(b=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),b}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const l=yp.createAndSchedule(this,e,t,o,h=>this.ja(h));return this.Fa.push(l),l}Ka(){this.$a&&f()}verifyOperationInProgress(){}Wa(){var e=this;return(0,ie.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function tc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Bm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ae,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zi extends Fd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Q_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||uf(this),this._firestoreClient.terminate()}}function ws(i){return i._firestoreClient||uf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function uf(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new qs(i._databaseId,h,i._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var h,x;i._firestoreClient=new Pm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ld(i,e,t){const o=new Ae;return i.asyncQueue.enqueue((0,ie.Z)(function*(){try{yield Nm(i,t),yield kp(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===U.FAILED_PRECONDITION||h.code===U.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var h})).then(()=>o.promise)}function Qp(i){if(i._initialized||i._terminated)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Mn.fromBase64String(e))}catch(t){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ml{constructor(e){this._methodName=e}}class Vd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}const Dv=/^__.*__$/;class $m{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _l(e,this.data,t,this.fieldTransforms)}}class Jp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Hl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw f()}}class Hc{constructor(e,t,o,l,h,b){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===h&&this.Ya(),this.fieldTransforms=h||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Hc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Za({path:o,ec:!1});return l.nc(e),l}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Za({path:o,ec:!1});return l.Ya(),l}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Ud(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Xp(this.Xa)&&Dv.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Gm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Dd(e)}ac(e,t,o,l=!1){return new Hc({Xa:e,methodName:t,uc:o,path:On.emptyPath(),ec:!1,oc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function fu(i){const e=i._freezeSettings(),t=Dd(i._databaseId);return new Gm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Bd(i,e,t,o,l,h={}){const b=i.ac(h.merge||h.mergeFields?2:0,e,t,l);sg("Data must be an object, but it was:",b,o);const x=Ys(o,b);let z,Y;if(h.merge)z=new jr(b.fieldMask),Y=b.fieldTransforms;else if(h.mergeFields){const fe=[];for(const Me of h.mergeFields){const et=og(e,Me,t);if(!b.contains(et))throw new K(U.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);ag(fe,et)||fe.push(et)}z=new jr(fe),Y=b.fieldTransforms.filter(Me=>z.covers(Me.field))}else z=null,Y=b.fieldTransforms;return new $m(new J(x),z,Y)}class $c extends Ml{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $c}}function eg(i,e,t){return new Hc({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class df extends Ml{_toFieldTransform(e){return new jl(e.path,new ml)}isEqual(e){return e instanceof df}}class zm extends Ml{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=eg(this,e,!0),o=this.cc.map(h=>nc(h,t)),l=new yl(o);return new jl(e.path,l)}isEqual(e){return this===e}}class qm extends Ml{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=eg(this,e,!0),o=this.cc.map(h=>nc(h,t)),l=new Ul(o);return new jl(e.path,l)}isEqual(e){return this===e}}class e0 extends Ml{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Su(e.M,nh(e.M,this.hc));return new jl(e.path,t)}isEqual(e){return this===e}}function tg(i,e,t,o){const l=i.ac(1,e,t);sg("Data must be an object, but it was:",l,o);const h=[],b=J.empty();Da(o,(z,Y)=>{const fe=hf(e,z,t);Y=(0,Ke.m9)(Y);const Me=l.sc(fe);if(Y instanceof $c)h.push(fe);else{const et=nc(Y,Me);null!=et&&(h.push(fe),b.set(fe,et))}});const x=new jr(h);return new Jp(b,x,l.fieldTransforms)}function ng(i,e,t,o,l,h){const b=i.ac(1,e,t),x=[og(e,o,t)],z=[l];if(h.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<h.length;et+=2)x.push(og(e,h[et])),z.push(h[et+1]);const Y=[],fe=J.empty();for(let et=x.length-1;et>=0;--et)if(!ag(Y,x[et])){const gt=x[et];let yt=z[et];yt=(0,Ke.m9)(yt);const dn=b.sc(gt);if(yt instanceof $c)Y.push(gt);else{const Jn=nc(yt,dn);null!=Jn&&(Y.push(gt),fe.set(gt,Jn))}}const Me=new jr(Y);return new Jp(fe,Me,b.fieldTransforms)}function rg(i,e,t,o=!1){return nc(t,i.ac(o?4:3,e))}function nc(i,e){if(ig(i=(0,Ke.m9)(i)))return sg("Unsupported field value:",e,i),Ys(i,e);if(i instanceof Ml)return function(t,o){if(!Xp(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const b of t){let x=nc(b,o.ic(h));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nh(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Ni.fromDate(t);return{timestampValue:Lu(o.M,l)}}if(t instanceof Ni){const l=new Ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lu(o.M,l)}}if(t instanceof Vd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:wa(o.M,t._byteString)};if(t instanceof Gi){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o.rc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vu(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${kd(t)}`)}(i,e)}function Ys(i,e){const t={};return Rl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(i,(o,l)=>{const h=nc(l,e.tc(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function ig(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ni||i instanceof Vd||i instanceof Ga||i instanceof Gi||i instanceof Ml)}function sg(i,e,t){if(!ig(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=kd(t);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function og(i,e,t){if((e=(0,Ke.m9)(e))instanceof Sl)return e._internalPath;if("string"==typeof e)return hf(i,e);throw Ud("Field path arguments must be of type string or ",i,!1,void 0,t)}const Wm=new RegExp("[~\\*/\\[\\]]");function hf(i,e,t){if(e.search(Wm)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sl(...e.split("."))._internalPath}catch(o){throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ud(i,e,t,o,l){const h=o&&!o.isEmpty(),b=void 0!==l;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let z="";return(h||b)&&(z+=" (found",h&&(z+=` in field ${o}`),b&&(z+=` in document ${l}`),z+=")"),new K(U.INVALID_ARGUMENT,x+i+z)}function ag(i,e){return i.some(t=>t.isEqual(e))}class ul{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tv extends ul{data(){return super.data()}}function ff(i,e){return"string"==typeof e?hf(i,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends ul{constructor(e,t,o,l,h,b){super(e,t,o,l,b),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(ff("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Gc extends xl{data(e={}){return super.data(e)}}class rc{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new pu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Gc(this._firestore,this._userDataWriter,o.key,o,new pu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new Gc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new pu(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>l||3!==b.type).map(b=>{const x=new Gc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new pu(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let z=-1,Y=-1;return 0!==b.type&&(z=h.indexOf(b.doc.key),h=h.delete(b.doc.key)),1!==b.type&&(h=h.add(b.doc),Y=h.indexOf(b.doc.key)),{type:lg(b.type),doc:x,oldIndex:z,newIndex:Y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return f()}}function pf(i,e){return i instanceof xl&&e instanceof xl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof rc&&e instanceof rc&&i._firestore===e._firestore&&Vm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function za(i){if(Ll(i)&&0===i.explicitOrderBy.length)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jd{}function Ol(i,...e){for(const t of e)i=t._apply(i);return i}class cl extends jd{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=fu(e.firestore),o=function(l,h,b,x,z,Y,fe){let Me;if(z.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){hg(fe,Y);const gt=[];for(const yt of fe)gt.push(dg(x,l,yt));Me={arrayValue:{values:gt}}}else Me=dg(x,l,fe)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||hg(fe,Y),Me=rg(b,"where",fe,"in"===Y||"not-in"===Y);const et=ds.create(z,Y,Me);return function(gt,yt){if(yt.S()){const Jn=Vl(gt);if(null!==Jn&&!Jn.isEqual(yt.field))throw new K(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Jn.toString()}' and '${yt.field.toString()}'`);const qi=Xd(gt);null!==qi&&Hd(0,yt.field,qi)}const dn=function(Jn,qi){for(const ts of Jn.filters)if(qi.indexOf(ts.op)>=0)return ts.op;return null}(gt,function(Jn){switch(Jn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(yt.op));if(null!==dn)throw new K(U.INVALID_ARGUMENT,dn===yt.op?`Invalid query. You cannot use more than one '${yt.op.toString()}' filter.`:`Invalid query. You cannot use '${yt.op.toString()}' filters with '${dn.toString()}' filters.`)}(l,et),et}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ko(e.firestore,e.converter,function(l,h){const b=l.filters.concat([h]);return new ta(l.path,l.collectionGroup,l.explicitOrderBy.slice(),b,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class Wa extends jd{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,l,h){if(null!==o.startAt)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Tu(l,h);return function(x,z){if(null===Xd(x)){const Y=Vl(x);null!==Y&&Hd(0,Y,z.field)}}(o,b),b}(e._query,this.lc,this._c);return new ko(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new ta(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class ug extends jd{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new ko(e.firestore,e.converter,cc(e._query,this.wc,this.mc))}}class Km extends jd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Qm(e,this.type,this.gc,this.yc);return new ko(e.firestore,e.converter,(l=t,new ta((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class zc extends jd{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=Qm(e,this.type,this.gc,this.yc);return new ko(e.firestore,e.converter,(l=t,new ta((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Qm(i,e,t,o){if(t[0]=(0,Ke.m9)(t[0]),t[0]instanceof ul)return function(l,h,b,x,z){if(!x)throw new K(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Y=[];for(const fe of pl(l))if(fe.field.isKeyField())Y.push(ga(h,x.key));else{const Me=x.data.field(fe.field);if(xr(Me))throw new K(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Me){const et=fe.field.canonicalString();throw new K(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}Y.push(Me)}return new ma(Y,z)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=fu(i.firestore);return function(h,b,x,z,Y,fe){const Me=h.explicitOrderBy;if(Y.length>Me.length)throw new K(U.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let gt=0;gt<Y.length;gt++){const yt=Y[gt];if(Me[gt].field.isKeyField()){if("string"!=typeof yt)throw new K(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof yt}`);if(!Au(h)&&-1!==yt.indexOf("/"))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${yt}' contains a slash.`);const dn=h.path.child(Pt.fromString(yt));if(!Bt.isDocumentKey(dn))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${dn}' is not because it contains an odd number of segments.`);const Jn=new Bt(dn);et.push(ga(b,Jn))}else{const dn=rg(x,z,yt);et.push(dn)}}return new ma(et,fe)}(i._query,i.firestore._databaseId,l,e,t,o)}}function dg(i,e,t){if("string"==typeof(t=(0,Ke.m9)(t))){if(""===t)throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Au(e)&&-1!==t.indexOf("/"))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Pt.fromString(t));if(!Bt.isDocumentKey(o))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ga(i,new Bt(o))}if(t instanceof Gi)return ga(i,t._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(t)}.`)}function hg(i,e){if(!Array.isArray(i)||0===i.length)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new K(U.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hd(i,e,t){if(!t.isEqual(e))throw new K(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class fg{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw f()}}convertObject(e,t){const o={};return Da(e.fields,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Vd(Di(e.latitude),Di(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Xi(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const t=pr(e);return new Ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Pt.fromString(e);C(Nn(o));const l=new Ri(o.get(1),o.get(3)),h=new Bt(o.popFirst(5));return l.isEqual(t)||_(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function $d(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Jm extends fg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class gf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fu(e)}set(e,t,o){this._verifyNotCommitted();const l=Za(e,this._firestore),h=$d(l.converter,t,o),b=Bd(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,o);return this._mutations.push(b.toMutation(l._key,vs.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const h=Za(e,this._firestore);let b;return b="string"==typeof(t=(0,Ke.m9)(t))||t instanceof Sl?ng(this._dataReader,"WriteBatch.update",h._key,t,o,l):tg(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(b.toMutation(h._key,vs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Za(e,this._firestore);return this._mutations=this._mutations.concat(new Pu(t._key,vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Za(i,e){if((i=(0,Ke.m9)(i)).firestore!==e)throw new K(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class gu extends fg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function pg(i,e,t){i=Hr(i,Gi);const o=Hr(i.firestore,zi),l=$d(i.converter,e,t);return qc(o,[Bd(fu(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,vs.none())])}function sy(i,e,t,...o){i=Hr(i,Gi);const l=Hr(i.firestore,zi),h=fu(l);let b;return b="string"==typeof(e=(0,Ke.m9)(e))||e instanceof Sl?ng(h,"updateDoc",i._key,e,t,o):tg(h,"updateDoc",i._key,e),qc(l,[b.toMutation(i._key,vs.exists(!0))])}function oy(i,...e){var t,o,l;i=(0,Ke.m9)(i);let h={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||tc(e[b])||(h=e[b],b++);const x={includeMetadataChanges:h.includeMetadataChanges};if(tc(e[b])){const Me=e[b];e[b]=null===(t=Me.next)||void 0===t?void 0:t.bind(Me),e[b+1]=null===(o=Me.error)||void 0===o?void 0:o.bind(Me),e[b+2]=null===(l=Me.complete)||void 0===l?void 0:l.bind(Me)}let z,Y,fe;if(i instanceof Gi)Y=Hr(i.firestore,zi),fe=ya(i._key.path),z={next:Me=>{e[b]&&e[b](gg(Y,i,Me))},error:e[b+1],complete:e[b+2]};else{const Me=Hr(i,ko);Y=Hr(Me.firestore,zi),fe=Me._query;const et=new gu(Y);z={next:gt=>{e[b]&&e[b](new rc(Y,et,Me,gt))},error:e[b+1],complete:e[b+2]},za(i._query)}return function(Me,et,gt,yt){const dn=new Pd(yt),Jn=new Yh(et,dn,gt);return Me.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return _p(yield hu(Me),Jn)})),()=>{dn.Ia(),Me.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return bp(yield hu(Me),Jn)}))}}(ws(Y),fe,x,z)}function qc(i,e){return function(t,o){const l=new Ae;return t.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function Em(i,e,t){return Cm.apply(this,arguments)}(yield Bp(t),o,l)})),l.promise}(ws(i),e)}function gg(i,e,t){const o=t.docs.get(e._key),l=new gu(i);return new xl(i,l,e._key,o,new pu(t.hasPendingWrites,t.fromCache),e.converter)}class Rv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fu(e)}get(e){const t=Za(e,this._firestore),o=new Jm(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return f();const h=l[0];if(h.isFoundDocument())return new ul(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new ul(this._firestore,o,t._key,null,t.converter);throw f()})}set(e,t,o){const l=Za(e,this._firestore),h=$d(l.converter,t,o),b=Bd(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,o);return this._transaction.set(l._key,b),this}update(e,t,o,...l){const h=Za(e,this._firestore);let b;return b="string"==typeof(t=(0,Ke.m9)(t))||t instanceof Sl?ng(this._dataReader,"Transaction.update",h._key,t,o,l):tg(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,b),this}delete(e){const t=Za(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Za(e,this._firestore),o=new gu(this._firestore);return super.get(e).then(l=>new xl(this._firestore,o,t._key,l._document,new pu(!1,!1),t.converter))}}function mf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new K("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function mg(){if("undefined"==typeof Uint8Array)throw new K("unimplemented","Uint8Arrays are not available in this environment.")}function yg(){if(!function $o(){return"undefined"!=typeof atob}())throw new K("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Do=se.SDK_VERSION,(0,se._registerComponent)(new Be.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),h=new zi(l,new jt(t.getProvider("auth-internal")),new Ci(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,se.registerVersion)(Ho,"3.4.8",i),(0,se.registerVersion)(Ho,"3.4.8","esm2017")}();class Wc{constructor(e){this._delegate=e}static fromBase64String(e){return yg(),new Wc(Ga.fromBase64String(e))}static fromUint8Array(e){return mg(),new Wc(Ga.fromUint8Array(e))}toBase64(){return yg(),this._delegate.toBase64()}toUint8Array(){return mg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yf(i){return function uy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class cy{enableIndexedDbPersistence(e,t){return function X_(i,e){Qp(i=Hr(i,zi));const t=ws(i),o=i._freezeSettings(),l=new nf;return Ld(t,l,new Np(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ev(i){Qp(i=Hr(i,zi));const e=ws(i),t=i._freezeSettings(),o=new nf;return Ld(e,o,new Mm(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cf(i){if(i._initialized&&!i._terminated)throw new K(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ae;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{yield(t=(0,ie.Z)(function*(o){if(!Ba.vt())return Promise.resolve();const l=o+"main";yield Ba.delete(l)}),function(o){return t.apply(this,arguments)})(xh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ri||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&c("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function bv(i,e,t,o={}){var l;const h=(i=Hr(i,Fd))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&c("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let b,x;if("string"==typeof o.mockUserToken)b=o.mockUserToken,x=Pi.MOCK_USER;else{b=(0,Ke.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Pi(z)}i._authCredentials=new ct(new lt(b,x))}}(this._delegate,e,t,o)}enableNetwork(){return function jm(i){return function mv(i){return i.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield Rm(i),t=yield gv(i);return e.setNetworkEnabled(!0),function(o){const l=P(o);return l.fu.delete(0),Vh(l)}(t)}))}(ws(i=Hr(i,zi)))}(this._delegate)}disableNetwork(){return function Kp(i){return function Z_(i){return i.asyncQueue.enqueue((0,ie.Z)(function*(){const e=yield Rm(i),t=yield gv(i);return e.setNetworkEnabled(!1),(o=(0,ie.Z)(function*(l){const h=P(l);h.fu.add(0),yield Nc(h),h.wu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(ws(i=Hr(i,zi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,$p("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Um(i){return function(e){const t=new Ae;return e.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function Ap(i,e){return Sp.apply(this,arguments)}(yield Bp(e),t)})),t.promise}(ws(i=Hr(i,zi)))}(this._delegate)}onSnapshotsInSync(e){return function Nv(i,e){return function Y_(i,e){const t=new Pd(e);return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return o=yield hu(i),l=t,P(o).Eu.add(l),void l.next();var o,l})),()=>{t.Ia(),i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return o=yield hu(i),l=t,void P(o).Eu.delete(l);var o,l}))}}(ws(i=Hr(i,zi)),tc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new K("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yc(this,Gp(this._delegate,e))}catch(t){throw oa(t,"collection()","Firestore.collection()")}}doc(e){try{return new fo(this,qp(this._delegate,e))}catch(t){throw oa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new aa(this,function zp(i,e){if(i=Hr(i,Fd),Hp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ko(i,null,(t=e,new ta(Pt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw oa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kv(i,e){return function _v(i,e){const t=new Ae;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){const o=yield(l=i,of(l).then(h=>h.datastore));var l;new pv(i.asyncQueue,o,e,t).run()})),t.promise}(ws(i=Hr(i,zi)),t=>e(new Rv(i,t)))}(this._delegate,t=>e(new mu(this,t)))}batch(){return ws(this._delegate),new dy(new gf(this._delegate,e=>qc(this._delegate,e)))}loadBundle(e){return function Hm(i,e){const t=ws(i=Hr(i,zi)),o=new Bm;return function jc(i,e,t,o){const l=function(h,b){let x;return x="string"==typeof h?(new TextEncoder).encode(h):h,z=function(z,Y){if(z instanceof Uint8Array)return Rp(z,Y);if(z instanceof ArrayBuffer)return Rp(new Uint8Array(z),Y);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new xm(z,b);var z}(t,Dd(e));i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){!function Sm(i,e,t){const o=P(i);var l;(l=(0,ie.Z)(function*(h,b,x){try{const z=yield b.getMetadata();if(yield function(et,gt){const yt=P(et),dn=Ks(gt.createTime);return yt.persistence.runTransaction("hasNewerBundle","readonly",Jn=>yt._s.getBundleMetadata(Jn,gt.id)).then(Jn=>!!Jn&&Jn.createTime.compareTo(dn)>=0)}(h.localStore,z))return yield b.close(),x._completeWith({taskState:"Success",documentsLoaded:(et=z).totalDocuments,bytesLoaded:et.totalBytes,totalDocuments:et.totalDocuments,totalBytes:et.totalBytes}),Promise.resolve(new Set);x._updateProgress(mm(z));const Y=new sv(z,h.localStore,b.M);let fe=yield b.da();for(;fe;){const et=yield Y.ku(fe);et&&x._updateProgress(et),fe=yield b.da()}const Me=yield Y.complete();return yield Na(h,Me.Fu,void 0),yield function(et,gt){const yt=P(et);return yt.persistence.runTransaction("Save bundle","readwrite",dn=>yt._s.saveBundleMetadata(dn,gt))}(h.localStore,z),x._completeWith(Me.progress),Promise.resolve(Me.Ou)}catch(z){return c("SyncEngine",`Loading bundle failed with ${z}`),x._failWith(z),Promise.resolve(new Set)}var et}),function(h,b,x){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Bp(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Yp(i,e){return function wv(i,e){return i.asyncQueue.enqueue((0,ie.Z)(function*(){return function(t,o){const l=P(t);return l.persistence.runTransaction("Get named query","readonly",h=>l._s.getNamedQuery(h,o))}(yield Vp(i),e)}))}(ws(i=Hr(i,zi)),e).then(t=>t?new ko(i,null,t.query):null)}(this._delegate,e).then(t=>t?new aa(this,t):null)}}class Gd extends fg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fo.forKey(t,this.firestore,null)}}class mu{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gd(e)}get(e){const t=sc(e);return this._delegate.get(t).then(o=>new Zc(this._firestore,new xl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=sc(e);return o?(mf("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=sc(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=sc(e);return this._delegate.delete(t),this}}class dy{constructor(e){this._delegate=e}set(e,t,o){const l=sc(e);return o?(mf("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=sc(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=sc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ic{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Gc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kc(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=ic.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let h=l.get(t);return h||(h=new ic(e,new Gd(e),t),l.set(t,h)),h}}ic.INSTANCES=new WeakMap;class fo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new K("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fo(t,new Gi(t._delegate,o,new Bt(e)))}static forKey(e,t,o){return new fo(t,new Gi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yc(this.firestore,Gp(this._delegate,e))}catch(t){throw oa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Gi&&lf(this._delegate,e)}set(e,t){t=mf("DocumentReference.set",t);try{return t?pg(this._delegate,e,t):pg(this._delegate,e)}catch(o){throw oa(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?sy(this._delegate,e):sy(this._delegate,e,t,...o)}catch(l){throw oa(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Ov(i){return qc(Hr(i.firestore,zi),[new Pu(i._key,vs.none())])}(this._delegate)}onSnapshot(...e){const t=vf(e),o=Hv(e,l=>new Zc(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return oy(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ey(i){i=Hr(i,Gi);const e=Hr(i.firestore,zi),t=ws(e),o=new gu(e);return function K_(i,e){const t=new Ae;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(o=(0,ie.Z)(function*(l,h,b){try{const x=yield function(z,Y){const fe=P(z);return fe.persistence.runTransaction("read document","readonly",Me=>fe.ci.Ls(Me,Y))}(l,h);x.isFoundDocument()?b.resolve(x):x.isNoDocument()?b.resolve(null):b.reject(new K(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const z=Qu(x,`Failed to get document '${h} from cache`);b.reject(z)}}),function(l,h,b){return o.apply(this,arguments)})(yield Vp(i),e,t);var o})),t.promise}(t,i._key).then(l=>new xl(e,o,i._key,l,new pu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ty(i){i=Hr(i,Gi);const e=Hr(i.firestore,zi);return yv(ws(e),i._key,{source:"server"}).then(t=>gg(e,i,t))}(this._delegate):function Xm(i){i=Hr(i,Gi);const e=Hr(i.firestore,zi);return yv(ws(e),i._key).then(t=>gg(e,i,t))}(this._delegate),t.then(o=>new Zc(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new fo(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}function oa(i,e,t){return i.message=i.message.replace(e,t),i}function vf(i){for(const e of i)if("object"==typeof e&&!yf(e))return e;return{}}function Hv(i,e){var t,o;let l;return l=yf(i[0])?i[0]:yf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Zc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pf(this._delegate,e._delegate)}}class Kc extends Zc{data(e){const t=this._delegate.data(e);return function T(i,e){i||f()}(void 0!==t),t}}class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gd(e)}where(e,t,o){try{return new aa(this.firestore,Ol(this._delegate,function qa(i,e,t){const o=e,l=ff("where",i);return new cl(l,o,t)}(e,t,o)))}catch(l){throw oa(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new aa(this.firestore,Ol(this._delegate,function Zm(i,e="asc"){const t=e,o=ff("orderBy",i);return new Wa(o,t)}(e,t)))}catch(o){throw oa(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new aa(this.firestore,Ol(this._delegate,function Av(i){return Fm("limit",i),new ug("limit",i,"F")}(e)))}catch(t){throw oa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new aa(this.firestore,Ol(this._delegate,function Sv(i){return Fm("limitToLast",i),new ug("limitToLast",i,"L")}(e)))}catch(t){throw oa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new aa(this.firestore,Ol(this._delegate,function Mv(...i){return new Km("startAt",i,!0)}(...e)))}catch(t){throw oa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new aa(this.firestore,Ol(this._delegate,function cg(...i){return new Km("startAfter",i,!1)}(...e)))}catch(t){throw oa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new aa(this.firestore,Ol(this._delegate,function xv(...i){return new zc("endBefore",i,!1)}(...e)))}catch(t){throw oa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new aa(this.firestore,Ol(this._delegate,function Ym(...i){return new zc("endAt",i,!0)}(...e)))}catch(t){throw oa(t,"endAt()","Query.endAt()")}}isEqual(e){return Vm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ry(i){i=Hr(i,ko);const e=Hr(i.firestore,zi),t=ws(e),o=new gu(e);return function vv(i,e){const t=new Ae;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return(o=(0,ie.Z)(function*(l,h,b){try{const x=yield Dl(l,h,!0),z=new Dp(h,x.li),Y=z.Gu(x.documents),fe=z.applyChanges(Y,!1);b.resolve(fe.snapshot)}catch(x){const z=Qu(x,`Failed to execute query '${h} against cache`);b.reject(z)}}),function(l,h,b){return o.apply(this,arguments)})(yield Vp(i),e,t);var o})),t.promise}(t,i._query).then(l=>new rc(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function iy(i){i=Hr(i,ko);const e=Hr(i.firestore,zi),t=ws(e),o=new gu(e);return Up(t,i._query,{source:"server"}).then(l=>new rc(e,o,i,l))}(this._delegate):function ny(i){i=Hr(i,ko);const e=Hr(i.firestore,zi),t=ws(e),o=new gu(e);return za(i._query),Up(t,i._query).then(l=>new rc(e,o,i,l))}(this._delegate),t.then(o=>new wg(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=vf(e),o=Hv(e,l=>new wg(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return oy(this._delegate,t,o)}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}class Bn{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Bn(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Kc(this._firestore,o))})}isEqual(e){return pf(this._delegate,e._delegate)}}class Yc extends aa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fo(this.firestore,e):null}doc(e){try{return new fo(this.firestore,void 0===e?qp(this._delegate):qp(this._delegate,e))}catch(t){throw oa(t,"doc()","CollectionReference.doc()")}}add(e){return function Pv(i,e){const t=Hr(i.firestore,zi),o=qp(i),l=$d(i.converter,e);return qc(t,[Bd(fu(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,vs.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new fo(this.firestore,t))}isEqual(e){return lf(this._delegate,e._delegate)}withConverter(e){return new Yc(this.firestore,this._delegate.withConverter(e?ic.getInstance(this.firestore,e):null))}}function sc(i){return Hr(i,Gi)}class Qc{constructor(...e){this._delegate=new Sl(...e)}static documentId(){return new Qc(On.keyField().canonicalString())}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Sl&&this._delegate._internalPath.isEqual(e._internalPath)}}class oc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lv(){return new df("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new oc(e)}static delete(){const e=function Fv(){return new $c("deleteField")}();return e._methodName="FieldValue.delete",new oc(e)}static arrayUnion(...e){const t=function Vv(...i){return new zm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new oc(t)}static arrayRemove(...e){const t=function Bv(...i){return new qm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new oc(t)}static increment(e){const t=function Uv(i){return new e0("increment",i)}(e);return t._methodName="FieldValue.increment",new oc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _f={Firestore:vg,GeoPoint:Vd,Timestamp:Ni,Blob:Wc,Transaction:mu,WriteBatch:dy,DocumentReference:fo,DocumentSnapshot:Zc,Query:aa,QueryDocumentSnapshot:Kc,QuerySnapshot:wg,CollectionReference:Yc,FieldPath:Qc,FieldValue:oc,setLogLevel:function _g(i){!function k(i){xs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Ns(i){(function wf(i,e){i.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},_f)))})(i,(e,t)=>new vg(e,t,new cy)),i.registerVersion("@firebase/firestore-compat","0.1.17")}(Et.Z);var ac=$(1205),hy=$(440),$v=$(127);function bg(i,e){return function Gv(i,e=S.z){return new X.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function bf(i,e){return bg(i,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function zd(i,e){return bf(i,e).pipe((0,dt.O)(void 0),Ne(),(0,Qe.U)(([t,o])=>{const l=o.payload.docChanges(),h=l.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((b,x)=>{const z=l.find(fe=>fe.doc.ref.isEqual(b.ref)),Y=null==t?void 0:t.payload.docs.find(fe=>fe.ref.isEqual(b.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(b.metadata)||!z&&Y&&JSON.stringify(Y.metadata)===JSON.stringify(b.metadata)||h.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:b}})}),h}))}function py(i,e,t){return zd(i,t).pipe((0,ot.R)((o,l)=>function zv(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function qd(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Eg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(h=>h.payload),e),[]),function pe(i,e=he.y){return i=null!=i?i:Oe,(0,Le.e)((t,o)=>{let l,h=!0;t.subscribe((0,Pe.x)(o,b=>{const x=e(b);(h||!i(l,x))&&(h=!1,l=x,o.next(b))}))})}(),(0,Qe.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Eg(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function gy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class my{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=zd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,dt.O)(void 0),Ne(),(0,ft.h)(([o,l])=>l.length>0||!o),(0,Qe.U)(([o,l])=>l),De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ot.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=gy(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return bf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),De.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(De.iC)}add(e){return this.ref.add(e)}doc(e){return new yy(this.ref.doc(e),this.afs)}}class yy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:h}=Jc(o,t);return new my(l,h,this.afs)}snapshotChanges(){return function fy(i,e){return bg(i,e).pipe((0,dt.O)(void 0),Ne(),(0,Qe.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ae.D)(this.ref.get(e)).pipe(De.iC)}}class Ef{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ft.h)(t=>t.length>0),De.iC):zd(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ot.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=gy(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return bf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),De.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(De.iC)}}const Cg=new y.OlP("angularfire2.enableFirestorePersistence"),Ig=new y.OlP("angularfire2.firestore.persistenceSettings"),vy=new y.OlP("angularfire2.firestore.settings"),qv=new y.OlP("angularfire2.firestore.use-emulator");function Jc(i,e=(t=>t)){return{query:e(i),ref:i}}let Xc=(()=>{class i{constructor(t,o,l,h,b,x,z,Y,fe,Me,et,gt,yt,dn,Jn,qi,ts){this.schedulers=z;const Ai=(0,We.on)(t,x,o),Qs=fe;Me&&(0,ac.nw)(Ai,x,et,yt,dn,Jn,gt,qi),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${Ai.name}.firestore`,"AngularFirestore",Ai.name,()=>{const ns=x.runOutsideAngular(()=>Ai.firestore());if(h&&ns.settings(h),Qs&&ns.useEmulator(...Qs),l&&!(0,nt.PM)(b)){const bs=()=>{try{return(0,ae.D)(ns.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(Fo){return"undefined"!=typeof console&&console.warn(Fo),(0,ce.of)(!1)}};return[ns,x.runOutsideAngular(bs)]}return[ns,(0,ce.of)(!1)]},[h,Qs,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:b}=Jc(l,o),x=this.schedulers.ngZone.run(()=>h);return new my(x,b,this)}collectionGroup(t,o){const l=o||(b=>b),h=this.firestore.collectionGroup(t);return new Ef(l(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new yy(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(We.Dh),y.LFG(We.xv,8),y.LFG(Cg,8),y.LFG(vy,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(De.HU),y.LFG(Ig,8),y.LFG(qv,8),y.LFG(ac.zQ,8),y.LFG(ac.Qv,8),y.LFG(ac.L6,8),y.LFG(ac._Q,8),y.LFG(ac.rT,8),y.LFG(ac.lh,8),y.LFG(ac.f7,8),y.LFG(hy.nm,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Wv=(()=>{class i{constructor(){$v.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Cg,useValue:!0},{provide:Ig,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[Xc]}),i})()},2011:(Nt,ze,$)=>{"use strict";$.d(ze,{Dh:()=>Pe,GT:()=>De,cc:()=>Qe,hO:()=>dt,on:()=>he,pX:()=>ce,xv:()=>Ne});var y=$(5e3),S=$(127),X=$(5813);Nt=$.hmd(Nt);const ae=["ngOnDestroy"],ce=(nt,At,Et,ie={})=>new Proxy(nt,{get:(se,Be)=>Et.runOutsideAngular(()=>{var qe;if(nt[Be])return(null===(qe=null==ie?void 0:ie.spy)||void 0===qe?void 0:qe.get)&&ie.spy.get(Be,nt[Be]),nt[Be];if(ae.indexOf(Be)>-1)return()=>{};const Ke=At.toPromise().then(ne=>{const de=ne&&ne[Be];return"function"==typeof de?de.bind(ne):de&&de.then?de.then(oe=>Et.run(()=>oe)):Et.run(()=>de)});return new Proxy(()=>{},{get:(ne,de)=>Ke[de],apply:(ne,de,oe)=>Ke.then(me=>{var ge;const Ue=me&&me(...oe);return(null===(ge=null==ie?void 0:ie.spy)||void 0===ge?void 0:ge.apply)&&ie.spy.apply(Be,oe,Ue),Ue})})})}),De=(nt,At)=>{At.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(ie=>{Object.defineProperty(nt.prototype,ie,Object.getOwnPropertyDescriptor(Et.prototype||Et,ie))})})};class Le{constructor(At){return At}}const Pe=new y.OlP("angularfire2.app.options"),Ne=new y.OlP("angularfire2.app.name");function he(nt,At,Et){const se="object"==typeof Et&&Et||{};se.name=se.name||"string"==typeof Et&&Et||"[DEFAULT]";const qe=S.Z.apps.filter(Ke=>Ke&&Ke.name===se.name)[0]||At.runOutsideAngular(()=>S.Z.initializeApp(nt,se));try{JSON.stringify(nt)!==JSON.stringify(qe.options)&&pe("error",`${qe.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new Le(qe)}const pe=(nt,...At)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[nt](...At)},Oe={provide:Le,useFactory:he,deps:[Pe,y.R0b,[new y.FiY,Ne]]};let dt=(()=>{class nt{constructor(Et){S.Z.registerVersion("angularfire",X.q4.full,"core"),S.Z.registerVersion("angularfire",X.q4.full,"app-compat"),S.Z.registerVersion("angular",y.q4F.full,Et.toString())}static initializeApp(Et,ie){return{ngModule:nt,providers:[{provide:Pe,useValue:Et},{provide:Ne,useValue:ie}]}}}return nt.\u0275fac=function(Et){return new(Et||nt)(y.LFG(y.Lbi))},nt.\u0275mod=y.oAB({type:nt}),nt.\u0275inj=y.cJS({providers:[Oe]}),nt})();function Qe(nt,At,Et,ie,se){const[,Be,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===nt)||[];if(Be)return function ot(nt,At){try{return nt.toString()===At.toString()}catch(Et){return nt===At}}(se,qe)||(We("error",`${At} was already initialized on the ${Et} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:se,was:qe})),Be;{const Ke=ie();return globalThis.\u0275AngularfireInstanceCache.push([nt,Ke,se]),Ke}}const ft=!!Nt.hot,We=(nt,...At)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[nt](...At)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Nt,ze,$)=>{"use strict";$.d(ze,{q4:()=>ao,iC:()=>La,HU:()=>ga,vb:()=>fa,JM:()=>Xo});var y=$(5e3),S=$(5867),X=$(5861),ae=$(9681),ce=$(2090),De=$(4859),Le=$(1877);const Pe="@firebase/installations",pe="w:0.5.8",Oe="FIS_v2",nt=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(R){return R instanceof ce.ZR&&R.code.includes("request-failed")}function Et({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function ie(R){return{token:R.token,requestStatus:2,expiresIn:oe(R.expiresIn),creationTime:Date.now()}}function se(R,j){return Be.apply(this,arguments)}function Be(){return(Be=(0,X.Z)(function*(R,j){const ye=(yield j.json()).error;return nt.create("request-failed",{requestName:R,serverCode:ye.code,serverMessage:ye.message,serverStatus:ye.status})})).apply(this,arguments)}function qe({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Ke(R,{refreshToken:j}){const J=qe(R);return J.append("Authorization",function me(R){return`${Oe} ${R}`}(j)),J}function ne(R){return de.apply(this,arguments)}function de(){return(de=(0,X.Z)(function*(R){const j=yield R();return j.status>=500&&j.status<600?R():j})).apply(this,arguments)}function oe(R){return Number(R.replace("s","000"))}function ge(R,j){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,X.Z)(function*({appConfig:R,heartbeatServiceProvider:j},{fid:J}){const ye=Et(R),Re=qe(R),Ze=j.getImmediate({optional:!0});if(Ze){const Pn=yield Ze.getHeartbeatsHeader();Pn&&Re.append("x-firebase-client",Pn)}const Jt={method:"POST",headers:Re,body:JSON.stringify({fid:J,authVersion:Oe,appId:R.appId,sdkVersion:pe})},fn=yield ne(()=>fetch(ye,Jt));if(fn.ok){const Pn=yield fn.json();return{fid:Pn.fid||J,registrationStatus:2,refreshToken:Pn.refreshToken,authToken:ie(Pn.authToken)}}throw yield se("Create Installation",fn)})).apply(this,arguments)}function je(R){return new Promise(j=>{setTimeout(j,R)})}const Ft=/^[cdef][\w-]{21}$/;function Ct(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const J=function ht(R){return function qt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Ft.test(J)?J:""}catch(R){return""}}function Wt(R){return`${R.appName}!${R.appId}`}const kt=new Map;function Rn(R,j){const J=Wt(R);ln(J,j),function wn(R,j){const J=function jn(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=R=>{ln(R.data.key,R.data.fid)}),In}();J&&J.postMessage({key:R,fid:j}),function Gr(){0===kt.size&&In&&(In.close(),In=null)}()}(J,j)}function ln(R,j){const J=kt.get(R);if(J)for(const ye of J)ye(j)}let In=null;const Tn="firebase-installations-store";let Ar=null;function Vn(){return Ar||(Ar=(0,ce.X3)("firebase-installations-database",1,(R,j)=>{0===j&&R.createObjectStore(Tn)})),Ar}function St(R,j){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,X.Z)(function*(R,j){const J=Wt(R),Re=(yield Vn()).transaction(Tn,"readwrite"),Ze=Re.objectStore(Tn),It=yield Ze.get(J);return yield Ze.put(j,J),yield Re.complete,(!It||It.fid!==j.fid)&&Rn(R,j.fid),j})).apply(this,arguments)}function xn(R){return rn.apply(this,arguments)}function rn(){return(rn=(0,X.Z)(function*(R){const j=Wt(R),ye=(yield Vn()).transaction(Tn,"readwrite");yield ye.objectStore(Tn).delete(j),yield ye.complete})).apply(this,arguments)}function Sr(R,j){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,X.Z)(function*(R,j){const J=Wt(R),Re=(yield Vn()).transaction(Tn,"readwrite"),Ze=Re.objectStore(Tn),It=yield Ze.get(J),Jt=j(It);return void 0===Jt?yield Ze.delete(J):yield Ze.put(Jt,J),yield Re.complete,Jt&&(!It||It.fid!==Jt.fid)&&Rn(R,Jt.fid),Jt})).apply(this,arguments)}function tr(R){return un.apply(this,arguments)}function un(){return(un=(0,X.Z)(function*(R){let j;const J=yield Sr(R.appConfig,ye=>{const Re=mr(ye),Ze=lr(R,Re);return j=Ze.registrationPromise,Ze.installationEntry});return""===J.fid?{installationEntry:yield j}:{installationEntry:J,registrationPromise:j}})).apply(this,arguments)}function mr(R){return yn(R||{fid:Ct(),registrationStatus:0})}function lr(R,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(nt.create("app-offline"))};const J={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},ye=function Dt(R,j){return Tt.apply(this,arguments)}(R,J);return{installationEntry:J,registrationPromise:ye}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Mt(R)}:{installationEntry:j}}function Tt(){return(Tt=(0,X.Z)(function*(R,j){try{const J=yield ge(R,j);return St(R.appConfig,J)}catch(J){throw At(J)&&409===J.customData.serverCode?yield xn(R.appConfig):yield St(R.appConfig,{fid:j.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Mt(R){return ur.apply(this,arguments)}function ur(){return(ur=(0,X.Z)(function*(R){let j=yield Or(R.appConfig);for(;1===j.registrationStatus;)yield je(100),j=yield Or(R.appConfig);if(0===j.registrationStatus){const{installationEntry:J,registrationPromise:ye}=yield tr(R);return ye||J}return j})).apply(this,arguments)}function Or(R){return Sr(R,j=>{if(!j)throw nt.create("installation-not-found");return yn(j)})}function yn(R){return function ki(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function yr(R,j){return qn.apply(this,arguments)}function qn(){return(qn=(0,X.Z)(function*({appConfig:R,heartbeatServiceProvider:j},J){const ye=Gt(R,J),Re=Ke(R,J),Ze=j.getImmediate({optional:!0});if(Ze){const Pn=yield Ze.getHeartbeatsHeader();Pn&&Re.append("x-firebase-client",Pn)}const Jt={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:pe,appId:R.appId}})},fn=yield ne(()=>fetch(ye,Jt));if(fn.ok)return ie(yield fn.json());throw yield se("Generate Auth Token",fn)})).apply(this,arguments)}function Gt(R,{fid:j}){return`${Et(R)}/${j}/authTokens:generate`}function vr(R){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,X.Z)(function*(R,j=!1){let J;const ye=yield Sr(R.appConfig,Ze=>{if(!Ht(Ze))throw nt.create("not-registered");const It=Ze.authToken;if(!j&&we(It))return Ze;if(1===It.requestStatus)return J=Lt(R,j),Ze;{if(!navigator.onLine)throw nt.create("app-offline");const Jt=Ce(Ze);return J=Xt(R,Jt),Jt}});return J?yield J:ye.authToken})).apply(this,arguments)}function Lt(R,j){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,X.Z)(function*(R,j){let J=yield xt(R.appConfig);for(;1===J.authToken.requestStatus;)yield je(100),J=yield xt(R.appConfig);const ye=J.authToken;return 0===ye.requestStatus?vr(R,j):ye})).apply(this,arguments)}function xt(R){return Sr(R,j=>{if(!Ht(j))throw nt.create("not-registered");return function Ye(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function Xt(R,j){return En.apply(this,arguments)}function En(){return(En=(0,X.Z)(function*(R,j){try{const J=yield yr(R,j),ye=Object.assign(Object.assign({},j),{authToken:J});return yield St(R.appConfig,ye),J}catch(J){if(!At(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ye=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield St(R.appConfig,ye)}else yield xn(R.appConfig);throw J}})).apply(this,arguments)}function Ht(R){return void 0!==R&&2===R.registrationStatus}function we(R){return 2===R.requestStatus&&!function ue(R){const j=Date.now();return j<R.creationTime||R.creationTime+R.expiresIn<j+36e5}(R)}function Ce(R){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:j})}function _t(){return(_t=(0,X.Z)(function*(R){const j=R,{installationEntry:J,registrationPromise:ye}=yield tr(j);return ye?ye.catch(console.error):vr(j).catch(console.error),J.fid})).apply(this,arguments)}function _e(){return(_e=(0,X.Z)(function*(R,j=!1){const J=R;return yield re(J),(yield vr(J,j)).token})).apply(this,arguments)}function re(R){return Se.apply(this,arguments)}function Se(){return(Se=(0,X.Z)(function*(R){const{registrationPromise:j}=yield tr(R);j&&(yield j)})).apply(this,arguments)}function wr(R){return nt.create("missing-app-config-values",{valueName:R})}const ai="installations",pt=R=>{const j=R.getProvider("app").getImmediate(),J=function Xn(R){if(!R||!R.options)throw wr("App Configuration");if(!R.name)throw wr("App Name");const j=["projectId","apiKey","appId"];for(const J of j)if(!R.options[J])throw wr(J);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(j);return{app:j,appConfig:J,heartbeatServiceProvider:(0,ae._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},Zt=R=>{const j=R.getProvider("app").getImmediate(),J=(0,ae._getProvider)(j,ai).getImmediate();return{getId:()=>function Fe(R){return _t.apply(this,arguments)}(J),getToken:Re=>function Ee(R){return _e.apply(this,arguments)}(J,Re)}};(function gn(){(0,ae._registerComponent)(new De.wA(ai,pt,"PUBLIC")),(0,ae._registerComponent)(new De.wA("installations-internal",Zt,"PRIVATE"))})(),(0,ae.registerVersion)(Pe,"0.5.8"),(0,ae.registerVersion)(Pe,"0.5.8","esm2017");const gr="@firebase/remote-config",Ir=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zi{constructor(j,J,ye,Re){this.client=j,this.storage=J,this.storageCache=ye,this.logger=Re}isCachedDataFresh(j,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ye=Date.now()-J,Re=ye<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${Re}.`),Re}fetch(j){var J=this;return(0,X.Z)(function*(){const[ye,Re]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Re&&J.isCachedDataFresh(j.cacheMaxAgeMillis,ye))return Re;j.eTag=Re&&Re.eTag;const Ze=yield J.client.fetch(j),It=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&It.push(J.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(It),Ze})()}}function Ki(R=navigator){return R.languages&&R.languages[0]||R.language}class Js{constructor(j,J,ye,Re,Ze,It){this.firebaseInstallations=j,this.sdkVersion=J,this.namespace=ye,this.projectId=Re,this.apiKey=Ze,this.appId=It}fetch(j){var J=this;return(0,X.Z)(function*(){const[ye,Re]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},fn={sdk_version:J.sdkVersion,app_instance_id:ye,app_instance_id_token:Re,app_id:J.appId,language_code:Ki()},Pn={method:"POST",headers:Jt,body:JSON.stringify(fn)},Er=fetch(It,Pn),Gn=new Promise((Wo,Mo)=>{j.signal.addEventListener(()=>{const ea=new Error("The operation was aborted.");ea.name="AbortError",Mo(ea)})});let hi;try{yield Promise.race([Er,Gn]),hi=yield Er}catch(Wo){let Mo="fetch-client-network";throw"AbortError"===Wo.name&&(Mo="fetch-timeout"),Ir.create(Mo,{originalErrorMessage:Wo.message})}let cs=hi.status;const Qa=hi.headers.get("ETag")||void 0;let fl,Zs;if(200===hi.status){let Wo;try{Wo=yield hi.json()}catch(Mo){throw Ir.create("fetch-client-parse",{originalErrorMessage:Mo.message})}fl=Wo.entries,Zs=Wo.state}if("INSTANCE_STATE_UNSPECIFIED"===Zs?cs=500:"NO_CHANGE"===Zs?cs=304:("NO_TEMPLATE"===Zs||"EMPTY_CONFIG"===Zs)&&(fl={}),304!==cs&&200!==cs)throw Ir.create("fetch-status",{httpStatus:cs});return{status:cs,eTag:Qa,config:fl}})()}}class Xs{constructor(j,J){this.client=j,this.storage=J}fetch(j){var J=this;return(0,X.Z)(function*(){const ye=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(j,ye)})()}attemptFetch(j,{throttleEndTimeMillis:J,backoffCount:ye}){var Re=this;return(0,X.Z)(function*(){yield function Qn(R,j){return new Promise((J,ye)=>{const Re=Math.max(j-Date.now(),0),Ze=setTimeout(J,Re);R.addEventListener(()=>{clearTimeout(Ze),ye(Ir.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,J);try{const Ze=yield Re.client.fetch(j);return yield Re.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function Es(R){if(!(R instanceof ce.ZR&&R.customData))return!1;const j=Number(R.customData.httpStatus);return 429===j||500===j||503===j||504===j}(Ze))throw Ze;const It={throttleEndTimeMillis:Date.now()+(0,ce.$s)(ye),backoffCount:ye+1};return yield Re.storage.setThrottleMetadata(It),Re.attemptFetch(j,It)}})()}}class $e{constructor(j,J,ye,Re,Ze){this.app=j,this._client=J,this._storageCache=ye,this._storage=Re,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function st(R,j){const J=R.target.error||void 0;return Ir.create(j,{originalErrorMessage:J&&J.message})}const wt="app_namespace_store";class Wn{constructor(j,J,ye,Re=function nr(){return new Promise((R,j)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ye=>{j(st(ye,"storage-open"))},J.onsuccess=ye=>{R(ye.target.result)},J.onupgradeneeded=ye=>{0===ye.oldVersion&&ye.target.result.createObjectStore(wt,{keyPath:"compositeKey"})}}catch(J){j(Ir.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=j,this.appName=J,this.namespace=ye,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var J=this;return(0,X.Z)(function*(){const ye=yield J.openDbPromise;return new Promise((Re,Ze)=>{const Jt=ye.transaction([wt],"readonly").objectStore(wt),fn=J.createCompositeKey(j);try{const Pn=Jt.get(fn);Pn.onerror=Er=>{Ze(st(Er,"storage-get"))},Pn.onsuccess=Er=>{const Gn=Er.target.result;Re(Gn?Gn.value:void 0)}}catch(Pn){Ze(Ir.create("storage-get",{originalErrorMessage:Pn&&Pn.message}))}})})()}set(j,J){var ye=this;return(0,X.Z)(function*(){const Re=yield ye.openDbPromise;return new Promise((Ze,It)=>{const fn=Re.transaction([wt],"readwrite").objectStore(wt),Pn=ye.createCompositeKey(j);try{const Er=fn.put({compositeKey:Pn,value:J});Er.onerror=Gn=>{It(st(Gn,"storage-set"))},Er.onsuccess=()=>{Ze()}}catch(Er){It(Ir.create("storage-set",{originalErrorMessage:Er&&Er.message}))}})})()}delete(j){var J=this;return(0,X.Z)(function*(){const ye=yield J.openDbPromise;return new Promise((Re,Ze)=>{const Jt=ye.transaction([wt],"readwrite").objectStore(wt),fn=J.createCompositeKey(j);try{const Pn=Jt.delete(fn);Pn.onerror=Er=>{Ze(st(Er,"storage-delete"))},Pn.onsuccess=()=>{Re()}}catch(Pn){Ze(Ir.create("storage-delete",{originalErrorMessage:Pn&&Pn.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class Mi{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,X.Z)(function*(){const J=j.storage.getLastFetchStatus(),ye=j.storage.getLastSuccessfulFetchTimestampMillis(),Re=j.storage.getActiveConfig(),Ze=yield J;Ze&&(j.lastFetchStatus=Ze);const It=yield ye;It&&(j.lastSuccessfulFetchTimestampMillis=It);const Jt=yield Re;Jt&&(j.activeConfig=Jt)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function vi(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,X.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(R){return!1}})).apply(this,arguments)}!function is(){(0,ae._registerComponent)(new De.wA("remote-config",function R(j,{instanceIdentifier:J}){const ye=j.getProvider("app").getImmediate(),Re=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ir.create("registration-window");if(!(0,ce.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:Ze,apiKey:It,appId:Jt}=ye.options;if(!Ze)throw Ir.create("registration-project-id");if(!It)throw Ir.create("registration-api-key");if(!Jt)throw Ir.create("registration-app-id");const fn=new Wn(Jt,ye.name,J=J||"firebase"),Pn=new Mi(fn),Er=new Le.Yd(gr);Er.logLevel=Le.in.ERROR;const Gn=new Js(Re,ae.SDK_VERSION,J,Ze,It,Jt),hi=new Xs(Gn,fn),cs=new Zi(hi,fn,Pn,Er),Qa=new $e(ye,cs,Pn,fn,Er);return function Rr(R){const j=(0,ce.m9)(R);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(gr,"0.3.7"),(0,ae.registerVersion)(gr,"0.3.7","esm2017")}();const Cs="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",ni="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gs="google.c.a.c_id",Yi="google.c.a.c_l",Bs="google.c.a.ts",os="google.c.a.e";var Wr=(()=>{return(R=Wr||(Wr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Wr;var R})();function pi(R){const j=new Uint8Array(R);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ds(R){const J=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ye=atob(J),Re=new Uint8Array(ye.length);for(let Ze=0;Ze<ye.length;++Ze)Re[Ze]=ye.charCodeAt(Ze);return Re}const Us="fcm_token_details_db",kr="fcm_token_object_Store";function _i(R){return ks.apply(this,arguments)}function ks(){return ks=(0,X.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(Us))return null;let j=null;return(yield(0,ce.X3)(Us,5,function(){var ye=(0,X.Z)(function*(Re,Ze,It,Jt){var fn;if(Ze<2||!Re.objectStoreNames.contains(kr))return;const Pn=Jt.objectStore(kr),Er=yield Pn.index("fcmSenderId").get(R);if(yield Pn.clear(),Er)if(2===Ze){const Gn=Er;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;j={token:Gn.fcmToken,createTime:null!==(fn=Gn.createTime)&&void 0!==fn?fn:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:pi(Gn.vapidKey)}}}else if(3===Ze){const Gn=Er;j={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:pi(Gn.auth),p256dh:pi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:pi(Gn.vapidKey)}}}else if(4===Ze){const Gn=Er;j={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:pi(Gn.auth),p256dh:pi(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:pi(Gn.vapidKey)}}}});return function(Re,Ze,It,Jt){return ye.apply(this,arguments)}}())).close(),yield(0,ce.Lj)(Us),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Yr(j)?j:null}),ks.apply(this,arguments)}function Yr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:j}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const zr="firebase-messaging-store";let Bi=null;function eo(){return Bi||(Bi=(0,ce.X3)("firebase-messaging-database",1,(R,j)=>{0===j&&R.createObjectStore(zr)})),Bi}function rr(R){return V.apply(this,arguments)}function V(){return(V=(0,X.Z)(function*(R){const j=Je(R),ye=yield(yield eo()).transaction(zr).objectStore(zr).get(j);if(ye)return ye;{const Re=yield _i(R.appConfig.senderId);if(Re)return yield Z(R,Re),Re}})).apply(this,arguments)}function Z(R,j){return L.apply(this,arguments)}function L(){return(L=(0,X.Z)(function*(R,j){const J=Je(R),Re=(yield eo()).transaction(zr,"readwrite");return yield Re.objectStore(zr).put(j,J),yield Re.complete,j})).apply(this,arguments)}function ee(R){return be.apply(this,arguments)}function be(){return(be=(0,X.Z)(function*(R){const j=Je(R),ye=(yield eo()).transaction(zr,"readwrite");yield ye.objectStore(zr).delete(j),yield ye.complete})).apply(this,arguments)}function Je({appConfig:R}){return R.appId}const bt=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $n(R,j){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,X.Z)(function*(R,j){const J=yield Qi(R),ye=cn(j),Re={method:"POST",headers:J,body:JSON.stringify(ye)};let Ze;try{Ze=yield(yield fetch(sr(R.appConfig),Re)).json()}catch(It){throw bt.create("token-subscribe-failed",{errorInfo:It})}if(Ze.error)throw bt.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw bt.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function Cn(R,j){return An.apply(this,arguments)}function An(){return(An=(0,X.Z)(function*(R,j){const J=yield Qi(R),ye=cn(j.subscriptionOptions),Re={method:"PATCH",headers:J,body:JSON.stringify(ye)};let Ze;try{Ze=yield(yield fetch(`${sr(R.appConfig)}/${j.token}`,Re)).json()}catch(It){throw bt.create("token-update-failed",{errorInfo:It})}if(Ze.error)throw bt.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw bt.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function Dr(R,j){return ir.apply(this,arguments)}function ir(){return(ir=(0,X.Z)(function*(R,j){const ye={method:"DELETE",headers:yield Qi(R)};try{const Ze=yield(yield fetch(`${sr(R.appConfig)}/${j}`,ye)).json();if(Ze.error)throw bt.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(Re){throw bt.create("token-unsubscribe-failed",{errorInfo:Re})}})).apply(this,arguments)}function sr({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Qi(R){return gi.apply(this,arguments)}function gi(){return(gi=(0,X.Z)(function*({appConfig:R,installations:j}){const J=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function cn({p256dh:R,auth:j,endpoint:J,vapidKey:ye}){const Re={web:{endpoint:J,auth:j,p256dh:R}};return ye!==ni&&(Re.web.applicationPubKey=ye),Re}const Ui=6048e5;function bi(R){return js.apply(this,arguments)}function js(){return(js=(0,X.Z)(function*(R){const j=yield $t(R.swRegistration,R.vapidKey),J={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:j.endpoint,auth:pi(j.getKey("auth")),p256dh:pi(j.getKey("p256dh"))},ye=yield rr(R.firebaseDependencies);if(ye){if(ri(ye.subscriptionOptions,J))return Date.now()>=ye.createTime+Ui?F(R,{token:ye.token,createTime:Date.now(),subscriptionOptions:J}):ye.token;try{yield Dr(R.firebaseDependencies,ye.token)}catch(Re){console.warn(Re)}return H(R.firebaseDependencies,J)}return H(R.firebaseDependencies,J)})).apply(this,arguments)}function Ts(R){return B.apply(this,arguments)}function B(){return(B=(0,X.Z)(function*(R){const j=yield rr(R.firebaseDependencies);j&&(yield Dr(R.firebaseDependencies,j.token),yield ee(R.firebaseDependencies));const J=yield R.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function F(R,j){return N.apply(this,arguments)}function N(){return(N=(0,X.Z)(function*(R,j){try{const J=yield Cn(R.firebaseDependencies,j),ye=Object.assign(Object.assign({},j),{token:J,createTime:Date.now()});return yield Z(R.firebaseDependencies,ye),J}catch(J){throw yield Ts(R),J}})).apply(this,arguments)}function H(R,j){return He.apply(this,arguments)}function He(){return(He=(0,X.Z)(function*(R,j){const ye={token:yield $n(R,j),createTime:Date.now(),subscriptionOptions:j};return yield Z(R,ye),ye.token})).apply(this,arguments)}function $t(R,j){return vn.apply(this,arguments)}function vn(){return(vn=(0,X.Z)(function*(R,j){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ds(j)})})).apply(this,arguments)}function ri(R,j){return j.vapidKey===R.vapidKey&&j.endpoint===R.endpoint&&j.auth===R.auth&&j.p256dh===R.p256dh}function ii(R){const j={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Qr(R,j){if(!j.notification)return;R.notification={};const J=j.notification.title;J&&(R.notification.title=J);const ye=j.notification.body;ye&&(R.notification.body=ye);const Re=j.notification.image;Re&&(R.notification.image=Re)}(j,R),function to(R,j){!j.data||(R.data=j.data)}(j,R),function As(R,j){if(!j.fcmOptions)return;R.fcmOptions={};const J=j.fcmOptions.link;J&&(R.fcmOptions.link=J);const ye=j.fcmOptions.analytics_label;ye&&(R.fcmOptions.analyticsLabel=ye)}(j,R),j}function po(R){return"object"==typeof R&&!!R&&gs in R}function la(R,j){const J=[];for(let ye=0;ye<R.length;ye++)J.push(R.charAt(ye)),ye<j.length&&J.push(j.charAt(ye));return J.join("")}function no(R){return bt.create("missing-app-config-values",{valueName:R})}la("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),la("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ei{constructor(j,J,ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function Lo(R){if(!R||!R.options)throw no("App Configuration Object");if(!R.name)throw no("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:J}=R;for(const ye of j)if(!J[ye])throw no(ye);return{appName:R.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:Re,installations:J,analyticsProvider:ye}}_delete(){return Promise.resolve()}}function ji(R){return go.apply(this,arguments)}function go(){return(go=(0,X.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(Cs,{scope:xi}),R.swRegistration.update().catch(()=>{})}catch(j){throw bt.create("failed-service-worker-registration",{browserErrorMessage:j.message})}})).apply(this,arguments)}function ms(R,j){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,X.Z)(function*(R,j){if(!j&&!R.swRegistration&&(yield ji(R)),j||!R.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");R.swRegistration=j}})).apply(this,arguments)}function ro(R,j){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,X.Z)(function*(R,j){j?R.vapidKey=j:R.vapidKey||(R.vapidKey=ni)})).apply(this,arguments)}function Jr(){return(Jr=(0,X.Z)(function*(R,j){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield ro(R,null==j?void 0:j.vapidKey),yield ms(R,null==j?void 0:j.serviceWorkerRegistration),bi(R)})).apply(this,arguments)}function yo(R,j,J){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,X.Z)(function*(R,j,J){const ye=vo(j);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ye,{message_id:J[gs],message_name:J[Yi],message_time:J[Bs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vo(R){switch(R){case Wr.NOTIFICATION_CLICKED:return"notification_open";case Wr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _o(){return(_o=(0,X.Z)(function*(R,j){const J=j.data;if(!J.isFirebaseMessaging)return;R.onMessageHandler&&J.messageType===Wr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(ii(J)):R.onMessageHandler.next(ii(J)));const ye=J.data;po(ye)&&"1"===ye[os]&&(yield yo(R,J.messageType,ye))})).apply(this,arguments)}const ho="@firebase/messaging",wo=R=>{const j=new Ei(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function Ea(R,j){return _o.apply(this,arguments)}(j,J)),j},$s=R=>{const j=R.getProvider("messaging").getImmediate();return{getToken:ye=>function mo(R,j){return Jr.apply(this,arguments)}(j,ye)}};function Fs(){return io.apply(this,arguments)}function io(){return(io=(0,X.Z)(function*(){try{yield(0,ce.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yo(){(0,ae._registerComponent)(new De.wA("messaging",wo,"PUBLIC")),(0,ae._registerComponent)(new De.wA("messaging-internal",$s,"PRIVATE")),(0,ae.registerVersion)(ho,"0.9.12"),(0,ae.registerVersion)(ho,"0.9.12","esm2017")}();const Eo="analytics",ka="firebase_id",Ss="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Co="https://www.googletagmanager.com/gtag/js",Xr=new Le.Yd("@firebase/analytics");function ci(R){return Promise.all(R.map(j=>j.catch(J=>J)))}function Fa(R,j){const J=document.createElement("script");J.src=`${Co}?l=${R}&id=${j}`,J.async=!0,document.head.appendChild(J)}function zs(R,j,J,ye,Re,Ze){return co.apply(this,arguments)}function co(){return(co=(0,X.Z)(function*(R,j,J,ye,Re,Ze){const It=ye[Re];try{if(It)yield j[It];else{const fn=(yield ci(J)).find(Pn=>Pn.measurementId===Re);fn&&(yield j[fn.appId])}}catch(Jt){Xr.error(Jt)}R("config",Re,Ze)})).apply(this,arguments)}function di(R,j,J,ye,Re){return so.apply(this,arguments)}function so(){return(so=(0,X.Z)(function*(R,j,J,ye,Re){try{let Ze=[];if(Re&&Re.send_to){let It=Re.send_to;Array.isArray(It)||(It=[It]);const Jt=yield ci(J);for(const fn of It){const Pn=Jt.find(Gn=>Gn.measurementId===fn),Er=Pn&&j[Pn.appId];if(!Er){Ze=[];break}Ze.push(Er)}}0===Ze.length&&(Ze=Object.values(j)),yield Promise.all(Ze),R("event",ye,Re||{})}catch(Ze){Xr.error(Ze)}})).apply(this,arguments)}function ua(){const R=window.document.getElementsByTagName("script");for(const j of Object.values(R))if(j.src&&j.src.includes(Co))return j;return null}const dr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),M=new class A{constructor(j={},J=1e3){this.throttleMetadata=j,this.intervalMillis=J}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,J){this.throttleMetadata[j]=J}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function W(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function ve(R){return rt.apply(this,arguments)}function rt(){return(rt=(0,X.Z)(function*(R){var j;const{appId:J,apiKey:ye}=R,Re={method:"GET",headers:W(ye)},Ze=Ss.replace("{app-id}",J),It=yield fetch(Ze,Re);if(200!==It.status&&304!==It.status){let Jt="";try{const fn=yield It.json();(null===(j=fn.error)||void 0===j?void 0:j.message)&&(Jt=fn.error.message)}catch(fn){}throw dr.create("config-fetch-failed",{httpStatus:It.status,responseMessage:Jt})}return It.json()})).apply(this,arguments)}function hn(R){return fr.apply(this,arguments)}function fr(){return(fr=(0,X.Z)(function*(R,j=M,J){const{appId:ye,apiKey:Re,measurementId:Ze}=R.options;if(!ye)throw dr.create("no-app-id");if(!Re){if(Ze)return{measurementId:Ze,appId:ye};throw dr.create("no-api-key")}const It=j.getThrottleMetadata(ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new Pi;return setTimeout((0,X.Z)(function*(){Jt.abort()}),void 0!==J?J:6e4),$i({appId:ye,apiKey:Re,measurementId:Ze},It,Jt,j)})).apply(this,arguments)}function $i(R,j,J){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,X.Z)(function*(R,{throttleEndTimeMillis:j,backoffCount:J},ye,Re=M){const{appId:Ze,measurementId:It}=R;try{yield jo(ye,j)}catch(Jt){if(It)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:Ze,measurementId:It};throw Jt}try{const Jt=yield ve(R);return Re.deleteThrottleMetadata(Ze),Jt}catch(Jt){if(!Ho(Jt)){if(Re.deleteThrottleMetadata(Ze),It)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${It} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:Ze,measurementId:It};throw Jt}const fn=503===Number(Jt.customData.httpStatus)?(0,ce.$s)(J,Re.intervalMillis,30):(0,ce.$s)(J,Re.intervalMillis),Pn={throttleEndTimeMillis:Date.now()+fn,backoffCount:J+1};return Re.setThrottleMetadata(Ze,Pn),Xr.debug(`Calling attemptFetch again in ${fn} millis`),$i(R,Pn,ye,Re)}})).apply(this,arguments)}function jo(R,j){return new Promise((J,ye)=>{const Re=Math.max(j-Date.now(),0),Ze=setTimeout(J,Re);R.addEventListener(()=>{clearTimeout(Ze),ye(dr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function Ho(R){if(!(R instanceof ce.ZR&&R.customData))return!1;const j=Number(R.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Pi{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}function Do(){return xs.apply(this,arguments)}function xs(){return(xs=(0,X.Z)(function*(){if(!(0,ce.hl)())return Xr.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(R){return Xr.warn(dr.create("indexeddb-unavailable",{errorInfo:R}).message),!1}return!0})).apply(this,arguments)}function k(){return(k=(0,X.Z)(function*(R,j,J,ye,Re,Ze,It){var Jt;const fn=hn(R);fn.then(cs=>{J[cs.measurementId]=cs.appId,R.options.measurementId&&cs.measurementId!==R.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${cs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cs=>Xr.error(cs)),j.push(fn);const Pn=Do().then(cs=>{if(cs)return ye.getId()}),[Er,Gn]=yield Promise.all([fn,Pn]);ua()||Fa(Ze,Er.measurementId),Re("js",new Date);const hi=null!==(Jt=null==It?void 0:It.config)&&void 0!==Jt?Jt:{};return hi.origin="firebase",hi.update=!0,null!=Gn&&(hi[ka]=Gn),Re("config",Er.measurementId,hi),Er.measurementId})).apply(this,arguments)}class v{constructor(j){this.app=j}_delete(){return delete _[this.app.options.appId],Promise.resolve()}}let _={},c=[];const p={};let T,P,f="dataLayer",U=!1;function lt(R,j,J){!function Ae(){const R=[];if((0,ce.ru)()&&R.push("This is a browser extension environment."),(0,ce.zI)()||R.push("Cookies are not available."),R.length>0){const j=R.map((ye,Re)=>`(${Re+1}) ${ye}`).join(" "),J=dr.create("invalid-analytics-context",{errorInfo:j});Xr.warn(J.message)}}();const ye=R.options.appId;if(!ye)throw dr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw dr.create("no-api-key");Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_[ye])throw dr.create("already-exists",{id:ye});if(!U){!function us(R){let j=[];Array.isArray(window[R])?j=window[R]:window[R]=j}(f);const{wrappedGtag:Ze,gtagCore:It}=function Jo(R,j,J,ye,Re){let Ze=function(...It){window[ye].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Ze=window[Re]),window[Re]=function Qo(R,j,J,ye){function Ze(){return(Ze=(0,X.Z)(function*(It,Jt,fn){try{"event"===It?yield di(R,j,J,Jt,fn):"config"===It?yield zs(R,j,J,ye,Jt,fn):R("set",Jt)}catch(Pn){Xr.error(Pn)}})).apply(this,arguments)}return function Re(It,Jt,fn){return Ze.apply(this,arguments)}}(Ze,R,j,J),{gtagCore:Ze,wrappedGtag:window[Re]}}(_,c,p,f,"gtag");P=Ze,T=It,U=!0}return _[ye]=function To(R,j,J,ye,Re,Ze,It){return k.apply(this,arguments)}(R,c,p,j,T,f,J),new v(R)}function ct(){return(ct=(0,X.Z)(function*(R,j,J,ye,Re){if(Re&&Re.global)R("event",J,ye);else{const Ze=yield j;R("event",J,Object.assign(Object.assign({},ye),{send_to:Ze}))}})).apply(this,arguments)}function Ji(){return oo.apply(this,arguments)}function oo(){return(oo=(0,X.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(R){return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function Fn(){(0,ae._registerComponent)(new De.wA(Eo,(j,{options:J})=>lt(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,ae._registerComponent)(new De.wA("analytics-internal",function R(j){try{const J=j.getProvider(Eo).getImmediate();return{logEvent:(ye,Re,Ze)=>function Rl(R,j,J,ye){R=(0,ce.m9)(R),function Vt(R,j,J,ye,Re){return ct.apply(this,arguments)}(P,_[R.app.options.appId],j,J,ye).catch(Re=>Xr.error(Re))}(J,ye,Re,Ze)}}catch(J){throw dr.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,ae.registerVersion)(on,"0.7.8"),(0,ae.registerVersion)(on,"0.7.8","esm2017")}();var On=$(4408),$o=$(7565);const Ao=new class Mn extends $o.v{}(class jr extends On.o{constructor(j,J){super(j,J),this.scheduler=j,this.work=J}schedule(j,J=0){return J>0?super.schedule(j,J):(this.delay=J,this.state=j,this.scheduler.flush(this),this)}execute(j,J){return J>0||this.closed?super.execute(j,J):this._execute(j,J)}requestAsyncId(j,J,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(j,J,ye):j.flush(this)}});var Di=$(4986),Go=$(8505),xr=$(9468),Xi=$(5363);const ao=new y.GfV("7.3.0"),qs="__angularfire_symbol__analyticsIsSupportedValue",Ri="__angularfire_symbol__analyticsIsSupported",Ws="__angularfire_symbol__remoteConfigIsSupportedValue",ha="__angularfire_symbol__remoteConfigIsSupported",kl="__angularfire_symbol__messagingIsSupportedValue",Bt="__angularfire_symbol__messagingIsSupported";function Xo(R,j,J){if(j){if(1===j.length)return j[0];const Ze=j.filter(It=>It.app===J);if(1===Ze.length)return Ze[0]}return J.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ri]||(globalThis[Ri]=Ji().then(R=>globalThis[qs]=R).catch(()=>globalThis[qs]=!1)),globalThis[Bt]||(globalThis[Bt]=Fs().then(R=>globalThis[kl]=R).catch(()=>globalThis[kl]=!1)),globalThis[ha]||(globalThis[ha]=vi().then(R=>globalThis[Ws]=R).catch(()=>globalThis[Ws]=!1));const fa=(R,j)=>{const J=j?[j]:(0,S.C6)(),ye=[];return J.forEach(Re=>{Re.container.getProvider(R).instances.forEach(It=>{ye.includes(It)||ye.push(It)})}),ye};function Ta(){}class pa{constructor(j,J=Ao){this.zone=j,this.delegate=J}now(){return this.delegate.now()}schedule(j,J,ye){const Re=this.zone;return this.delegate.schedule(function(It){Re.runGuarded(()=>{j.apply(this,[It])})},J,ye)}}class wu{constructor(j){this.zone=j,this.task=null}call(j,J){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)),J.pipe((0,Go.b)({next:ye,complete:ye,error:ye})).subscribe(j).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ga=(()=>{class R{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new pa(Zone.current)),this.insideAngular=J.run(()=>new pa(Zone.current,Di.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(J){return new(J||R)(y.LFG(y.R0b))},R.\u0275prov=y.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function qo(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function La(R){return qo(),function Aa(R){return function(J){return(J=J.lift(new wu(R.ngZone))).pipe((0,xr.R)(R.outsideAngular),(0,Xi.Q)(R.insideAngular))}}(qo())(R)}},2090:(Nt,ze,$)=>{"use strict";$.d(ze,{$s:()=>ki,BH:()=>Qe,G6:()=>ne,L:()=>Ne,LL:()=>qt,Lj:()=>En,Mn:()=>qe,Sg:()=>ot,UG:()=>nt,US:()=>Le,X3:()=>Xt,ZB:()=>Oe,ZR:()=>je,b$:()=>ie,d:()=>se,eu:()=>oe,hl:()=>de,jU:()=>At,m9:()=>Gt,ne:()=>St,pd:()=>Ar,r3:()=>ln,ru:()=>Et,tV:()=>he,uI:()=>We,vZ:()=>Gr,w1:()=>Be,xO:()=>ar,xb:()=>In,z$:()=>ft,zI:()=>me,zd:()=>Tn});var y=$(5861);const ce=function(we){const ue=[];let Ce=0;for(let Ye=0;Ye<we.length;Ye++){let Fe=we.charCodeAt(Ye);Fe<128?ue[Ce++]=Fe:Fe<2048?(ue[Ce++]=Fe>>6|192,ue[Ce++]=63&Fe|128):55296==(64512&Fe)&&Ye+1<we.length&&56320==(64512&we.charCodeAt(Ye+1))?(Fe=65536+((1023&Fe)<<10)+(1023&we.charCodeAt(++Ye)),ue[Ce++]=Fe>>18|240,ue[Ce++]=Fe>>12&63|128,ue[Ce++]=Fe>>6&63|128,ue[Ce++]=63&Fe|128):(ue[Ce++]=Fe>>12|224,ue[Ce++]=Fe>>6&63|128,ue[Ce++]=63&Fe|128)}return ue},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,ue){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ye=[];for(let Fe=0;Fe<we.length;Fe+=3){const _t=we[Fe],Ee=Fe+1<we.length,_e=Ee?we[Fe+1]:0,re=Fe+2<we.length,Se=re?we[Fe+2]:0;let en=(15&_e)<<2|Se>>6,Hn=63&Se;re||(Hn=64,Ee||(en=64)),Ye.push(Ce[_t>>2],Ce[(3&_t)<<4|_e>>4],Ce[en],Ce[Hn])}return Ye.join("")},encodeString(we,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(we):this.encodeByteArray(ce(we),ue)},decodeString(we,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(we):function(we){const ue=[];let Ce=0,Ye=0;for(;Ce<we.length;){const Fe=we[Ce++];if(Fe<128)ue[Ye++]=String.fromCharCode(Fe);else if(Fe>191&&Fe<224){const _t=we[Ce++];ue[Ye++]=String.fromCharCode((31&Fe)<<6|63&_t)}else if(Fe>239&&Fe<365){const re=((7&Fe)<<18|(63&we[Ce++])<<12|(63&we[Ce++])<<6|63&we[Ce++])-65536;ue[Ye++]=String.fromCharCode(55296+(re>>10)),ue[Ye++]=String.fromCharCode(56320+(1023&re))}else{const _t=we[Ce++],Ee=we[Ce++];ue[Ye++]=String.fromCharCode((15&Fe)<<12|(63&_t)<<6|63&Ee)}}return ue.join("")}(this.decodeStringToByteArray(we,ue))},decodeStringToByteArray(we,ue){this.init_();const Ce=ue?this.charToByteMapWebSafe_:this.charToByteMap_,Ye=[];for(let Fe=0;Fe<we.length;){const _t=Ce[we.charAt(Fe++)],_e=Fe<we.length?Ce[we.charAt(Fe)]:0;++Fe;const Se=Fe<we.length?Ce[we.charAt(Fe)]:64;++Fe;const mt=Fe<we.length?Ce[we.charAt(Fe)]:64;if(++Fe,null==_t||null==_e||null==Se||null==mt)throw Error();Ye.push(_t<<2|_e>>4),64!==Se&&(Ye.push(_e<<4&240|Se>>2),64!==mt&&Ye.push(Se<<6&192|mt))}return Ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},Ne=function(we){return function(we){const ue=ce(we);return Le.encodeByteArray(ue,!0)}(we).replace(/\./g,"")},he=function(we){try{return Le.decodeString(we,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function Oe(we,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return ue}for(const Ce in ue)!ue.hasOwnProperty(Ce)||!dt(Ce)||(we[Ce]=Oe(we[Ce],ue[Ce]));return we}function dt(we){return"__proto__"!==we}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,Ce)=>{this.resolve=ue,this.reject=Ce})}wrapCallback(ue){return(Ce,Ye)=>{Ce?this.reject(Ce):this.resolve(Ye),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(Ce):ue(Ce,Ye))}}}function ot(we,ue){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ye=ue||"demo-project",Fe=we.iat||0,_t=we.sub||we.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${Ye}`,aud:Ye,iat:Fe,exp:Fe+3600,auth_time:Fe,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(Ee)),""].join(".")}function ft(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function nt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(we){return!1}}function At(){return"object"==typeof self&&self.self===self}function Et(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){return ft().indexOf("Electron/")>=0}function Be(){const we=ft();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function qe(){return ft().indexOf("MSAppHost/")>=0}function ne(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"object"==typeof indexedDB}function oe(){return new Promise((we,ue)=>{try{let Ce=!0;const Ye="validate-browser-context-for-indexeddb-analytics-module",Fe=self.indexedDB.open(Ye);Fe.onsuccess=()=>{Fe.result.close(),Ce||self.indexedDB.deleteDatabase(Ye),we(!0)},Fe.onupgradeneeded=()=>{Ce=!1},Fe.onerror=()=>{var _t;ue((null===(_t=Fe.error)||void 0===_t?void 0:_t.message)||"")}}catch(Ce){ue(Ce)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class je extends Error{constructor(ue,Ce,Ye){super(Ce),this.code=ue,this.customData=Ye,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(ue,Ce,Ye){this.service=ue,this.serviceName=Ce,this.errors=Ye}create(ue,...Ce){const Ye=Ce[0]||{},Fe=`${this.service}/${ue}`,_t=this.errors[ue],Ee=_t?function Ft(we,ue){return we.replace(nn,(Ce,Ye)=>{const Fe=ue[Ye];return null!=Fe?String(Fe):`<${Ye}?>`})}(_t,Ye):"Error";return new je(Fe,`${this.serviceName}: ${Ee} (${Fe}).`,Ye)}}const nn=/\{\$([^}]+)}/g;function ln(we,ue){return Object.prototype.hasOwnProperty.call(we,ue)}function In(we){for(const ue in we)if(Object.prototype.hasOwnProperty.call(we,ue))return!1;return!0}function Gr(we,ue){if(we===ue)return!0;const Ce=Object.keys(we),Ye=Object.keys(ue);for(const Fe of Ce){if(!Ye.includes(Fe))return!1;const _t=we[Fe],Ee=ue[Fe];if(zn(_t)&&zn(Ee)){if(!Gr(_t,Ee))return!1}else if(_t!==Ee)return!1}for(const Fe of Ye)if(!Ce.includes(Fe))return!1;return!0}function zn(we){return null!==we&&"object"==typeof we}function ar(we){const ue=[];for(const[Ce,Ye]of Object.entries(we))Array.isArray(Ye)?Ye.forEach(Fe=>{ue.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Fe))}):ue.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ye));return ue.length?"&"+ue.join("&"):""}function Tn(we){const ue={};return we.replace(/^\?/,"").split("&").forEach(Ye=>{if(Ye){const[Fe,_t]=Ye.split("=");ue[decodeURIComponent(Fe)]=decodeURIComponent(_t)}}),ue}function Ar(we){const ue=we.indexOf("?");if(!ue)return"";const Ce=we.indexOf("#",ue);return we.substring(ue,Ce>0?Ce:void 0)}function St(we,ue){const Ce=new Yt(we,ue);return Ce.subscribe.bind(Ce)}class Yt{constructor(ue,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{ue(this)}).catch(Ye=>{this.error(Ye)})}next(ue){this.forEachObserver(Ce=>{Ce.next(ue)})}error(ue){this.forEachObserver(Ce=>{Ce.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,Ce,Ye){let Fe;if(void 0===ue&&void 0===Ce&&void 0===Ye)throw new Error("Missing Observer.");Fe=function rn(we,ue){if("object"!=typeof we||null===we)return!1;for(const Ce of ue)if(Ce in we&&"function"==typeof we[Ce])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:Ce,complete:Ye},void 0===Fe.next&&(Fe.next=Sr),void 0===Fe.error&&(Fe.error=Sr),void 0===Fe.complete&&(Fe.complete=Sr);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Fe.error(this.finalError):Fe.complete()}catch(Ee){}}),this.observers.push(Fe),_t}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,ue)}sendOne(ue,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{Ce(this.observers[ue])}catch(Ye){"undefined"!=typeof console&&console.error&&console.error(Ye)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}function ki(we,ue=1e3,Ce=2){const Ye=ue*Math.pow(Ce,we),Fe=Math.round(.5*Ye*(Math.random()-.5)*2);return Math.min(144e5,Ye+Fe)}function Gt(we){return we&&we._delegate?we._delegate:we}function vr(we,ue){return new Promise((Ce,Ye)=>{we.onsuccess=Fe=>{Ce(Fe.target.result)},we.onerror=Fe=>{var _t;Ye(`${ue}: ${null===(_t=Fe.target.error)||void 0===_t?void 0:_t.message}`)}})}class Dn{constructor(ue){this._db=ue,this.objectStoreNames=this._db.objectStoreNames}transaction(ue,Ce="readonly"){return new Lt(this._db.transaction.call(this._db,ue,Ce))}createObjectStore(ue,Ce){return new Ve(this._db.createObjectStore(ue,Ce))}close(){this._db.close()}}class Lt{constructor(ue){this._transaction=ue,this.complete=new Promise((Ce,Ye)=>{this._transaction.oncomplete=function(){Ce()},this._transaction.onerror=()=>{Ye(this._transaction.error)},this._transaction.onabort=()=>{Ye(this._transaction.error)}})}objectStore(ue){return new Ve(this._transaction.objectStore(ue))}}class Ve{constructor(ue){this._store=ue}index(ue){return new xt(this._store.index(ue))}createIndex(ue,Ce,Ye){return new xt(this._store.createIndex(ue,Ce,Ye))}get(ue){return vr(this._store.get(ue),"Error reading from IndexedDB")}put(ue,Ce){return vr(this._store.put(ue,Ce),"Error writing to IndexedDB")}delete(ue){return vr(this._store.delete(ue),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class xt{constructor(ue){this._index=ue}get(ue){return vr(this._index.get(ue),"Error reading from IndexedDB")}}function Xt(we,ue,Ce){return new Promise((Ye,Fe)=>{try{const _t=indexedDB.open(we,ue);_t.onsuccess=Ee=>{Ye(new Dn(Ee.target.result))},_t.onerror=Ee=>{var _e;Fe(`Error opening indexedDB: ${null===(_e=Ee.target.error)||void 0===_e?void 0:_e.message}`)},_t.onupgradeneeded=Ee=>{Ce(new Dn(_t.result),Ee.oldVersion,Ee.newVersion,new Lt(_t.transaction))}}catch(_t){Fe(`Error opening indexedDB: ${_t.message}`)}})}function En(we){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,y.Z)(function*(we){return new Promise((ue,Ce)=>{try{const Ye=indexedDB.deleteDatabase(we);Ye.onsuccess=()=>{ue()},Ye.onerror=Fe=>{var _t;Ce(`Error deleting indexedDB database "${we}": ${null===(_t=Fe.target.error)||void 0===_t?void 0:_t.message}`)}}catch(Ye){Ce(`Error deleting indexedDB database "${we}": ${Ye.message}`)}})})).apply(this,arguments)}},7201:(Nt,ze,$)=>{"use strict";$.d(ze,{t:()=>Et});var y=$(5e3),S=$(2382),X=$(231),ae=$(5226),ce=$.n(ae),De=$(7898),Le=$(7556),Pe=$(9808);function Ne(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El nombre es requerido"),y.qZA())}function he(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El apellido es requerido"),y.qZA())}function pe(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"La edad es requerida"),y.qZA())}function Oe(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"La edad debe ser entre.. 18 y 90 a\xf1os"),y.qZA())}function dt(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El DNI es requerido"),y.qZA())}function Qe(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"La obra social es requerida"),y.qZA())}function ot(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El email es requerido"),y.qZA())}function ft(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"Formato inv\xe1lido."),y.qZA())}function We(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"La contrase\xf1a es requerido"),y.qZA())}function nt(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El archivo es requerido"),y.qZA())}function At(ie,se){1&ie&&(y.TgZ(0,"small",29),y._uU(1,"El archivo es requerido"),y.qZA())}let Et=(()=>{class ie{constructor(Be,qe,Ke){this.fb=Be,this.us=qe,this.auth=Ke,this.imagenes=[],this.encontrado=!1,this.volver=new y.vpe,this.unpaciente=new X.T}ngOnInit(){this.formGroup=this.fb.group({nombre:["",[S.kI.required]],apellido:["",[S.kI.required]],edad:["",[S.kI.required,S.kI.min(18),S.kI.max(99)]],obraSocial:["",S.kI.required],email:["",[S.kI.required,S.kI.pattern(/\w+@\w+\.+[a-z]/)]],dni:["",[S.kI.required]],password:["",[S.kI.required]],inputFile:["",[S.kI.required]],inputFile2:["",[S.kI.required]]})}aceptar(){this.chequear(this.formGroup.getRawValue().email).then(Be=>{0==Be?(this.unpaciente.nombre=this.formGroup.getRawValue().nombre,this.unpaciente.apellido=this.formGroup.getRawValue().apellido,this.unpaciente.edad=this.formGroup.getRawValue().edad,this.unpaciente.dni=this.formGroup.getRawValue().dni,this.unpaciente.obraSocial=this.formGroup.getRawValue().obraSocial,this.unpaciente.email=this.formGroup.getRawValue().email,this.unpaciente.password=this.formGroup.getRawValue().password,this.unpaciente.perfil="paciente",console.log("mensaje enviado"),ce().fire({position:"center",icon:"success",title:"Paciente registrado correctamente!",showConfirmButton:!1,timer:2e3}),this.us.create(this.unpaciente).then(qe=>{}),this.auth.crearUsuario(this.unpaciente.email,this.unpaciente.password).then(qe=>{})):ce().fire({position:"center",icon:"error",title:"El email ya est\xe1 en uso!",showConfirmButton:!1,timer:2e3})}),this.encontrado=!1}atras(){this.volver.emit(!1)}chequear(Be){return new Promise((qe,Ke)=>{this.us.getAll().get().subscribe(de=>{de.forEach(oe=>{console.log(oe.data().email),oe.data().email==Be&&(this.encontrado=!0)}),qe(this.encontrado)})})}cargarImagen(Be){this.eventoGeneral=Be}}return ie.\u0275fac=function(Be){return new(Be||ie)(y.Y36(S.qu),y.Y36(De.m),y.Y36(Le.e))},ie.\u0275cmp=y.Xpm({type:ie,selectors:[["app-alta-paciente"]],outputs:{volver:"volver"},decls:59,vars:13,consts:[[1,"tricito"],["id","advanced-search-form"],[1,"divespecial"],[1,"sinuso"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSXeWHsD5JKxLV3V3Y1tUmGmCBt0Tl_IDersQ&usqp=CAU","alt","",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group","fet"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","Apellido"],["type","text","placeholder","Apellido","id","Apellido","formControlName","apellido",1,"form-control"],["for","edad"],["type","number","placeholder","edad","id","edad","formControlName","edad",1,"form-control"],["for","dni"],["type","number","placeholder","dni","id","dni","formControlName","dni",1,"form-control"],["for","obraSocial"],["type","text","placeholder","obraSocial","id","obraSocial","formControlName","obraSocial",1,"form-control"],["for","email"],["type","email","placeholder","email","id","email","formControlName","email",1,"form-control"],["for","password"],["type","password","placeholder","password","id","password","formControlName","password",1,"form-control"],[1,"form-group","e"],["type","file","accept",".png, .jpg, .jpeg","multiple","","formControlName","inputFile","id","inputFile",3,"change"],["for","inputFile",1,"labelInputFile"],["type","file","accept",".png, .jpg, .jpeg","multiple","","formControlName","inputFile2","id","inputFile2",3,"change"],["for","inputFile2",1,"labelInputFile"],[1,"clearfix"],["type","submit","id","search",1,"btn","btn-info","btn-lg","btn-responsive","botonPrincipal",3,"disabled"],[1,"invalid"]],template:function(Be,qe){if(1&Be&&(y.TgZ(0,"div",0)(1,"body")(2,"div",1)(3,"div",2),y._UZ(4,"div",3),y.TgZ(5,"h1"),y._uU(6,"Registro Paciente"),y.qZA(),y.TgZ(7,"img",4),y.NdJ("click",function(){return qe.atras()}),y.qZA()(),y.TgZ(8,"form",5),y.NdJ("ngSubmit",function(){return qe.aceptar()}),y.TgZ(9,"div",6)(10,"label",7),y._uU(11,"Nombre"),y.qZA(),y._UZ(12,"input",8),y.YNc(13,Ne,2,0,"small",9),y.qZA(),y.TgZ(14,"div",6)(15,"label",10),y._uU(16,"Apellido"),y.qZA(),y._UZ(17,"input",11),y.YNc(18,he,2,0,"small",9),y.qZA(),y.TgZ(19,"div",6)(20,"label",12),y._uU(21,"Edad"),y.qZA(),y._UZ(22,"input",13),y.YNc(23,pe,2,0,"small",9),y.YNc(24,Oe,2,0,"small",9),y.qZA(),y.TgZ(25,"div",6)(26,"label",14),y._uU(27,"DNI"),y.qZA(),y._UZ(28,"input",15),y.YNc(29,dt,2,0,"small",9),y.qZA(),y.TgZ(30,"div",6)(31,"label",16),y._uU(32,"Obra social"),y.qZA(),y._UZ(33,"input",17),y.YNc(34,Qe,2,0,"small",9),y.qZA(),y.TgZ(35,"div",6)(36,"label",18),y._uU(37,"Email"),y.qZA(),y._UZ(38,"input",19),y.YNc(39,ot,2,0,"small",9),y.YNc(40,ft,2,0,"small",9),y.qZA(),y.TgZ(41,"div",6)(42,"label",20),y._uU(43,"Password"),y.qZA(),y._UZ(44,"input",21),y.YNc(45,We,2,0,"small",9),y.qZA(),y.TgZ(46,"div",22)(47,"input",23),y.NdJ("change",function(ne){return qe.cargarImagen(ne)}),y.qZA(),y.TgZ(48,"label",24),y._uU(49,"IMAGEN 1 "),y.qZA(),y.YNc(50,nt,2,0,"small",9),y.qZA(),y.TgZ(51,"div",22)(52,"input",25),y.NdJ("change",function(ne){return qe.cargarImagen(ne)}),y.qZA(),y.TgZ(53,"label",26),y._uU(54,"IMAGEN 2 "),y.qZA(),y.YNc(55,At,2,0,"small",9),y.qZA(),y._UZ(56,"div",27),y.TgZ(57,"button",28),y._uU(58,"REGISTRAR"),y.qZA()()()()()),2&Be){let Ke,ne,de,oe,me,ge,Ue,je,qt,Ft,nn;y.xp6(8),y.Q6J("formGroup",qe.formGroup),y.xp6(5),y.Q6J("ngIf",(null==(Ke=qe.formGroup.get("nombre"))?null:Ke.hasError("required"))&&(null==(Ke=qe.formGroup.get("nombre"))?null:Ke.touched)),y.xp6(5),y.Q6J("ngIf",(null==(ne=qe.formGroup.get("apellido"))?null:ne.hasError("required"))&&(null==(ne=qe.formGroup.get("apellido"))?null:ne.touched)),y.xp6(5),y.Q6J("ngIf",(null==(de=qe.formGroup.get("edad"))?null:de.hasError("required"))&&(null==(de=qe.formGroup.get("edad"))?null:de.touched)),y.xp6(1),y.Q6J("ngIf",(null==(oe=qe.formGroup.get("edad"))?null:oe.hasError("min"))||(null==(oe=qe.formGroup.get("edad"))?null:oe.hasError("max"))&&(null==(oe=qe.formGroup.get("edad"))?null:oe.touched)),y.xp6(5),y.Q6J("ngIf",(null==(me=qe.formGroup.get("dni"))?null:me.hasError("required"))&&(null==(me=qe.formGroup.get("dni"))?null:me.touched)),y.xp6(5),y.Q6J("ngIf",(null==(ge=qe.formGroup.get("obraSocial"))?null:ge.hasError("required"))&&(null==(ge=qe.formGroup.get("obraSocial"))?null:ge.touched)),y.xp6(5),y.Q6J("ngIf",(null==(Ue=qe.formGroup.get("email"))?null:Ue.hasError("required"))&&(null==(Ue=qe.formGroup.get("email"))?null:Ue.touched)),y.xp6(1),y.Q6J("ngIf",(null==(je=qe.formGroup.get("email"))?null:je.hasError("pattern"))&&(null==(je=qe.formGroup.get("email"))?null:je.touched)),y.xp6(5),y.Q6J("ngIf",(null==(qt=qe.formGroup.get("password"))?null:qt.hasError("required"))&&(null==(qt=qe.formGroup.get("password"))?null:qt.touched)),y.xp6(5),y.Q6J("ngIf",(null==(Ft=qe.formGroup.get("inputFile"))?null:Ft.hasError("required"))&&(null==(Ft=qe.formGroup.get("inputFile"))?null:Ft.touched)),y.xp6(5),y.Q6J("ngIf",(null==(nn=qe.formGroup.get("inputFile2"))?null:nn.hasError("required"))&&(null==(nn=qe.formGroup.get("inputFile2"))?null:nn.touched)),y.xp6(2),y.Q6J("disabled",qe.formGroup.invalid)}},directives:[S._Y,S.JL,S.sg,S.Fj,S.JJ,S.u,Pe.O5,S.wV],styles:[".tricito[_ngcontent-%COMP%]{background-image:url(https://previews.123rf.com/images/sashazerg/sashazerg1605/sashazerg160500053/56812023-hospitalario-y-sanitario-los-pacientes-en-espera-para-el-m%C3%A9dico-.jpg);background-repeat:no-repeat;background-size:cover;background-position:center;height:100vh}body[_ngcontent-%COMP%]{background:none;display:flex;justify-content:center;align-items:center;font-size:15px}#advanced-search-form[_ngcontent-%COMP%]{opacity:.95;filter:alpha(opacity=50);zoom:1;background-color:#0ff;width:900px;height:500px;padding:40px;color:#2f3233;box-shadow:6px 6px 6px #0003}#advanced-search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-bottom:20px;margin:10px 20px;font-size:24px}#advanced-search-form[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:38px;margin-bottom:54px;margin-left:3px;border:1px solid #cccccc}#advanced-search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:20px;width:30%;float:left;text-align:left}#advanced-search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:12px 20px;height:auto;border-radius:2px}#advanced-search-form[_ngcontent-%COMP%]   .radio-inline[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}#advanced-search-form[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{width:30%;margin-top:30px;padding-left:20px;padding-top:5px;padding-bottom:5px}#advanced-search-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:46%;margin:20px auto 0;display:block;outline:none}@media screen and (max-width: 800px){#advanced-search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:45%}#advanced-search-form[_ngcontent-%COMP%]{margin-top:0}}@media screen and (max-width: 560px){#advanced-search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;margin-left:0}#advanced-search-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}}.invalid[_ngcontent-%COMP%]{color:red}input[_ngcontent-%COMP%]{font-size:15px;padding:12px 20px}.botonPrincipal[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]{max-width:700px;padding:60px;background-color:#ffefd5;box-shadow:1px 1px 31px -5px #000000bf}.fet[_ngcontent-%COMP%]{height:80px}.divespecial[_ngcontent-%COMP%]{display:flex;justify-content:space-between}img[_ngcontent-%COMP%]{height:50px;width:80px}.sinuso[_ngcontent-%COMP%]{width:80px}.swal-wide[_ngcontent-%COMP%]{width:850px;height:850px}#inputFile[_ngcontent-%COMP%], #inputFile2[_ngcontent-%COMP%]{display:none}.labelInputFile[_ngcontent-%COMP%]{position:absolute;width:9.5rem;height:8rem;background-color:#fff;border-radius:100%;padding:1rem;box-shadow:0 0 10px -1px gray;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:4rem;height:4rem}.labelInputFile[_ngcontent-%COMP%]:active{transform:scale(.9)}.e[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),ie})()},231:(Nt,ze,$)=>{"use strict";$.d(ze,{T:()=>y});class y{}},7556:(Nt,ze,$)=>{"use strict";$.d(ze,{e:()=>ce});var y=$(5861),S=$(5e3),X=$(1205),ae=$(441);let ce=(()=>{class De{constructor(Pe,Ne){this.a=Pe,this.router=Ne,this.boolean=!1,this.estalogeado=!1}login(Pe,Ne){return new Promise((he,pe)=>{this.a.signInWithEmailAndPassword(Pe,Ne).then(Oe=>{var dt;this.data=null===(dt=Oe.user)||void 0===dt?void 0:dt.email,he(Oe)}).catch(Oe=>pe(Oe))})}deslogear(){this.a.signOut().then(Pe=>{this.boolean=!1,localStorage.removeItem("usuario"),this.router.navigate([""])}).catch(Pe=>{alert("No se pudo deslogear")})}enviarCorreo(){var Pe=this;return(0,y.Z)(function*(){var Ne;return null===(Ne=yield Pe.a.currentUser)||void 0===Ne?void 0:Ne.sendEmailVerification()})()}VerificarCorreo(){var Pe=this;return(0,y.Z)(function*(){var Ne;return null===(Ne=yield Pe.a.currentUser)||void 0===Ne?void 0:Ne.emailVerified})()}verificarlogeo(){return new Promise((Pe,Ne)=>{this.a.onAuthStateChanged(he=>{Pe(he)})})}crearUsuario(Pe,Ne){return new Promise((he,pe)=>{this.a.createUserWithEmailAndPassword(Pe,Ne).then(Oe=>{he(Oe)}).catch(Oe=>pe(Oe))})}}return De.\u0275fac=function(Pe){return new(Pe||De)(S.LFG(X.zQ),S.LFG(ae.F0))},De.\u0275prov=S.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},7898:(Nt,ze,$)=>{"use strict";$.d(ze,{m:()=>X});var y=$(5e3),S=$(7566);let X=(()=>{class ae{constructor(De){this.db=De,this.dbPath="/registrarUsuario",this.MensajesRef=De.collection(this.dbPath)}getAll(){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef}create(De){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.add(Object.assign({},De))}update(De,Le){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(De).update(Le)}delete(De){return this.MensajesRef=this.db.collection(this.dbPath),this.MensajesRef.doc(De).delete()}}return ae.\u0275fac=function(De){return new(De||ae)(y.LFG(S.ST))},ae.\u0275prov=y.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},5589:(Nt,ze,$)=>{"use strict";var y=$(2313),S=$(5e3),X=$(9808),ae=$(1777);const ce=!1;function Le(k){return new S.vHH(3e3,ce)}function ln(){return"undefined"!=typeof window&&void 0!==window.document}function wn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function In(k){switch(k.length){case 0:return new ae.ZN;case 1:return k[0];default:return new ae.ZE(k)}}function jn(k,v,_,c,p={},f={}){const C=[],T=[];let P=-1,U=null;if(c.forEach(K=>{const Ae=K.offset,lt=Ae==P,Vt=lt&&U||{};Object.keys(K).forEach(ct=>{let jt=ct,tn=K[ct];if("offset"!==ct)switch(jt=v.normalizePropertyName(jt,C),tn){case ae.k1:tn=p[ct];break;case ae.l3:tn=f[ct];break;default:tn=v.normalizeStyleValue(ct,jt,tn,C)}Vt[jt]=tn}),lt||T.push(Vt),U=Vt,P=Ae}),C.length)throw function Ue(k){return new S.vHH(3502,ce)}();return T}function Gr(k,v,_,c){switch(v){case"start":k.onStart(()=>c(_&&zn(_,"start",k)));break;case"done":k.onDone(()=>c(_&&zn(_,"done",k)));break;case"destroy":k.onDestroy(()=>c(_&&zn(_,"destroy",k)))}}function zn(k,v,_){const c=_.totalTime,f=ar(k.element,k.triggerName,k.fromState,k.toState,v||k.phaseName,null==c?k.totalTime:c,!!_.disabled),C=k._data;return null!=C&&(f._data=C),f}function ar(k,v,_,c,p="",f=0,C){return{element:k,triggerName:v,fromState:_,toState:c,phaseName:p,totalTime:f,disabled:!!C}}function Tn(k,v,_){let c;return k instanceof Map?(c=k.get(v),c||k.set(v,c=_)):(c=k[v],c||(c=k[v]=_)),c}function Ar(k){const v=k.indexOf(":");return[k.substring(1,v),k.substr(v+1)]}let Vn=(k,v)=>!1,St=(k,v,_)=>[],Yt=null;function xn(k){const v=k.parentNode||k.host;return v===Yt?null:v}(wn()||"undefined"!=typeof Element)&&(ln()?(Yt=(()=>document.documentElement)(),Vn=(k,v)=>{for(;v;){if(v===k)return!0;v=xn(v)}return!1}):Vn=(k,v)=>k.contains(v),St=(k,v,_)=>{if(_)return Array.from(k.querySelectorAll(v));const c=k.querySelector(v);return c?[c]:[]});let Zr=null,tr=!1;function un(k){Zr||(Zr=function mr(){return"undefined"!=typeof document?document.body:null}()||{},tr=!!Zr.style&&"WebkitAppearance"in Zr.style);let v=!0;return Zr.style&&!function Sr(k){return"ebkit"==k.substring(1,6)}(k)&&(v=k in Zr.style,!v&&tr&&(v="Webkit"+k.charAt(0).toUpperCase()+k.substr(1)in Zr.style)),v}const lr=Vn,Dt=St;let Mt=(()=>{class k{validateStyleProperty(_){return un(_)}matchesElement(_,c){return!1}containsElement(_,c){return lr(_,c)}getParentElement(_){return xn(_)}query(_,c,p){return Dt(_,c,p)}computeStyle(_,c,p){return p||""}animate(_,c,p,f,C,T=[],P){return new ae.ZN(p,f)}}return k.\u0275fac=function(_){return new(_||k)},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac}),k})(),ur=(()=>{class k{}return k.NOOP=new Mt,k})();const yr="ng-enter",qn="ng-leave",Gt="ng-trigger",vr=".ng-trigger",Dn="ng-animating",Lt=".ng-animating";function Ve(k){if("number"==typeof k)return k;const v=k.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:xt(parseFloat(v[1]),v[2])}function xt(k,v){return"s"===v?1e3*k:k}function Xt(k,v,_){return k.hasOwnProperty("duration")?k:function En(k,v,_){let p,f=0,C="";if("string"==typeof k){const T=k.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===T)return v.push(Le()),{duration:0,delay:0,easing:""};p=xt(parseFloat(T[1]),T[2]);const P=T[3];null!=P&&(f=xt(parseFloat(P),T[4]));const U=T[5];U&&(C=U)}else p=k;if(!_){let T=!1,P=v.length;p<0&&(v.push(function Pe(){return new S.vHH(3100,ce)}()),T=!0),f<0&&(v.push(function Ne(){return new S.vHH(3101,ce)}()),T=!0),T&&v.splice(P,0,Le())}return{duration:p,delay:f,easing:C}}(k,v,_)}function Ht(k,v={}){return Object.keys(k).forEach(_=>{v[_]=k[_]}),v}function ue(k,v,_={}){if(v)for(let c in k)_[c]=k[c];else Ht(k,_);return _}function Ce(k,v,_){return _?v+":"+_+";":""}function Ye(k){let v="";for(let _=0;_<k.style.length;_++){const c=k.style.item(_);v+=Ce(0,c,k.style.getPropertyValue(c))}for(const _ in k.style)k.style.hasOwnProperty(_)&&!_.startsWith("_")&&(v+=Ce(0,_r(_),k.style[_]));k.setAttribute("style",v)}function Fe(k,v,_){k.style&&(Object.keys(v).forEach(c=>{const p=Hn(c);_&&!_.hasOwnProperty(c)&&(_[c]=k.style[p]),k.style[p]=v[c]}),wn()&&Ye(k))}function _t(k,v){k.style&&(Object.keys(v).forEach(_=>{const c=Hn(_);k.style[c]=""}),wn()&&Ye(k))}function Ee(k){return Array.isArray(k)?1==k.length?k[0]:(0,ae.vP)(k):k}const re=new RegExp("{{\\s*(.+?)\\s*}}","g");function Se(k){let v=[];if("string"==typeof k){let _;for(;_=re.exec(k);)v.push(_[1]);re.lastIndex=0}return v}function tt(k,v,_){const c=k.toString(),p=c.replace(re,(f,C)=>{let T=v[C];return v.hasOwnProperty(C)||(_.push(function pe(k){return new S.vHH(3003,ce)}()),T=""),T.toString()});return p==c?k:p}function mt(k){const v=[];let _=k.next();for(;!_.done;)v.push(_.value),_=k.next();return v}const en=/-+([a-z0-9])/g;function Hn(k){return k.replace(en,(...v)=>v[1].toUpperCase())}function _r(k){return k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xn(k,v,_){switch(v.type){case 7:return k.visitTrigger(v,_);case 0:return k.visitState(v,_);case 1:return k.visitTransition(v,_);case 2:return k.visitSequence(v,_);case 3:return k.visitGroup(v,_);case 4:return k.visitAnimate(v,_);case 5:return k.visitKeyframes(v,_);case 6:return k.visitStyle(v,_);case 8:return k.visitReference(v,_);case 9:return k.visitAnimateChild(v,_);case 10:return k.visitAnimateRef(v,_);case 11:return k.visitQuery(v,_);case 12:return k.visitStagger(v,_);default:throw function Oe(k){return new S.vHH(3004,ce)}()}}function wr(k,v){return window.getComputedStyle(k)[v]}function li(k,v){const _=[];return"string"==typeof k?k.split(/\s*,\s*/).forEach(c=>function kn(k,v,_){if(":"==k[0]){const P=function Ir(k,v){switch(k){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,c)=>parseFloat(c)>parseFloat(_);case":decrement":return(_,c)=>parseFloat(c)<parseFloat(_);default:return v.push(function de(k){return new S.vHH(3016,ce)}()),"* => *"}}(k,_);if("function"==typeof P)return void v.push(P);k=P}const c=k.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return _.push(function ne(k){return new S.vHH(3015,ce)}()),v;const p=c[1],f=c[2],C=c[3];v.push(ui(p,C));"<"==f[0]&&!("*"==p&&"*"==C)&&v.push(ui(C,p))}(c,_,v)):_.push(k),_}const cr=new Set(["true","1"]),bn=new Set(["false","0"]);function ui(k,v){const _=cr.has(k)||bn.has(k),c=cr.has(v)||bn.has(v);return(p,f)=>{let C="*"==k||k==p,T="*"==v||v==f;return!C&&_&&"boolean"==typeof p&&(C=p?cr.has(k):bn.has(k)),!T&&c&&"boolean"==typeof f&&(T=f?cr.has(v):bn.has(v)),C&&T}}const Wi=new RegExp("s*:selfs*,?","g");function Kr(k,v,_,c){return new br(k).build(v,_,c)}class br{constructor(v){this._driver=v}build(v,_,c){const p=new Yn(_);this._resetContextStyleTimingState(p);const f=Xn(this,Ee(v),p);return p.unsupportedCSSPropertiesFound.size&&p.unsupportedCSSPropertiesFound.keys(),f}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,_){let c=_.queryCount=0,p=_.depCount=0;const f=[],C=[];return"@"==v.name.charAt(0)&&_.errors.push(function Qe(){return new S.vHH(3006,ce)}()),v.definitions.forEach(T=>{if(this._resetContextStyleTimingState(_),0==T.type){const P=T,U=P.name;U.toString().split(/\s*,\s*/).forEach(K=>{P.name=K,f.push(this.visitState(P,_))}),P.name=U}else if(1==T.type){const P=this.visitTransition(T,_);c+=P.queryCount,p+=P.depCount,C.push(P)}else _.errors.push(function ot(){return new S.vHH(3007,ce)}())}),{type:7,name:v.name,states:f,transitions:C,queryCount:c,depCount:p,options:null}}visitState(v,_){const c=this.visitStyle(v.styles,_),p=v.options&&v.options.params||null;if(c.containsDynamicStyles){const f=new Set,C=p||{};c.styles.forEach(T=>{if(Lr(T)){const P=T;Object.keys(P).forEach(U=>{Se(P[U]).forEach(K=>{C.hasOwnProperty(K)||f.add(K)})})}}),f.size&&(mt(f.values()),_.errors.push(function ft(k,v){return new S.vHH(3008,ce)}()))}return{type:0,name:v.name,style:c,options:p?{params:p}:null}}visitTransition(v,_){_.queryCount=0,_.depCount=0;const c=Xn(this,Ee(v.animation),_);return{type:1,matchers:li(v.expr,_.errors),animation:c,queryCount:_.queryCount,depCount:_.depCount,options:Vr(v.options)}}visitSequence(v,_){return{type:2,steps:v.steps.map(c=>Xn(this,c,_)),options:Vr(v.options)}}visitGroup(v,_){const c=_.currentTime;let p=0;const f=v.steps.map(C=>{_.currentTime=c;const T=Xn(this,C,_);return p=Math.max(p,_.currentTime),T});return _.currentTime=p,{type:3,steps:f,options:Vr(v.options)}}visitAnimate(v,_){const c=function ti(k,v){if(k.hasOwnProperty("duration"))return k;if("number"==typeof k)return fs(Xt(k,v).duration,0,"");const _=k;if(_.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=fs(0,0,"");return f.dynamic=!0,f.strValue=_,f}const p=Xt(_,v);return fs(p.duration,p.delay,p.easing)}(v.timings,_.errors);_.currentAnimateTimings=c;let p,f=v.styles?v.styles:(0,ae.oB)({});if(5==f.type)p=this.visitKeyframes(f,_);else{let C=v.styles,T=!1;if(!C){T=!0;const U={};c.easing&&(U.easing=c.easing),C=(0,ae.oB)(U)}_.currentTime+=c.duration+c.delay;const P=this.visitStyle(C,_);P.isEmptyStep=T,p=P}return _.currentAnimateTimings=null,{type:4,timings:c,style:p,options:null}}visitStyle(v,_){const c=this._makeStyleAst(v,_);return this._validateStyleAst(c,_),c}_makeStyleAst(v,_){const c=[];Array.isArray(v.styles)?v.styles.forEach(C=>{"string"==typeof C?C==ae.l3?c.push(C):_.errors.push(function We(k){return new S.vHH(3002,ce)}()):c.push(C)}):c.push(v.styles);let p=!1,f=null;return c.forEach(C=>{if(Lr(C)){const T=C,P=T.easing;if(P&&(f=P,delete T.easing),!p)for(let U in T)if(T[U].toString().indexOf("{{")>=0){p=!0;break}}}),{type:6,styles:c,easing:f,offset:v.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(v,_){const c=_.currentAnimateTimings;let p=_.currentTime,f=_.currentTime;c&&f>0&&(f-=c.duration+c.delay),v.styles.forEach(C=>{"string"!=typeof C&&Object.keys(C).forEach(T=>{if(!this._driver.validateStyleProperty(T))return delete C[T],void _.unsupportedCSSPropertiesFound.add(T);const P=_.collectedStyles[_.currentQuerySelector],U=P[T];let K=!0;U&&(f!=p&&f>=U.startTime&&p<=U.endTime&&(_.errors.push(function At(k,v,_,c,p){return new S.vHH(3010,ce)}()),K=!1),f=U.startTime),K&&(P[T]={startTime:f,endTime:p}),_.options&&function _e(k,v,_){const c=v.params||{},p=Se(k);p.length&&p.forEach(f=>{c.hasOwnProperty(f)||_.push(function he(k){return new S.vHH(3001,ce)}())})}(C[T],_.options,_.errors)})})}visitKeyframes(v,_){const c={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function Et(){return new S.vHH(3011,ce)}()),c;let f=0;const C=[];let T=!1,P=!1,U=0;const K=v.steps.map(Mr=>{const Tr=this._makeStyleAst(Mr,_);let Ci=null!=Tr.offset?Tr.offset:function hs(k){if("string"==typeof k)return null;let v=null;if(Array.isArray(k))k.forEach(_=>{if(Lr(_)&&_.hasOwnProperty("offset")){const c=_;v=parseFloat(c.offset),delete c.offset}});else if(Lr(k)&&k.hasOwnProperty("offset")){const _=k;v=parseFloat(_.offset),delete _.offset}return v}(Tr.styles),ei=0;return null!=Ci&&(f++,ei=Tr.offset=Ci),P=P||ei<0||ei>1,T=T||ei<U,U=ei,C.push(ei),Tr});P&&_.errors.push(function ie(){return new S.vHH(3012,ce)}()),T&&_.errors.push(function se(){return new S.vHH(3200,ce)}());const Ae=v.steps.length;let lt=0;f>0&&f<Ae?_.errors.push(function Be(){return new S.vHH(3202,ce)}()):0==f&&(lt=1/(Ae-1));const Vt=Ae-1,ct=_.currentTime,jt=_.currentAnimateTimings,tn=jt.duration;return K.forEach((Mr,Tr)=>{const Ci=lt>0?Tr==Vt?1:lt*Tr:C[Tr],ei=Ci*tn;_.currentTime=ct+jt.delay+ei,jt.duration=ei,this._validateStyleAst(Mr,_),Mr.offset=Ci,c.styles.push(Mr)}),c}visitReference(v,_){return{type:8,animation:Xn(this,Ee(v.animation),_),options:Vr(v.options)}}visitAnimateChild(v,_){return _.depCount++,{type:9,options:Vr(v.options)}}visitAnimateRef(v,_){return{type:10,animation:this.visitReference(v.animation,_),options:Vr(v.options)}}visitQuery(v,_){const c=_.currentQuerySelector,p=v.options||{};_.queryCount++,_.currentQuery=v;const[f,C]=function Nr(k){const v=!!k.split(/\s*,\s*/).find(_=>":self"==_);return v&&(k=k.replace(Wi,"")),k=k.replace(/@\*/g,vr).replace(/@\w+/g,_=>vr+"-"+_.substr(1)).replace(/:animating/g,Lt),[k,v]}(v.selector);_.currentQuerySelector=c.length?c+" "+f:f,Tn(_.collectedStyles,_.currentQuerySelector,{});const T=Xn(this,Ee(v.animation),_);return _.currentQuery=null,_.currentQuerySelector=c,{type:11,selector:f,limit:p.limit||0,optional:!!p.optional,includeSelf:C,animation:T,originalSelector:v.selector,options:Vr(v.options)}}visitStagger(v,_){_.currentQuery||_.errors.push(function qe(){return new S.vHH(3013,ce)}());const c="full"===v.timings?{duration:0,delay:0,easing:"full"}:Xt(v.timings,_.errors,!0);return{type:12,animation:Xn(this,Ee(v.animation),_),timings:c,options:null}}}class Yn{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lr(k){return!Array.isArray(k)&&"object"==typeof k}function Vr(k){return k?(k=Ht(k)).params&&(k.params=function Rr(k){return k?Ht(k):null}(k.params)):k={},k}function fs(k,v,_){return{duration:k,delay:v,easing:_}}function fi(k,v,_,c,p,f,C=null,T=!1){return{type:1,element:k,keyframes:v,preStyleProps:_,postStyleProps:c,duration:p,delay:f,totalTime:p+f,easing:C,subTimeline:T}}class ps{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,_){let c=this._map.get(v);c||this._map.set(v,c=[]),c.push(..._)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Ki=new RegExp(":enter","g"),Qn=new RegExp(":leave","g");function Es(k,v,_,c,p,f={},C={},T,P,U=[]){return(new Xs).buildKeyframes(k,v,_,c,p,f,C,T,P,U)}class Xs{buildKeyframes(v,_,c,p,f,C,T,P,U,K=[]){U=U||new ps;const Ae=new Ie(v,_,U,p,f,K,[]);Ae.options=P,Ae.currentTimeline.setStyles([C],null,Ae.errors,P),Xn(this,c,Ae);const lt=Ae.timelines.filter(Vt=>Vt.containsAnimation());if(Object.keys(T).length){let Vt;for(let ct=lt.length-1;ct>=0;ct--){const jt=lt[ct];if(jt.element===_){Vt=jt;break}}Vt&&!Vt.allowOnlyTimelineStyles()&&Vt.setStyles([T],null,Ae.errors,P)}return lt.length?lt.map(Vt=>Vt.buildKeyframes()):[fi(_,[],[],[],0,0,"",!1)]}visitTrigger(v,_){}visitState(v,_){}visitTransition(v,_){}visitAnimateChild(v,_){const c=_.subInstructions.get(_.element);if(c){const p=_.createSubContext(v.options),f=_.currentTimeline.currentTime,C=this._visitSubInstructions(c,p,p.options);f!=C&&_.transformIntoNewTimeline(C)}_.previousNode=v}visitAnimateRef(v,_){const c=_.createSubContext(v.options);c.transformIntoNewTimeline(),this.visitReference(v.animation,c),_.transformIntoNewTimeline(c.currentTimeline.currentTime),_.previousNode=v}_visitSubInstructions(v,_,c){let f=_.currentTimeline.currentTime;const C=null!=c.duration?Ve(c.duration):null,T=null!=c.delay?Ve(c.delay):null;return 0!==C&&v.forEach(P=>{const U=_.appendInstructionToTimeline(P,C,T);f=Math.max(f,U.duration+U.delay)}),f}visitReference(v,_){_.updateOptions(v.options,!0),Xn(this,v.animation,_),_.previousNode=v}visitSequence(v,_){const c=_.subContextCount;let p=_;const f=v.options;if(f&&(f.params||f.delay)&&(p=_.createSubContext(f),p.transformIntoNewTimeline(),null!=f.delay)){6==p.previousNode.type&&(p.currentTimeline.snapshotCurrentStyles(),p.previousNode=xe);const C=Ve(f.delay);p.delayNextStep(C)}v.steps.length&&(v.steps.forEach(C=>Xn(this,C,p)),p.currentTimeline.applyStylesToKeyframe(),p.subContextCount>c&&p.transformIntoNewTimeline()),_.previousNode=v}visitGroup(v,_){const c=[];let p=_.currentTimeline.currentTime;const f=v.options&&v.options.delay?Ve(v.options.delay):0;v.steps.forEach(C=>{const T=_.createSubContext(v.options);f&&T.delayNextStep(f),Xn(this,C,T),p=Math.max(p,T.currentTimeline.currentTime),c.push(T.currentTimeline)}),c.forEach(C=>_.currentTimeline.mergeTimelineCollectedStyles(C)),_.transformIntoNewTimeline(p),_.previousNode=v}_visitTiming(v,_){if(v.dynamic){const c=v.strValue;return Xt(_.params?tt(c,_.params,_.errors):c,_.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,_){const c=_.currentAnimateTimings=this._visitTiming(v.timings,_),p=_.currentTimeline;c.delay&&(_.incrementTime(c.delay),p.snapshotCurrentStyles());const f=v.style;5==f.type?this.visitKeyframes(f,_):(_.incrementTime(c.duration),this.visitStyle(f,_),p.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=v}visitStyle(v,_){const c=_.currentTimeline,p=_.currentAnimateTimings;!p&&c.getCurrentStyleProperties().length&&c.forwardFrame();const f=p&&p.easing||v.easing;v.isEmptyStep?c.applyEmptyStep(f):c.setStyles(v.styles,f,_.errors,_.options),_.previousNode=v}visitKeyframes(v,_){const c=_.currentAnimateTimings,p=_.currentTimeline.duration,f=c.duration,T=_.createSubContext().currentTimeline;T.easing=c.easing,v.styles.forEach(P=>{T.forwardTime((P.offset||0)*f),T.setStyles(P.styles,P.easing,_.errors,_.options),T.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(T),_.transformIntoNewTimeline(p+f),_.previousNode=v}visitQuery(v,_){const c=_.currentTimeline.currentTime,p=v.options||{},f=p.delay?Ve(p.delay):0;f&&(6===_.previousNode.type||0==c&&_.currentTimeline.getCurrentStyleProperties().length)&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=xe);let C=c;const T=_.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!p.optional,_.errors);_.currentQueryTotal=T.length;let P=null;T.forEach((U,K)=>{_.currentQueryIndex=K;const Ae=_.createSubContext(v.options,U);f&&Ae.delayNextStep(f),U===_.element&&(P=Ae.currentTimeline),Xn(this,v.animation,Ae),Ae.currentTimeline.applyStylesToKeyframe(),C=Math.max(C,Ae.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(C),P&&(_.currentTimeline.mergeTimelineCollectedStyles(P),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=v}visitStagger(v,_){const c=_.parentContext,p=_.currentTimeline,f=v.timings,C=Math.abs(f.duration),T=C*(_.currentQueryTotal-1);let P=C*_.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":P=T-P;break;case"full":P=c.currentStaggerTime}const K=_.currentTimeline;P&&K.delayNextStep(P);const Ae=K.currentTime;Xn(this,v.animation,_),_.previousNode=v,c.currentStaggerTime=p.currentTime-Ae+(p.startTime-c.currentTimeline.startTime)}}const xe={};class Ie{constructor(v,_,c,p,f,C,T,P){this._driver=v,this.element=_,this.subInstructions=c,this._enterClassName=p,this._leaveClassName=f,this.errors=C,this.timelines=T,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xe,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=P||new $e(this._driver,_,0),T.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,_){if(!v)return;const c=v;let p=this.options;null!=c.duration&&(p.duration=Ve(c.duration)),null!=c.delay&&(p.delay=Ve(c.delay));const f=c.params;if(f){let C=p.params;C||(C=this.options.params={}),Object.keys(f).forEach(T=>{(!_||!C.hasOwnProperty(T))&&(C[T]=tt(f[T],C,this.errors))})}}_copyOptions(){const v={};if(this.options){const _=this.options.params;if(_){const c=v.params={};Object.keys(_).forEach(p=>{c[p]=_[p]})}}return v}createSubContext(v=null,_,c){const p=_||this.element,f=new Ie(this._driver,p,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(p,c||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(v),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(v){return this.previousNode=xe,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,_,c){const p={duration:null!=_?_:v.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+v.delay,easing:""},f=new st(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,p,v.stretchStartingKeyframe);return this.timelines.push(f),p}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,_,c,p,f,C){let T=[];if(p&&T.push(this.element),v.length>0){v=(v=v.replace(Ki,"."+this._enterClassName)).replace(Qn,"."+this._leaveClassName);let U=this._driver.query(this.element,v,1!=c);0!==c&&(U=c<0?U.slice(U.length+c,U.length):U.slice(0,c)),T.push(...U)}return!f&&0==T.length&&C.push(function Ke(k){return new S.vHH(3014,ce)}()),T}}class $e{constructor(v,_,c,p){this._driver=v,this.element=_,this.startTime=c,this._elementTimelineStylesLookup=p,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const _=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||_?(this.forwardTime(this.currentTime+v),_&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,_){return this.applyStylesToKeyframe(),new $e(this._driver,v,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,_){this._localTimelineStyles[v]=_,this._globalTimelineStyles[v]=_,this._styleSummary[v]={time:this.currentTime,value:_}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(_=>{this._backFill[_]=this._globalTimelineStyles[_]||ae.l3,this._currentKeyframe[_]=ae.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,_,c,p){_&&(this._previousKeyframe.easing=_);const f=p&&p.params||{},C=function Qt(k,v){const _={};let c;return k.forEach(p=>{"*"===p?(c=c||Object.keys(v),c.forEach(f=>{_[f]=ae.l3})):ue(p,!1,_)}),_}(v,this._globalTimelineStyles);Object.keys(C).forEach(T=>{const P=tt(C[T],f,c);this._pendingStyles[T]=P,this._localTimelineStyles.hasOwnProperty(T)||(this._backFill[T]=this._globalTimelineStyles.hasOwnProperty(T)?this._globalTimelineStyles[T]:ae.l3),this._updateStyle(T,P)})}applyStylesToKeyframe(){const v=this._pendingStyles,_=Object.keys(v);0!=_.length&&(this._pendingStyles={},_.forEach(c=>{this._currentKeyframe[c]=v[c]}),Object.keys(this._localTimelineStyles).forEach(c=>{this._currentKeyframe.hasOwnProperty(c)||(this._currentKeyframe[c]=this._localTimelineStyles[c])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const _=this._localTimelineStyles[v];this._pendingStyles[v]=_,this._updateStyle(v,_)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let _ in this._currentKeyframe)v.push(_);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(_=>{const c=this._styleSummary[_],p=v._styleSummary[_];(!c||p.time>c.time)&&this._updateStyle(_,p.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,_=new Set,c=1===this._keyframes.size&&0===this.duration;let p=[];this._keyframes.forEach((T,P)=>{const U=ue(T,!0);Object.keys(U).forEach(K=>{const Ae=U[K];Ae==ae.k1?v.add(K):Ae==ae.l3&&_.add(K)}),c||(U.offset=P/this.duration),p.push(U)});const f=v.size?mt(v.values()):[],C=_.size?mt(_.values()):[];if(c){const T=p[0],P=Ht(T);T.offset=0,P.offset=1,p=[T,P]}return fi(this.element,p,f,C,this.duration,this.startTime,this.easing,!1)}}class st extends $e{constructor(v,_,c,p,f,C,T=!1){super(v,_,C.delay),this.keyframes=c,this.preStyleProps=p,this.postStyleProps=f,this._stretchStartingKeyframe=T,this.timings={duration:C.duration,delay:C.delay,easing:C.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:_,duration:c,easing:p}=this.timings;if(this._stretchStartingKeyframe&&_){const f=[],C=c+_,T=_/C,P=ue(v[0],!1);P.offset=0,f.push(P);const U=ue(v[0],!1);U.offset=wt(T),f.push(U);const K=v.length-1;for(let Ae=1;Ae<=K;Ae++){let lt=ue(v[Ae],!1);lt.offset=wt((_+lt.offset*c)/C),f.push(lt)}c=C,_=0,p="",v=f}return fi(this.element,v,this.preStyleProps,this.postStyleProps,c,_,p,!0)}}function wt(k,v=3){const _=Math.pow(10,v-1);return Math.round(k*_)/_}class nr{}class Mi extends nr{normalizePropertyName(v,_){return Hn(v)}normalizeStyleValue(v,_,c,p){let f="";const C=c.toString().trim();if(is[_]&&0!==c&&"0"!==c)if("number"==typeof c)f="px";else{const T=c.match(/^[+-]?[\d\.]+([a-z]*)$/);T&&0==T[1].length&&p.push(function dt(k,v){return new S.vHH(3005,ce)}())}return C+f}}const is=(()=>function Vi(k){const v={};return k.forEach(_=>v[_]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ss(k,v,_,c,p,f,C,T,P,U,K,Ae,lt){return{type:0,element:k,triggerName:v,isRemovalTransition:p,fromState:_,fromStyles:f,toState:c,toStyles:C,timelines:T,queriedElements:P,preStyleProps:U,postStyleProps:K,totalTime:Ae,errors:lt}}const vi={};class Vs{constructor(v,_,c){this._triggerName=v,this.ast=_,this._stateStyles=c}match(v,_,c,p){return function Cs(k,v,_,c,p){return k.some(f=>f(v,_,c,p))}(this.ast.matchers,v,_,c,p)}buildStyles(v,_,c){const p=this._stateStyles["*"],f=this._stateStyles[v],C=p?p.buildStyles(_,c):{};return f?f.buildStyles(_,c):C}build(v,_,c,p,f,C,T,P,U,K){const Ae=[],lt=this.ast.options&&this.ast.options.params||vi,ct=this.buildStyles(c,T&&T.params||vi,Ae),jt=P&&P.params||vi,tn=this.buildStyles(p,jt,Ae),Mr=new Set,Tr=new Map,Ci=new Map,ei="void"===p,Ur={params:Object.assign(Object.assign({},lt),jt)},Ii=K?[]:Es(v,_,this.ast.animation,f,C,ct,tn,Ur,U,Ae);let Os=0;if(Ii.forEach(Ji=>{Os=Math.max(Ji.duration+Ji.delay,Os)}),Ae.length)return ss(_,this._triggerName,c,p,ei,ct,tn,[],[],Tr,Ci,Os,Ae);Ii.forEach(Ji=>{const oo=Ji.element,Ni=Tn(Tr,oo,{});Ji.preStyleProps.forEach(da=>Ni[da]=!0);const zt=Tn(Ci,oo,{});Ji.postStyleProps.forEach(da=>zt[da]=!0),oo!==_&&Mr.add(oo)});const Sn=mt(Mr.values());return ss(_,this._triggerName,c,p,ei,ct,tn,Ii,Sn,Tr,Ci,Os)}}class xi{constructor(v,_,c){this.styles=v,this.defaultParams=_,this.normalizer=c}buildStyles(v,_){const c={},p=Ht(this.defaultParams);return Object.keys(v).forEach(f=>{const C=v[f];null!=C&&(p[f]=C)}),this.styles.styles.forEach(f=>{if("string"!=typeof f){const C=f;Object.keys(C).forEach(T=>{let P=C[T];P.length>1&&(P=tt(P,p,_));const U=this.normalizer.normalizePropertyName(T,_);P=this.normalizer.normalizeStyleValue(T,U,P,_),c[U]=P})}}),c}}class Rs{constructor(v,_,c){this.name=v,this.ast=_,this._normalizer=c,this.transitionFactories=[],this.states={},_.states.forEach(p=>{this.states[p.name]=new xi(p.style,p.options&&p.options.params||{},c)}),Yi(this.states,"true","1"),Yi(this.states,"false","0"),_.transitions.forEach(p=>{this.transitionFactories.push(new Vs(v,p,this.states))}),this.fallbackTransition=function gs(k,v,_){return new Vs(k,{type:1,animation:{type:2,steps:[],options:null},matchers:[(C,T)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,_,c,p){return this.transitionFactories.find(C=>C.match(v,_,c,p))||null}matchStyles(v,_,c){return this.fallbackTransition.buildStyles(v,_,c)}}function Yi(k,v,_){k.hasOwnProperty(v)?k.hasOwnProperty(_)||(k[_]=k[v]):k.hasOwnProperty(_)&&(k[v]=k[_])}const Bs=new ps;class os{constructor(v,_,c){this.bodyNode=v,this._driver=_,this._normalizer=c,this._animations={},this._playersById={},this.players=[]}register(v,_){const c=[],f=Kr(this._driver,_,c,[]);if(c.length)throw function je(k){return new S.vHH(3503,ce)}();this._animations[v]=f}_buildPlayer(v,_,c){const p=v.element,f=jn(0,this._normalizer,0,v.keyframes,_,c);return this._driver.animate(p,f,v.duration,v.delay,v.easing,[],!0)}create(v,_,c={}){const p=[],f=this._animations[v];let C;const T=new Map;if(f?(C=Es(this._driver,_,f,yr,qn,{},{},c,Bs,p),C.forEach(K=>{const Ae=Tn(T,K.element,{});K.postStyleProps.forEach(lt=>Ae[lt]=null)})):(p.push(function qt(){return new S.vHH(3300,ce)}()),C=[]),p.length)throw function Ft(k){return new S.vHH(3504,ce)}();T.forEach((K,Ae)=>{Object.keys(K).forEach(lt=>{K[lt]=this._driver.computeStyle(Ae,lt,ae.l3)})});const U=In(C.map(K=>{const Ae=T.get(K.element);return this._buildPlayer(K,{},Ae)}));return this._playersById[v]=U,U.onDestroy(()=>this.destroy(v)),this.players.push(U),U}destroy(v){const _=this._getPlayer(v);_.destroy(),delete this._playersById[v];const c=this.players.indexOf(_);c>=0&&this.players.splice(c,1)}_getPlayer(v){const _=this._playersById[v];if(!_)throw function nn(k){return new S.vHH(3301,ce)}();return _}listen(v,_,c,p){const f=ar(_,"","","");return Gr(this._getPlayer(v),c,f,p),()=>{}}command(v,_,c,p){if("register"==c)return void this.register(v,p[0]);if("create"==c)return void this.create(v,_,p[0]||{});const f=this._getPlayer(v);switch(c){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(p[0]));break;case"destroy":this.destroy(v)}}}const Is="ng-animate-queued",pi="ng-animate-disabled",kr=[],_i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed";class as{constructor(v,_=""){this.namespaceId=_;const c=v&&v.hasOwnProperty("value");if(this.value=function Z(k){return null!=k?k:null}(c?v.value:v),c){const f=Ht(v);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const _=v.params;if(_){const c=this.options.params;Object.keys(_).forEach(p=>{null==c[p]&&(c[p]=_[p])})}}}const wi="void",zr=new as(wi);class Bi{constructor(v,_,c){this.id=v,this.hostElement=_,this._engine=c,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,bt(_,this._hostClassName)}listen(v,_,c,p){if(!this._triggers.hasOwnProperty(_))throw function Ct(k,v){return new S.vHH(3302,ce)}();if(null==c||0==c.length)throw function ht(k){return new S.vHH(3303,ce)}();if(!function ee(k){return"start"==k||"done"==k}(c))throw function Wt(k,v){return new S.vHH(3400,ce)}();const f=Tn(this._elementListeners,v,[]),C={name:_,phase:c,callback:p};f.push(C);const T=Tn(this._engine.statesByElement,v,{});return T.hasOwnProperty(_)||(bt(v,Gt),bt(v,Gt+"-"+_),T[_]=zr),()=>{this._engine.afterFlush(()=>{const P=f.indexOf(C);P>=0&&f.splice(P,1),this._triggers[_]||delete T[_]})}}register(v,_){return!this._triggers[v]&&(this._triggers[v]=_,!0)}_getTrigger(v){const _=this._triggers[v];if(!_)throw function kt(k){return new S.vHH(3401,ce)}();return _}trigger(v,_,c,p=!0){const f=this._getTrigger(_),C=new rr(this.id,_,v);let T=this._engine.statesByElement.get(v);T||(bt(v,Gt),bt(v,Gt+"-"+_),this._engine.statesByElement.set(v,T={}));let P=T[_];const U=new as(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&P&&U.absorbOptions(P.options),T[_]=U,P||(P=zr),U.value!==wi&&P.value===U.value){if(!function Dr(k,v){const _=Object.keys(k),c=Object.keys(v);if(_.length!=c.length)return!1;for(let p=0;p<_.length;p++){const f=_[p];if(!v.hasOwnProperty(f)||k[f]!==v[f])return!1}return!0}(P.params,U.params)){const jt=[],tn=f.matchStyles(P.value,P.params,jt),Mr=f.matchStyles(U.value,U.params,jt);jt.length?this._engine.reportError(jt):this._engine.afterFlush(()=>{_t(v,tn),Fe(v,Mr)})}return}const lt=Tn(this._engine.playersByElement,v,[]);lt.forEach(jt=>{jt.namespaceId==this.id&&jt.triggerName==_&&jt.queued&&jt.destroy()});let Vt=f.matchTransition(P.value,U.value,v,U.params),ct=!1;if(!Vt){if(!p)return;Vt=f.fallbackTransition,ct=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:_,transition:Vt,fromState:P,toState:U,player:C,isFallbackTransition:ct}),ct||(bt(v,Is),C.onStart(()=>{$n(v,Is)})),C.onDone(()=>{let jt=this.players.indexOf(C);jt>=0&&this.players.splice(jt,1);const tn=this._engine.playersByElement.get(v);if(tn){let Mr=tn.indexOf(C);Mr>=0&&tn.splice(Mr,1)}}),this.players.push(C),lt.push(C),C}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((_,c)=>{delete _[v]}),this._elementListeners.forEach((_,c)=>{this._elementListeners.set(c,_.filter(p=>p.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const _=this._engine.playersByElement.get(v);_&&(_.forEach(c=>c.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,_){const c=this._engine.driver.query(v,vr,!0);c.forEach(p=>{if(p[Yr])return;const f=this._engine.fetchNamespacesByElement(p);f.size?f.forEach(C=>C.triggerLeaveAnimation(p,_,!1,!0)):this.clearElementCache(p)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(p=>this.clearElementCache(p)))}triggerLeaveAnimation(v,_,c,p){const f=this._engine.statesByElement.get(v),C=new Map;if(f){const T=[];if(Object.keys(f).forEach(P=>{if(C.set(P,f[P].value),this._triggers[P]){const U=this.trigger(v,P,wi,p);U&&T.push(U)}}),T.length)return this._engine.markElementAsRemoved(this.id,v,!0,_,C),c&&In(T).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const _=this._elementListeners.get(v),c=this._engine.statesByElement.get(v);if(_&&c){const p=new Set;_.forEach(f=>{const C=f.name;if(p.has(C))return;p.add(C);const P=this._triggers[C].fallbackTransition,U=c[C]||zr,K=new as(wi),Ae=new rr(this.id,C,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:C,transition:P,fromState:U,toState:K,player:Ae,isFallbackTransition:!0})})}}removeNode(v,_){const c=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,_),this.triggerLeaveAnimation(v,_,!0))return;let p=!1;if(c.totalAnimations){const f=c.players.length?c.playersByQueriedElement.get(v):[];if(f&&f.length)p=!0;else{let C=v;for(;C=C.parentNode;)if(c.statesByElement.get(C)){p=!0;break}}}if(this.prepareLeaveAnimationListeners(v),p)c.markElementAsRemoved(this.id,v,!1,_);else{const f=v[Yr];(!f||f===_i)&&(c.afterFlush(()=>this.clearElementCache(v)),c.destroyInnerAnimations(v),c._onRemovalComplete(v,_))}}insertNode(v,_){bt(v,this._hostClassName)}drainQueuedTransitions(v){const _=[];return this._queue.forEach(c=>{const p=c.player;if(p.destroyed)return;const f=c.element,C=this._elementListeners.get(f);C&&C.forEach(T=>{if(T.name==c.triggerName){const P=ar(f,c.triggerName,c.fromState.value,c.toState.value);P._data=v,Gr(c.player,T.phase,P,T.callback)}}),p.markedForDestroy?this._engine.afterFlush(()=>{p.destroy()}):_.push(c)}),this._queue=[],_.sort((c,p)=>{const f=c.transition.ast.depCount,C=p.transition.ast.depCount;return 0==f||0==C?f-C:this._engine.driver.containsElement(c.element,p.element)?1:-1})}destroy(v){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let _=!1;return this._elementListeners.has(v)&&(_=!0),_=!!this._queue.find(c=>c.element===v)||_,_}}class eo{constructor(v,_,c){this.bodyNode=v,this.driver=_,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(p,f)=>{}}_onRemovalComplete(v,_){this.onRemovalComplete(v,_)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(_=>{_.players.forEach(c=>{c.queued&&v.push(c)})}),v}createNamespace(v,_){const c=new Bi(v,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(c,_):(this.newHostElements.set(_,c),this.collectEnterElement(_)),this._namespaceLookup[v]=c}_balanceNamespaceList(v,_){const c=this._namespaceList,p=this.namespacesByHostElement,f=c.length-1;if(f>=0){let C=!1;if(void 0!==this.driver.getParentElement){let T=this.driver.getParentElement(_);for(;T;){const P=p.get(T);if(P){const U=c.indexOf(P);c.splice(U+1,0,v),C=!0;break}T=this.driver.getParentElement(T)}}else for(let T=f;T>=0;T--)if(this.driver.containsElement(c[T].hostElement,_)){c.splice(T+1,0,v),C=!0;break}C||c.unshift(v)}else c.push(v);return p.set(_,v),v}register(v,_){let c=this._namespaceLookup[v];return c||(c=this.createNamespace(v,_)),c}registerTrigger(v,_,c){let p=this._namespaceLookup[v];p&&p.register(_,c)&&this.totalAnimations++}destroy(v,_){if(!v)return;const c=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[v];const p=this._namespaceList.indexOf(c);p>=0&&this._namespaceList.splice(p,1)}),this.afterFlushAnimationsDone(()=>c.destroy(_))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const _=new Set,c=this.statesByElement.get(v);if(c){const p=Object.keys(c);for(let f=0;f<p.length;f++){const C=c[p[f]].namespaceId;if(C){const T=this._fetchNamespace(C);T&&_.add(T)}}}return _}trigger(v,_,c,p){if(L(_)){const f=this._fetchNamespace(v);if(f)return f.trigger(_,c,p),!0}return!1}insertNode(v,_,c,p){if(!L(_))return;const f=_[Yr];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const C=this.collectedLeaveElements.indexOf(_);C>=0&&this.collectedLeaveElements.splice(C,1)}if(v){const C=this._fetchNamespace(v);C&&C.insertNode(_,c)}p&&this.collectEnterElement(_)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,_){_?this.disabledNodes.has(v)||(this.disabledNodes.add(v),bt(v,pi)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),$n(v,pi))}removeNode(v,_,c,p){if(L(_)){const f=v?this._fetchNamespace(v):null;if(f?f.removeNode(_,p):this.markElementAsRemoved(v,_,!1,p),c){const C=this.namespacesByHostElement.get(_);C&&C.id!==v&&C.removeNode(_,p)}}else this._onRemovalComplete(_,p)}markElementAsRemoved(v,_,c,p,f){this.collectedLeaveElements.push(_),_[Yr]={namespaceId:v,setForRemoval:p,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:f}}listen(v,_,c,p,f){return L(_)?this._fetchNamespace(v).listen(_,c,p,f):()=>{}}_buildInstruction(v,_,c,p,f){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,c,p,v.fromState.options,v.toState.options,_,f)}destroyInnerAnimations(v){let _=this.driver.query(v,vr,!0);_.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(v,Lt,!0),_.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(v){const _=this.playersByElement.get(v);_&&_.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(v){const _=this.playersByQueriedElement.get(v);_&&_.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return In(this.players).onDone(()=>v());v()})}processLeaveNode(v){var _;const c=v[Yr];if(c&&c.setForRemoval){if(v[Yr]=_i,c.namespaceId){this.destroyInnerAnimations(v);const p=this._fetchNamespace(c.namespaceId);p&&p.clearElementCache(v)}this._onRemovalComplete(v,c.setForRemoval)}(null===(_=v.classList)||void 0===_?void 0:_.contains(pi))&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(v=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,p)=>this._balanceNamespaceList(c,p)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)bt(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{_=this._flushAnimations(c,v)}finally{for(let p=0;p<c.length;p++)c[p]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],_.length?In(_).onDone(()=>{c.forEach(p=>p())}):c.forEach(p=>p())}}reportError(v){throw function Rn(k){return new S.vHH(3402,ce)}()}_flushAnimations(v,_){const c=new ps,p=[],f=new Map,C=[],T=new Map,P=new Map,U=new Map,K=new Set;this.disabledNodes.forEach(on=>{K.add(on);const Pt=this.driver.query(on,".ng-animate-queued",!0);for(let Fn=0;Fn<Pt.length;Fn++)K.add(Pt[Fn])});const Ae=this.bodyNode,lt=Array.from(this.statesByElement.keys()),Vt=Xe(lt,this.collectedEnterElements),ct=new Map;let jt=0;Vt.forEach((on,Pt)=>{const Fn=yr+jt++;ct.set(Pt,Fn),on.forEach(On=>bt(On,Fn))});const tn=[],Mr=new Set,Tr=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const Pt=this.collectedLeaveElements[on],Fn=Pt[Yr];Fn&&Fn.setForRemoval&&(tn.push(Pt),Mr.add(Pt),Fn.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(On=>Mr.add(On)):Tr.add(Pt))}const Ci=new Map,ei=Xe(lt,Array.from(Mr));ei.forEach((on,Pt)=>{const Fn=qn+jt++;Ci.set(Pt,Fn),on.forEach(On=>bt(On,Fn))}),v.push(()=>{Vt.forEach((on,Pt)=>{const Fn=ct.get(Pt);on.forEach(On=>$n(On,Fn))}),ei.forEach((on,Pt)=>{const Fn=Ci.get(Pt);on.forEach(On=>$n(On,Fn))}),tn.forEach(on=>{this.processLeaveNode(on)})});const Ur=[],Ii=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(_).forEach(Fn=>{const On=Fn.player,jr=Fn.element;if(Ur.push(On),this.collectedEnterElements.length){const xr=jr[Yr];if(xr&&xr.setForMove){if(xr.previousTriggersValues&&xr.previousTriggersValues.has(Fn.triggerName)){const Xi=xr.previousTriggersValues.get(Fn.triggerName),ao=this.statesByElement.get(Fn.element);ao&&ao[Fn.triggerName]&&(ao[Fn.triggerName].value=Xi)}return void On.destroy()}}const $o=!Ae||!this.driver.containsElement(Ae,jr),Mn=Ci.get(jr),Ao=ct.get(jr),pr=this._buildInstruction(Fn,c,Ao,Mn,$o);if(pr.errors&&pr.errors.length)return void Ii.push(pr);if($o)return On.onStart(()=>_t(jr,pr.fromStyles)),On.onDestroy(()=>Fe(jr,pr.toStyles)),void p.push(On);if(Fn.isFallbackTransition)return On.onStart(()=>_t(jr,pr.fromStyles)),On.onDestroy(()=>Fe(jr,pr.toStyles)),void p.push(On);const Di=[];pr.timelines.forEach(xr=>{xr.stretchStartingKeyframe=!0,this.disabledNodes.has(xr.element)||Di.push(xr)}),pr.timelines=Di,c.append(jr,pr.timelines),C.push({instruction:pr,player:On,element:jr}),pr.queriedElements.forEach(xr=>Tn(T,xr,[]).push(On)),pr.preStyleProps.forEach((xr,Xi)=>{const ao=Object.keys(xr);if(ao.length){let qs=P.get(Xi);qs||P.set(Xi,qs=new Set),ao.forEach(Ri=>qs.add(Ri))}}),pr.postStyleProps.forEach((xr,Xi)=>{const ao=Object.keys(xr);let qs=U.get(Xi);qs||U.set(Xi,qs=new Set),ao.forEach(Ri=>qs.add(Ri))})});if(Ii.length){const on=[];Ii.forEach(Pt=>{on.push(function mn(k,v){return new S.vHH(3505,ce)}())}),Ur.forEach(Pt=>Pt.destroy()),this.reportError(on)}const Os=new Map,Sn=new Map;C.forEach(on=>{const Pt=on.element;c.has(Pt)&&(Sn.set(Pt,Pt),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,Os))}),p.forEach(on=>{const Pt=on.element;this._getPreviousPlayers(Pt,!1,on.namespaceId,on.triggerName,null).forEach(On=>{Tn(Os,Pt,[]).push(On),On.destroy()})});const Ji=tn.filter(on=>ir(on,P,U)),oo=new Map;Je(oo,this.driver,Tr,U,ae.l3).forEach(on=>{ir(on,P,U)&&Ji.push(on)});const zt=new Map;Vt.forEach((on,Pt)=>{Je(zt,this.driver,new Set(on),P,ae.k1)}),Ji.forEach(on=>{const Pt=oo.get(on),Fn=zt.get(on);oo.set(on,Object.assign(Object.assign({},Pt),Fn))});const da=[],Da=[],Rl={};C.forEach(on=>{const{element:Pt,player:Fn,instruction:On}=on;if(c.has(Pt)){if(K.has(Pt))return Fn.onDestroy(()=>Fe(Pt,On.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(On.totalTime),void p.push(Fn);let jr=Rl;if(Sn.size>1){let Mn=Pt;const Ao=[];for(;Mn=Mn.parentNode;){const pr=Sn.get(Mn);if(pr){jr=pr;break}Ao.push(Mn)}Ao.forEach(pr=>Sn.set(pr,jr))}const $o=this._buildAnimation(Fn.namespaceId,On,Os,f,zt,oo);if(Fn.setRealPlayer($o),jr===Rl)da.push(Fn);else{const Mn=this.playersByElement.get(jr);Mn&&Mn.length&&(Fn.parentPlayer=In(Mn)),p.push(Fn)}}else _t(Pt,On.fromStyles),Fn.onDestroy(()=>Fe(Pt,On.toStyles)),Da.push(Fn),K.has(Pt)&&p.push(Fn)}),Da.forEach(on=>{const Pt=f.get(on.element);if(Pt&&Pt.length){const Fn=In(Pt);on.setRealPlayer(Fn)}}),p.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<tn.length;on++){const Pt=tn[on],Fn=Pt[Yr];if($n(Pt,qn),Fn&&Fn.hasAnimation)continue;let On=[];if(T.size){let $o=T.get(Pt);$o&&$o.length&&On.push(...$o);let Mn=this.driver.query(Pt,Lt,!0);for(let Ao=0;Ao<Mn.length;Ao++){let pr=T.get(Mn[Ao]);pr&&pr.length&&On.push(...pr)}}const jr=On.filter($o=>!$o.destroyed);jr.length?Zn(this,Pt,jr):this.processLeaveNode(Pt)}return tn.length=0,da.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const Pt=this.players.indexOf(on);this.players.splice(Pt,1)}),on.play()}),da}elementContainsData(v,_){let c=!1;const p=_[Yr];return p&&p.setForRemoval&&(c=!0),this.playersByElement.has(_)&&(c=!0),this.playersByQueriedElement.has(_)&&(c=!0),this.statesByElement.has(_)&&(c=!0),this._fetchNamespace(v).elementContainsData(_)||c}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,_,c,p,f){let C=[];if(_){const T=this.playersByQueriedElement.get(v);T&&(C=T)}else{const T=this.playersByElement.get(v);if(T){const P=!f||f==wi;T.forEach(U=>{U.queued||!P&&U.triggerName!=p||C.push(U)})}}return(c||p)&&(C=C.filter(T=>!(c&&c!=T.namespaceId||p&&p!=T.triggerName))),C}_beforeAnimationBuild(v,_,c){const f=_.element,C=_.isRemovalTransition?void 0:v,T=_.isRemovalTransition?void 0:_.triggerName;for(const P of _.timelines){const U=P.element,K=U!==f,Ae=Tn(c,U,[]);this._getPreviousPlayers(U,K,C,T,_.toState).forEach(Vt=>{const ct=Vt.getRealPlayer();ct.beforeDestroy&&ct.beforeDestroy(),Vt.destroy(),Ae.push(Vt)})}_t(f,_.fromStyles)}_buildAnimation(v,_,c,p,f,C){const T=_.triggerName,P=_.element,U=[],K=new Set,Ae=new Set,lt=_.timelines.map(ct=>{const jt=ct.element;K.add(jt);const tn=jt[Yr];if(tn&&tn.removedBeforeQueried)return new ae.ZN(ct.duration,ct.delay);const Mr=jt!==P,Tr=function Cn(k){const v=[];return An(k,v),v}((c.get(jt)||kr).map(Os=>Os.getRealPlayer())).filter(Os=>!!Os.element&&Os.element===jt),Ci=f.get(jt),ei=C.get(jt),Ur=jn(0,this._normalizer,0,ct.keyframes,Ci,ei),Ii=this._buildPlayer(ct,Ur,Tr);if(ct.subTimeline&&p&&Ae.add(jt),Mr){const Os=new rr(v,T,jt);Os.setRealPlayer(Ii),U.push(Os)}return Ii});U.forEach(ct=>{Tn(this.playersByQueriedElement,ct.element,[]).push(ct),ct.onDone(()=>function V(k,v,_){let c;if(k instanceof Map){if(c=k.get(v),c){if(c.length){const p=c.indexOf(_);c.splice(p,1)}0==c.length&&k.delete(v)}}else if(c=k[v],c){if(c.length){const p=c.indexOf(_);c.splice(p,1)}0==c.length&&delete k[v]}return c}(this.playersByQueriedElement,ct.element,ct))}),K.forEach(ct=>bt(ct,Dn));const Vt=In(lt);return Vt.onDestroy(()=>{K.forEach(ct=>$n(ct,Dn)),Fe(P,_.toStyles)}),Ae.forEach(ct=>{Tn(p,ct,[]).push(Vt)}),Vt}_buildPlayer(v,_,c){return _.length>0?this.driver.animate(v.element,_,v.duration,v.delay,v.easing,c):new ae.ZN(v.duration,v.delay)}}class rr{constructor(v,_,c){this.namespaceId=v,this.triggerName=_,this.element=c,this._player=new ae.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(_=>{this._queuedCallbacks[_].forEach(c=>Gr(v,_,void 0,c))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const _=this._player;_.triggerCallback&&v.onStart(()=>_.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,_){Tn(this._queuedCallbacks,v,[]).push(_)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const _=this._player;_.triggerCallback&&_.triggerCallback(v)}}function L(k){return k&&1===k.nodeType}function be(k,v){const _=k.style.display;return k.style.display=null!=v?v:"none",_}function Je(k,v,_,c,p){const f=[];_.forEach(P=>f.push(be(P)));const C=[];c.forEach((P,U)=>{const K={};P.forEach(Ae=>{const lt=K[Ae]=v.computeStyle(U,Ae,p);(!lt||0==lt.length)&&(U[Yr]=ks,C.push(U))}),k.set(U,K)});let T=0;return _.forEach(P=>be(P,f[T++])),C}function Xe(k,v){const _=new Map;if(k.forEach(T=>_.set(T,[])),0==v.length)return _;const p=new Set(v),f=new Map;function C(T){if(!T)return 1;let P=f.get(T);if(P)return P;const U=T.parentNode;return P=_.has(U)?U:p.has(U)?1:C(U),f.set(T,P),P}return v.forEach(T=>{const P=C(T);1!==P&&_.get(P).push(T)}),_}function bt(k,v){var _;null===(_=k.classList)||void 0===_||_.add(v)}function $n(k,v){var _;null===(_=k.classList)||void 0===_||_.remove(v)}function Zn(k,v,_){In(_).onDone(()=>k.processLeaveNode(v))}function An(k,v){for(let _=0;_<k.length;_++){const c=k[_];c instanceof ae.ZE?An(c.players,v):v.push(c)}}function ir(k,v,_){const c=_.get(k);if(!c)return!1;let p=v.get(k);return p?c.forEach(f=>p.add(f)):v.set(k,c),_.delete(k),!0}class sr{constructor(v,_,c){this.bodyNode=v,this._driver=_,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(p,f)=>{},this._transitionEngine=new eo(v,_,c),this._timelineEngine=new os(v,_,c),this._transitionEngine.onRemovalComplete=(p,f)=>this.onRemovalComplete(p,f)}registerTrigger(v,_,c,p,f){const C=v+"-"+p;let T=this._triggerCache[C];if(!T){const P=[],K=Kr(this._driver,f,P,[]);if(P.length)throw function ge(k,v){return new S.vHH(3404,ce)}();T=function ni(k,v,_){return new Rs(k,v,_)}(p,K,this._normalizer),this._triggerCache[C]=T}this._transitionEngine.registerTrigger(_,p,T)}register(v,_){this._transitionEngine.register(v,_)}destroy(v,_){this._transitionEngine.destroy(v,_)}onInsert(v,_,c,p){this._transitionEngine.insertNode(v,_,c,p)}onRemove(v,_,c,p){this._transitionEngine.removeNode(v,_,p||!1,c)}disableAnimations(v,_){this._transitionEngine.markElementAsDisabled(v,_)}process(v,_,c,p){if("@"==c.charAt(0)){const[f,C]=Ar(c);this._timelineEngine.command(f,_,C,p)}else this._transitionEngine.trigger(v,_,c,p)}listen(v,_,c,p,f){if("@"==c.charAt(0)){const[C,T]=Ar(c);return this._timelineEngine.listen(C,_,T,f)}return this._transitionEngine.listen(v,_,c,p,f)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gi=(()=>{class k{constructor(_,c,p){this._element=_,this._startStyles=c,this._endStyles=p,this._state=0;let f=k.initialStylesByElement.get(_);f||k.initialStylesByElement.set(_,f={}),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&Fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fe(this._element,this._initialStyles),this._endStyles&&(Fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(k.initialStylesByElement.delete(this._element),this._startStyles&&(_t(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_t(this._element,this._endStyles),this._endStyles=null),Fe(this._element,this._initialStyles),this._state=3)}}return k.initialStylesByElement=new WeakMap,k})();function cn(k){let v=null;const _=Object.keys(k);for(let c=0;c<_.length;c++){const p=_[c];Ui(p)&&(v=v||{},v[p]=k[p])}return v}function Ui(k){return"display"===k||"position"===k}class bi{constructor(v,_,c,p){this.element=v,this.keyframes=_,this.options=c,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,_,c){return v.animate(_,c)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};if(this.hasStarted()){const _=this._finalKeyframe;Object.keys(_).forEach(c=>{"offset"!=c&&(v[c]=this._finished?_[c]:wr(this.element,c))})}this.currentSnapshot=v}triggerCallback(v){const _="start"==v?this._onStartFns:this._onDoneFns;_.forEach(c=>c()),_.length=0}}class js{validateStyleProperty(v){return un(v)}matchesElement(v,_){return!1}containsElement(v,_){return lr(v,_)}getParentElement(v){return xn(v)}query(v,_,c){return Dt(v,_,c)}computeStyle(v,_,c){return window.getComputedStyle(v)[_]}animate(v,_,c,p,f,C=[]){const P={duration:c,delay:p,fill:0==p?"both":"forwards"};f&&(P.easing=f);const U={},K=C.filter(lt=>lt instanceof bi);(function Fi(k,v){return 0===k||0===v})(c,p)&&K.forEach(lt=>{let Vt=lt.currentSnapshot;Object.keys(Vt).forEach(ct=>U[ct]=Vt[ct])}),_=function oi(k,v,_){const c=Object.keys(_);if(c.length&&v.length){let f=v[0],C=[];if(c.forEach(T=>{f.hasOwnProperty(T)||C.push(T),f[T]=_[T]}),C.length)for(var p=1;p<v.length;p++){let T=v[p];C.forEach(function(P){T[P]=wr(k,P)})}}return v}(v,_=_.map(lt=>ue(lt,!1)),U);const Ae=function Qi(k,v){let _=null,c=null;return Array.isArray(v)&&v.length?(_=cn(v[0]),v.length>1&&(c=cn(v[v.length-1]))):v&&(_=cn(v)),_||c?new gi(k,_,c):null}(v,_);return new bi(v,_,P,Ae)}}let Ts=(()=>{class k extends ae._j{constructor(_,c){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(c.body,{id:"0",encapsulation:S.ifc.None,styles:[],data:{animation:[]}})}build(_){const c=this._nextAnimationId.toString();this._nextAnimationId++;const p=Array.isArray(_)?(0,ae.vP)(_):_;return N(this._renderer,null,c,"register",[p]),new B(c,this._renderer)}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(S.FYo),S.LFG(X.K0))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac}),k})();class B extends ae.LC{constructor(v,_){super(),this._id=v,this._renderer=_}create(v,_){return new F(this._id,v,_||{},this._renderer)}}class F{constructor(v,_,c,p){this.id=v,this.element=_,this._renderer=p,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(v,_){return this._renderer.listen(this.element,`@@${this.id}:${v}`,_)}_command(v,..._){return N(this._renderer,this.element,this.id,v,_)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,_;return null!==(_=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==_?_:0}}function N(k,v,_,c,p){return k.setProperty(v,`@@${_}:${c}`,p)}const H="@",He="@.disabled";let $t=(()=>{class k{constructor(_,c,p){this.delegate=_,this.engine=c,this._zone=p,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(f,C)=>{const T=null==C?void 0:C.parentNode(f);T&&C.removeChild(T,f)}}createRenderer(_,c){const f=this.delegate.createRenderer(_,c);if(!(_&&c&&c.data&&c.data.animation)){let K=this._rendererCache.get(f);return K||(K=new vn("",f,this.engine),this._rendererCache.set(f,K)),K}const C=c.id,T=c.id+"-"+this._currentId;this._currentId++,this.engine.register(T,_);const P=K=>{Array.isArray(K)?K.forEach(P):this.engine.registerTrigger(C,T,_,K.name,K)};return c.data.animation.forEach(P),new ri(this,T,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,c,p){_>=0&&_<this._microtaskId?this._zone.run(()=>c(p)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[C,T]=f;C(T)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,p]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(S.FYo),S.LFG(sr),S.LFG(S.R0b))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac}),k})();class vn{constructor(v,_,c){this.namespaceId=v,this.delegate=_,this.engine=c,this.destroyNode=this.delegate.destroyNode?p=>_.destroyNode(p):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,_){return this.delegate.createElement(v,_)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,_){this.delegate.appendChild(v,_),this.engine.onInsert(this.namespaceId,_,v,!1)}insertBefore(v,_,c,p=!0){this.delegate.insertBefore(v,_,c),this.engine.onInsert(this.namespaceId,_,v,p)}removeChild(v,_,c){this.engine.onRemove(this.namespaceId,_,this.delegate,c)}selectRootElement(v,_){return this.delegate.selectRootElement(v,_)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,_,c,p){this.delegate.setAttribute(v,_,c,p)}removeAttribute(v,_,c){this.delegate.removeAttribute(v,_,c)}addClass(v,_){this.delegate.addClass(v,_)}removeClass(v,_){this.delegate.removeClass(v,_)}setStyle(v,_,c,p){this.delegate.setStyle(v,_,c,p)}removeStyle(v,_,c){this.delegate.removeStyle(v,_,c)}setProperty(v,_,c){_.charAt(0)==H&&_==He?this.disableAnimations(v,!!c):this.delegate.setProperty(v,_,c)}setValue(v,_){this.delegate.setValue(v,_)}listen(v,_,c){return this.delegate.listen(v,_,c)}disableAnimations(v,_){this.engine.disableAnimations(v,_)}}class ri extends vn{constructor(v,_,c,p){super(_,c,p),this.factory=v,this.namespaceId=_}setProperty(v,_,c){_.charAt(0)==H?"."==_.charAt(1)&&_==He?this.disableAnimations(v,c=void 0===c||!!c):this.engine.process(this.namespaceId,v,_.substr(1),c):this.delegate.setProperty(v,_,c)}listen(v,_,c){if(_.charAt(0)==H){const p=function ii(k){switch(k){case"body":return document.body;case"document":return document;case"window":return window;default:return k}}(v);let f=_.substr(1),C="";return f.charAt(0)!=H&&([f,C]=function Qr(k){const v=k.indexOf(".");return[k.substring(0,v),k.substr(v+1)]}(f)),this.engine.listen(this.namespaceId,p,f,C,T=>{this.factory.scheduleListenerCallback(T._data||-1,c,T)})}return this.delegate.listen(v,_,c)}}let to=(()=>{class k extends sr{constructor(_,c,p){super(_.body,c,p)}ngOnDestroy(){this.flush()}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(X.K0),S.LFG(ur),S.LFG(nr))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac}),k})();const la=new S.OlP("AnimationModuleType"),Lo=[{provide:ae._j,useClass:Ts},{provide:nr,useFactory:function As(){return new Mi}},{provide:sr,useClass:to},{provide:S.FYo,useFactory:function po(k,v,_){return new $t(k,v,_)},deps:[y.se,sr,S.R0b]}],no=[{provide:ur,useFactory:()=>new js},{provide:la,useValue:"BrowserAnimations"},...Lo],Ei=[{provide:ur,useClass:Mt},{provide:la,useValue:"NoopAnimations"},...Lo];let ji=(()=>{class k{static withConfig(_){return{ngModule:k,providers:_.disableAnimations?Ei:no}}}return k.\u0275fac=function(_){return new(_||k)},k.\u0275mod=S.oAB({type:k}),k.\u0275inj=S.cJS({providers:no,imports:[y.b2]}),k})();var ms=$(7562),Oi=$(441),ro=$(7201),Hi=$(7579);const mo=["toast-component",""];function Jr(k,v){if(1&k){const _=S.EpF();S.TgZ(0,"button",5),S.NdJ("click",function(){return S.CHM(_),S.oxw().remove()}),S.TgZ(1,"span",6),S._uU(2,"\xd7"),S.qZA()()}}function yo(k,v){if(1&k&&(S.ynx(0),S._uU(1),S.BQk()),2&k){const _=S.oxw(2);S.xp6(1),S.hij("[",_.duplicatesCount+1,"]")}}function Vo(k,v){if(1&k&&(S.TgZ(0,"div"),S._uU(1),S.YNc(2,yo,2,1,"ng-container",4),S.qZA()),2&k){const _=S.oxw();S.Tol(_.options.titleClass),S.uIk("aria-label",_.title),S.xp6(1),S.hij(" ",_.title," "),S.xp6(1),S.Q6J("ngIf",_.duplicatesCount)}}function vo(k,v){if(1&k&&S._UZ(0,"div",7),2&k){const _=S.oxw();S.Tol(_.options.messageClass),S.Q6J("innerHTML",_.message,S.oJD)}}function Ea(k,v){if(1&k&&(S.TgZ(0,"div",8),S._uU(1),S.qZA()),2&k){const _=S.oxw();S.Tol(_.options.messageClass),S.uIk("aria-label",_.message),S.xp6(1),S.hij(" ",_.message," ")}}function _o(k,v){if(1&k&&(S.TgZ(0,"div"),S._UZ(1,"div",9),S.qZA()),2&k){const _=S.oxw();S.xp6(1),S.Udp("width",_.width+"%")}}function ho(k,v){if(1&k){const _=S.EpF();S.TgZ(0,"button",5),S.NdJ("click",function(){return S.CHM(_),S.oxw().remove()}),S.TgZ(1,"span",6),S._uU(2,"\xd7"),S.qZA()()}}function Hs(k,v){if(1&k&&(S.ynx(0),S._uU(1),S.BQk()),2&k){const _=S.oxw(2);S.xp6(1),S.hij("[",_.duplicatesCount+1,"]")}}function wo(k,v){if(1&k&&(S.TgZ(0,"div"),S._uU(1),S.YNc(2,Hs,2,1,"ng-container",4),S.qZA()),2&k){const _=S.oxw();S.Tol(_.options.titleClass),S.uIk("aria-label",_.title),S.xp6(1),S.hij(" ",_.title," "),S.xp6(1),S.Q6J("ngIf",_.duplicatesCount)}}function $s(k,v){if(1&k&&S._UZ(0,"div",7),2&k){const _=S.oxw();S.Tol(_.options.messageClass),S.Q6J("innerHTML",_.message,S.oJD)}}function Yo(k,v){if(1&k&&(S.TgZ(0,"div",8),S._uU(1),S.qZA()),2&k){const _=S.oxw();S.Tol(_.options.messageClass),S.uIk("aria-label",_.message),S.xp6(1),S.hij(" ",_.message," ")}}function Fs(k,v){if(1&k&&(S.TgZ(0,"div"),S._UZ(1,"div",9),S.qZA()),2&k){const _=S.oxw();S.xp6(1),S.Udp("width",_.width+"%")}}class Bo{constructor(v,_){this.component=v,this.injector=_}attach(v,_){return this._attachedHost=v,v.attach(this,_)}detach(){const v=this._attachedHost;if(v)return this._attachedHost=void 0,v.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(v){this._attachedHost=v}}class Gs{constructor(v,_,c,p,f,C){this.toastId=v,this.config=_,this.message=c,this.title=p,this.toastType=f,this.toastRef=C,this._onTap=new Hi.x,this._onAction=new Hi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(v){this._onAction.next(v)}onAction(){return this._onAction.asObservable()}}const qr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},bo=new S.OlP("ToastConfig");class Ca{constructor(v){this._overlayRef=v,this.duplicatesCount=0,this._afterClosed=new Hi.x,this._activate=new Hi.x,this._manualClose=new Hi.x,this._resetTimeout=new Hi.x,this._countDuplicate=new Hi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(v,_){v&&this._resetTimeout.next(),_&&this._countDuplicate.next(++this.duplicatesCount)}}class Ia{constructor(v,_){this._toastPackage=v,this._parentInjector=_}get(v,_,c){return v===Gs?this._toastPackage:this._parentInjector.get(v,_,c)}}class Eo extends class si{attach(v,_){return this._attachedPortal=v,this.attachComponentPortal(v,_)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(v){this._disposeFn=v}}{constructor(v,_,c){super(),this._hostDomElement=v,this._componentFactoryResolver=_,this._appRef=c}attachComponentPortal(v,_){const c=this._componentFactoryResolver.resolveComponentFactory(v.component);let p;return p=c.create(v.injector),this._appRef.attachView(p.hostView),this.setDisposeFn(()=>{this._appRef.detachView(p.hostView),p.destroy()}),_?this._hostDomElement.insertBefore(this._getComponentRootNode(p),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(p)),p}_getComponentRootNode(v){return v.hostView.rootNodes[0]}}class ka{constructor(v){this._portalHost=v}attach(v,_=!0){return this._portalHost.attach(v,_)}detach(){return this._portalHost.detach()}}let Uo=(()=>{class k{constructor(_){this._document=_}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const _=this._document.createElement("div");_.classList.add("overlay-container"),_.setAttribute("aria-live","polite"),this._document.body.appendChild(_),this._containerElement=_}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(X.K0))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ls=(()=>{class k{constructor(_,c,p,f){this._overlayContainer=_,this._componentFactoryResolver=c,this._appRef=p,this._document=f,this._paneElements=new Map}create(_,c){return this._createOverlayRef(this.getPaneElement(_,c))}getPaneElement(_="",c){return this._paneElements.get(c)||this._paneElements.set(c,{}),this._paneElements.get(c)[_]||(this._paneElements.get(c)[_]=this._createPaneElement(_,c)),this._paneElements.get(c)[_]}_createPaneElement(_,c){const p=this._document.createElement("div");return p.id="toast-container",p.classList.add(_),p.classList.add("toast-container"),c?c.getContainerElement().appendChild(p):this._overlayContainer.getContainerElement().appendChild(p),p}_createPortalHost(_){return new Eo(_,this._componentFactoryResolver,this._appRef)}_createOverlayRef(_){return new ka(this._createPortalHost(_))}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(Uo),S.LFG(S._Vd),S.LFG(S.z2F),S.LFG(X.K0))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ss=(()=>{class k{constructor(_,c,p,f,C){this.overlay=c,this._injector=p,this.sanitizer=f,this.ngZone=C,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},_.default),_.config),_.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},_.default.iconClasses),_.config.iconClasses))}show(_,c,p={},f=""){return this._preBuildNotification(f,_,c,this.applyConfig(p))}success(_,c,p={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",_,c,this.applyConfig(p))}error(_,c,p={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",_,c,this.applyConfig(p))}info(_,c,p={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",_,c,this.applyConfig(p))}warning(_,c,p={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",_,c,this.applyConfig(p))}clear(_){for(const c of this.toasts)if(void 0!==_){if(c.toastId===_)return void c.toastRef.manualClose()}else c.toastRef.manualClose()}remove(_){const c=this._findToast(_);if(!c||(c.activeToast.toastRef.close(),this.toasts.splice(c.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const p=this.toasts[this.currentlyActive].toastRef;p.isInactive()||(this.currentlyActive=this.currentlyActive+1,p.activate())}return!0}findDuplicate(_="",c="",p,f){const{includeTitleDuplicates:C}=this.toastrConfig;for(const T of this.toasts){const P=C&&T.title===_;if((!C||P)&&T.message===c)return T.toastRef.onDuplicate(p,f),T}return null}applyConfig(_={}){return Object.assign(Object.assign({},this.toastrConfig),_)}_findToast(_){for(let c=0;c<this.toasts.length;c++)if(this.toasts[c].toastId===_)return{index:c,activeToast:this.toasts[c]};return null}_preBuildNotification(_,c,p,f){return f.onActivateTick?this.ngZone.run(()=>this._buildNotification(_,c,p,f)):this._buildNotification(_,c,p,f)}_buildNotification(_,c,p,f){if(!f.toastComponent)throw new Error("toastComponent required");const C=this.findDuplicate(p,c,this.toastrConfig.resetTimeoutOnDuplicate&&f.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&p||c)&&this.toastrConfig.preventDuplicates&&null!==C)return C;this.previousToastMessage=c;let T=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(T=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const P=this.overlay.create(f.positionClass,this.overlayContainer);this.index=this.index+1;let U=c;c&&f.enableHtml&&(U=this.sanitizer.sanitize(S.q3G.HTML,c));const K=new Ca(P),Ae=new Gs(this.index,f,U,p,_,K),lt=new Ia(Ae,this._injector),Vt=new Bo(f.toastComponent,lt),ct=P.attach(Vt,this.toastrConfig.newestOnTop);K.componentInstance=ct.instance;const jt={toastId:this.index,title:p||"",message:c||"",toastRef:K,onShown:K.afterActivate(),onHidden:K.afterClosed(),onTap:Ae.onTap(),onAction:Ae.onAction(),portal:ct};return T||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{jt.toastRef.activate()})),this.toasts.push(jt),jt}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(bo),S.LFG(ls),S.LFG(S.zs3),S.LFG(y.H7),S.LFG(S.R0b))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Co=(()=>{class k{constructor(_,c,p){this.toastrService=_,this.toastPackage=c,this.ngZone=p,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=c.message,this.title=c.title,this.options=c.config,this.originalTimeout=c.config.timeOut,this.toastClasses=`${c.toastType} ${c.config.toastClass}`,this.sub=c.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=c.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=c.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=c.toastRef.countDuplicate().subscribe(f=>{this.duplicatesCount=f})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const _=(new Date).getTime();this.width=(this.hideTime-_)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(_,c){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(_),c)):this.timeout=setTimeout(()=>_(),c)}outsideInterval(_,c){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(_),c)):this.intervalId=setInterval(()=>_(),c)}runInsideAngular(_){this.ngZone?this.ngZone.run(()=>_()):_()}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(Ss),S.Y36(Gs),S.Y36(S.R0b))},k.\u0275cmp=S.Xpm({type:k,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(_,c){1&_&&S.NdJ("click",function(){return c.tapToast()})("mouseenter",function(){return c.stickAround()})("mouseleave",function(){return c.delayedHideToast()}),2&_&&(S.d8E("@flyInOut",c.state),S.Tol(c.toastClasses),S.Udp("display",c.displayStyle))},attrs:mo,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_,c){1&_&&(S.YNc(0,Jr,3,0,"button",0),S.YNc(1,Vo,3,5,"div",1),S.YNc(2,vo,1,3,"div",2),S.YNc(3,Ea,2,4,"div",3),S.YNc(4,_o,2,2,"div",4)),2&_&&(S.Q6J("ngIf",c.options.closeButton),S.xp6(1),S.Q6J("ngIf",c.title),S.xp6(1),S.Q6J("ngIf",c.message&&c.options.enableHtml),S.xp6(1),S.Q6J("ngIf",c.message&&!c.options.enableHtml),S.xp6(1),S.Q6J("ngIf",c.options.progressBar))},directives:[X.O5],encapsulation:2,data:{animation:[(0,ae.X$)("flyInOut",[(0,ae.SB)("inactive",(0,ae.oB)({opacity:0})),(0,ae.SB)("active",(0,ae.oB)({opacity:1})),(0,ae.SB)("removed",(0,ae.oB)({opacity:0})),(0,ae.eR)("inactive => active",(0,ae.jt)("{{ easeTime }}ms {{ easing }}")),(0,ae.eR)("active => removed",(0,ae.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),k})();const Xr=Object.assign(Object.assign({},qr),{toastComponent:Co});let ci=(()=>{class k{static forRoot(_={}){return{ngModule:k,providers:[{provide:bo,useValue:{default:Xr,config:_}}]}}}return k.\u0275fac=function(_){return new(_||k)},k.\u0275mod=S.oAB({type:k}),k.\u0275inj=S.cJS({imports:[[X.ez]]}),k})(),us=(()=>{class k{constructor(_,c,p){this.toastrService=_,this.toastPackage=c,this.appRef=p,this.width=-1,this.toastClasses="",this.state="inactive",this.message=c.message,this.title=c.title,this.options=c.config,this.originalTimeout=c.config.timeOut,this.toastClasses=`${c.toastType} ${c.config.toastClass}`,this.sub=c.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=c.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=c.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=c.toastRef.countDuplicate().subscribe(f=>{this.duplicatesCount=f})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const _=(new Date).getTime();this.width=(this.hideTime-_)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(Ss),S.Y36(Gs),S.Y36(S.z2F))},k.\u0275cmp=S.Xpm({type:k,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(_,c){1&_&&S.NdJ("click",function(){return c.tapToast()})("mouseenter",function(){return c.stickAround()})("mouseleave",function(){return c.delayedHideToast()}),2&_&&(S.Tol(c.toastClasses),S.Udp("display",c.displayStyle))},attrs:mo,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_,c){1&_&&(S.YNc(0,ho,3,0,"button",0),S.YNc(1,wo,3,5,"div",1),S.YNc(2,$s,1,3,"div",2),S.YNc(3,Yo,2,4,"div",3),S.YNc(4,Fs,2,2,"div",4)),2&_&&(S.Q6J("ngIf",c.options.closeButton),S.xp6(1),S.Q6J("ngIf",c.title),S.xp6(1),S.Q6J("ngIf",c.message&&c.options.enableHtml),S.xp6(1),S.Q6J("ngIf",c.message&&!c.options.enableHtml),S.xp6(1),S.Q6J("ngIf",c.options.progressBar))},directives:[X.O5],encapsulation:2}),k})();Object.assign(Object.assign({},qr),{toastComponent:us});let di=(()=>{class k{constructor(_,c){this.ToastrSvc=_,this.spinner=c,this.spinner.show()}ngOnInit(){}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(Ss),S.Y36(ms.t2))},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-bienvenida"]],decls:34,vars:0,consts:[["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",2,"background-image","url('https://source.unsplash.com/LAaSoL0LrYs/1920x1080')"],[1,"carousel-caption"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/bF2vsubyHcQ/1920x1080')"],[1,"carousel-item",2,"background-image","url('https://source.unsplash.com/szFUQoyvrxM/1920x1080')"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"bg-dark"]],template:function(_,c){1&_&&(S.TgZ(0,"header")(1,"div",0)(2,"div",1),S._UZ(3,"button",2)(4,"button",3)(5,"button",4),S.qZA(),S.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5"),S._uU(10,"First slide label"),S.qZA(),S.TgZ(11,"p"),S._uU(12,"Some representative placeholder content for the first slide."),S.qZA()()(),S.TgZ(13,"div",8)(14,"div",7)(15,"h5"),S._uU(16,"Second slide label"),S.qZA(),S.TgZ(17,"p"),S._uU(18,"Some representative placeholder content for the second slide."),S.qZA()()(),S.TgZ(19,"div",9)(20,"div",7)(21,"h5"),S._uU(22,"Third slide label"),S.qZA(),S.TgZ(23,"p"),S._uU(24,"Some representative placeholder content for the third slide."),S.qZA()()()(),S.TgZ(25,"button",10),S._UZ(26,"span",11),S.TgZ(27,"span",12),S._uU(28,"Previous"),S.qZA()(),S.TgZ(29,"button",13),S._UZ(30,"span",14),S.TgZ(31,"span",12),S._uU(32,"Next"),S.qZA()()()(),S._UZ(33,"section",15))},styles:[".carousel-item[_ngcontent-%COMP%]{height:75vh;min-height:350px;background:no-repeat center center scroll;background-size:cover}header[_ngcontent-%COMP%]{max-height:75vh}section[_ngcontent-%COMP%]{min-height:115px}"]}),k})();var so=$(5226),Qo=$.n(so),Jo=$(7556);let ua=(()=>{class k{constructor(_,c,p){this.auth=_,this.router=c,this.ToastrSvc=p}canActivate(_,c){return this.auth.verificarlogeo().then(p=>null!=p?this.auth.VerificarCorreo().then(f=>1==f?(this.auth.estalogeado=!0,!0):(Qo().fire({position:"center",icon:"warning",title:"Valida el email para ingresar !!",showConfirmButton:!1,timer:3e3}),this.ToastrSvc.success("sisi","sisi"),this.router.navigateByUrl("/ingreso/login"),!1)):(this.router.navigateByUrl("/ingreso/login"),!1))}}return k.\u0275fac=function(_){return new(_||k)(S.LFG(Jo.e),S.LFG(Oi.F0),S.LFG(Ss))},k.\u0275prov=S.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ca=(()=>{class k{constructor(){}ngOnInit(){}}return k.\u0275fac=function(_){return new(_||k)},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-home"]],decls:3,vars:0,template:function(_,c){1&_&&(S.TgZ(0,"div")(1,"h1"),S._uU(2,"HOME"),S.qZA()())},styles:[""]}),k})();var dr=$(2382),Io=$(231);const A=[{path:"",redirectTo:"/ingreso/login",pathMatch:"full"},{path:"bienvenida",component:di},{path:"alta",component:ro.t},{path:"ingreso",loadChildren:()=>$.e(906).then($.bind($,7906)).then(k=>k.IngresoModule)},{path:"altas",loadChildren:()=>$.e(740).then($.bind($,5740)).then(k=>k.AltasModule)},{path:"pepe",component:(()=>{class k{constructor(_){this.fb=_,this.aceptado=!1,this.unpaciente=new Io.T}ngOnInit(){this.formGroup=this.fb.group({nombre:["",[dr.kI.compose([dr.kI.required])]]})}aceptar(){this.aceptado=!0}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(dr.qu))},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-pepe"]],decls:5,vars:0,template:function(_,c){1&_&&(S.TgZ(0,"div")(1,"button"),S._uU(2,"boton"),S.qZA(),S.TgZ(3,"p"),S._uU(4,"hola"),S.qZA()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}div[_ngcontent-%COMP%]{height:100vh;background-color:#000}p[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff;padding:auto}"]}),k})()},{path:"home",component:ca,canActivate:[ua]}];let M=(()=>{class k{}return k.\u0275fac=function(_){return new(_||k)},k.\u0275mod=S.oAB({type:k}),k.\u0275inj=S.cJS({imports:[[Oi.Bz.forRoot(A)],Oi.Bz]}),k})();const W=(0,ae.X$)("slideInAnimation",[(0,ae.eR)("* <=> *",[(0,ae.IO)(":enter, :leave",(0,ae.oB)({position:"fixed",width:"100%",zIndex:2}),{optional:!0}),(0,ae.ru)([(0,ae.IO)(":enter",[(0,ae.oB)({transform:"translateX(100%)"}),(0,ae.jt)("0.5s ease-out",(0,ae.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,ae.IO)(":leave",[(0,ae.oB)({transform:"translateX(0%)"}),(0,ae.jt)("0.5s ease-out",(0,ae.oB)({transform:"translateX(-100%)"}))],{optional:!0})])])]),ve=function(){return["/ingreso/login"]};function rt(k,v){1&k&&(S.TgZ(0,"a",10),S._uU(1,"Login "),S.qZA()),2&k&&S.Q6J("routerLink",S.DdM(1,ve))}const hn=function(){return["/ingreso/registrar"]};function fr(k,v){1&k&&(S.TgZ(0,"a",10),S._uU(1,"Registro"),S.qZA()),2&k&&S.Q6J("routerLink",S.DdM(1,hn))}function $i(k,v){if(1&k){const _=S.EpF();S.TgZ(0,"a",11),S.NdJ("click",function(){return S.CHM(_),S.oxw().cerrar()}),S._uU(1,"LogOut"),S.qZA()}}let Fr=(()=>{class k{constructor(_,c){this.auth=_,this.router=c,this.evento=new S.vpe,this.auth.verificarlogeo().then(p=>{this.evento.emit(),null!=p&&(this.auth.estalogeado=!0)})}ngOnInit(){}cerrar(){this.auth.estalogeado=!1,this.auth.deslogear(),this.router.navigateByUrl("/ingreso/login")}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(Jo.e),S.Y36(Oi.F0))},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-navbar"]],outputs:{evento:"evento"},decls:12,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],["id","pepe",1,"navbar-brand"],["id","blanquito","type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"avbar-nav","me-auto","mb-2","mb-lg-0"],["id","navbarText",1,"navbar-nav"],["class","navbar-brand esa","id","pepe",3,"routerLink",4,"ngIf"],["class","navbar-brand esa","id","pepe",3,"click",4,"ngIf"],["id","pepe",1,"navbar-brand","esa",3,"routerLink"],["id","pepe",1,"navbar-brand","esa",3,"click"]],template:function(_,c){1&_&&(S.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),S._uU(3,"Cl\xednica M\xe9dica"),S.qZA(),S.TgZ(4,"button",3),S._UZ(5,"span",4),S.qZA(),S.TgZ(6,"div",5),S._UZ(7,"span",6),S.TgZ(8,"div",7),S.YNc(9,rt,2,2,"a",8),S.YNc(10,fr,2,2,"a",8),S.YNc(11,$i,2,0,"a",9),S.qZA()()()()),2&_&&(S.xp6(9),S.Q6J("ngIf",0==c.auth.estalogeado),S.xp6(1),S.Q6J("ngIf",0==c.auth.estalogeado),S.xp6(1),S.Q6J("ngIf",1==c.auth.estalogeado))},directives:[X.O5,Oi.yS],styles:["#pepe[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]{margin-bottom:0%;margin-top:0%;padding-top:0%;padding-bottom:0%;min-height:44px}#navbarText[_ngcontent-%COMP%]{min-height:100%}#blanquito[_ngcontent-%COMP%]{background-color:#fff}a[_ngcontent-%COMP%]{margin:0% 5px 0% 0%;padding:0%;height:100%;font-size:22px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}a[_ngcontent-%COMP%]:hover{background-color:gray}.esa[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;min-width:90px;min-height:48px;text-align:center;margin-bottom:0}.ancho[_ngcontent-%COMP%]{width:100%}"]}),k})(),jo=(()=>{class k{constructor(_,c){this.ToastrSvc=_,this.spinner=c,this.title="tpfinal",this.spinner.show()}llego(_){this.spinner.hide()}}return k.\u0275fac=function(_){return new(_||k)(S.Y36(Ss),S.Y36(ms.t2))},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-root"]],decls:7,vars:1,consts:[[3,"evento"],["o","outlet"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"]],template:function(_,c){if(1&_&&(S.TgZ(0,"app-navbar",0),S.NdJ("evento",function(f){return c.llego(f)}),S.qZA(),S.TgZ(1,"div"),S._UZ(2,"router-outlet",null,1),S.qZA(),S.TgZ(4,"ngx-spinner",2)(5,"p",3),S._uU(6,"Loading..."),S.qZA()()),2&_){const p=S.MAs(3);S.xp6(1),S.Q6J("@slideInAnimation",p.isActivated?p.activatedRoute:"")}},directives:[Fr,Oi.lC,ms.Ro],styles:[".toast-center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.toast-top-center[_ngcontent-%COMP%]{top:0;right:0;width:100%}.toast-bottom-center[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.toast-top-full-width[_ngcontent-%COMP%]{top:0;right:0;width:100%}.toast-bottom-full-width[_ngcontent-%COMP%]{bottom:0;right:0;width:100%}.toast-top-left[_ngcontent-%COMP%]{top:12px;left:12px}.toast-top-right[_ngcontent-%COMP%]{top:12px;right:12px}.toast-bottom-right[_ngcontent-%COMP%]{right:12px;bottom:12px}.toast-bottom-left[_ngcontent-%COMP%]{bottom:12px;left:12px}.toast-title[_ngcontent-%COMP%]{font-weight:700}.toast-message[_ngcontent-%COMP%]{word-wrap:break-word}.toast-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .toast-message[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.toast-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc;text-decoration:none}.toast-close-button[_ngcontent-%COMP%]{position:relative;right:-.3em;top:-.3em;float:right;font-size:20px;font-weight:700;color:#fff;text-shadow:0 1px 0 #ffffff}.toast-close-button[_ngcontent-%COMP%]:hover, .toast-close-button[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.4}button.toast-close-button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:transparent;border:0}.toast-container[_ngcontent-%COMP%]{pointer-events:none;position:fixed;z-index:999999}.toast-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.toast-container[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin:0 0 6px;padding:15px 15px 15px 50px;width:300px;border-radius:3px;background-position:15px center;background-repeat:no-repeat;background-size:24px;box-shadow:0 0 12px #999;color:#fff}.toast-container[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #000;opacity:1;cursor:pointer}.toast-info[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTI1NiA4QzExOS4wNDMgOCA4IDExOS4wODMgOCAyNTZjMCAxMzYuOTk3IDExMS4wNDMgMjQ4IDI0OCAyNDhzMjQ4LTExMS4wMDMgMjQ4LTI0OEM1MDQgMTE5LjA4MyAzOTIuOTU3IDggMjU2IDh6bTAgMTEwYzIzLjE5NiAwIDQyIDE4LjgwNCA0MiA0MnMtMTguODA0IDQyLTQyIDQyLTQyLTE4LjgwNC00Mi00MiAxOC44MDQtNDIgNDItNDJ6bTU2IDI1NGMwIDYuNjI3LTUuMzczIDEyLTEyIDEyaC04OGMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtMjRjMC02LjYyNyA1LjM3My0xMiAxMi0xMmgxMnYtNjRoLTEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEydi0yNGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDY0YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MTAwaDEyYzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjR6Jy8+PC9zdmc+)}.toast-error[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTEyMS42IDMxMy4xYzQuNyA0LjcgNC43IDEyLjMgMCAxN0wzMzggMzc3LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwyNTYgMzEybC02NS4xIDY1LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwxMzQuNCAzMzhjLTQuNy00LjctNC43LTEyLjMgMC0xN2w2NS42LTY1LTY1LjYtNjUuMWMtNC43LTQuNy00LjctMTIuMyAwLTE3bDM5LjYtMzkuNmM0LjctNC43IDEyLjMtNC43IDE3IDBsNjUgNjUuNyA2NS4xLTY1LjZjNC43LTQuNyAxMi4zLTQuNyAxNyAwbDM5LjYgMzkuNmM0LjcgNC43IDQuNyAxMi4zIDAgMTdMMzEyIDI1Nmw2NS42IDY1LjF6Jy8+PC9zdmc+)}.toast-success[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyB3aWR0aD0nNTEyJyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTE3My44OTggNDM5LjQwNGwtMTY2LjQtMTY2LjRjLTkuOTk3LTkuOTk3LTkuOTk3LTI2LjIwNiAwLTM2LjIwNGwzNi4yMDMtMzYuMjA0YzkuOTk3LTkuOTk4IDI2LjIwNy05Ljk5OCAzNi4yMDQgMEwxOTIgMzEyLjY5IDQzMi4wOTUgNzIuNTk2YzkuOTk3LTkuOTk3IDI2LjIwNy05Ljk5NyAzNi4yMDQgMGwzNi4yMDMgMzYuMjA0YzkuOTk3IDkuOTk3IDkuOTk3IDI2LjIwNiAwIDM2LjIwNGwtMjk0LjQgMjk0LjQwMWMtOS45OTggOS45OTctMjYuMjA3IDkuOTk3LTM2LjIwNC0uMDAxeicvPjwvc3ZnPg==)}.toast-warning[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1NzYgNTEyJyB3aWR0aD0nNTc2JyBoZWlnaHQ9JzUxMic+PHBhdGggZmlsbD0ncmdiKDI1NSwyNTUsMjU1KScgZD0nTTU2OS41MTcgNDQwLjAxM0M1ODcuOTc1IDQ3Mi4wMDcgNTY0LjgwNiA1MTIgNTI3Ljk0IDUxMkg0OC4wNTRjLTM2LjkzNyAwLTU5Ljk5OS00MC4wNTUtNDEuNTc3LTcxLjk4N0wyNDYuNDIzIDIzLjk4NWMxOC40NjctMzIuMDA5IDY0LjcyLTMxLjk1MSA4My4xNTQgMGwyMzkuOTQgNDE2LjAyOHpNMjg4IDM1NGMtMjUuNDA1IDAtNDYgMjAuNTk1LTQ2IDQ2czIwLjU5NSA0NiA0NiA0NiA0Ni0yMC41OTUgNDYtNDYtMjAuNTk1LTQ2LTQ2LTQ2em0tNDMuNjczLTE2NS4zNDZsNy40MTggMTM2Yy4zNDcgNi4zNjQgNS42MDkgMTEuMzQ2IDExLjk4MiAxMS4zNDZoNDguNTQ2YzYuMzczIDAgMTEuNjM1LTQuOTgyIDExLjk4Mi0xMS4zNDZsNy40MTgtMTM2Yy4zNzUtNi44NzQtNS4wOTgtMTIuNjU0LTExLjk4Mi0xMi42NTRoLTYzLjM4M2MtNi44ODQgMC0xMi4zNTYgNS43OC0xMS45ODEgMTIuNjU0eicvPjwvc3ZnPg==)}.toast-container.toast-top-center[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%], .toast-container.toast-bottom-center[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{width:300px;margin-left:auto;margin-right:auto}.toast-container.toast-top-full-width[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%], .toast-container.toast-bottom-full-width[_ngcontent-%COMP%]   .ngx-toastr[_ngcontent-%COMP%]{width:96%;margin-left:auto;margin-right:auto}.ngx-toastr[_ngcontent-%COMP%]{background-color:#030303;pointer-events:auto}.toast-success[_ngcontent-%COMP%]{background-color:#51a351}.toast-error[_ngcontent-%COMP%]{background-color:#bd362f}.toast-info[_ngcontent-%COMP%]{background-color:#2f96b4}.toast-warning[_ngcontent-%COMP%]{background-color:#f89406}.toast-progress[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;height:4px;background-color:#000;opacity:.4}@media all and (max-width: 240px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:11em}.toast-container[_ngcontent-%COMP%]   .toast-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width: 241px) and (max-width: 480px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:8px 8px 8px 50px;width:18em}.toast-container[_ngcontent-%COMP%]   .toast-close-button[_ngcontent-%COMP%]{right:-.2em;top:-.2em}}@media all and (min-width: 481px) and (max-width: 768px){.toast-container[_ngcontent-%COMP%]   .ngx-toastr.div[_ngcontent-%COMP%]{padding:15px 15px 15px 50px;width:25em}}"],data:{animation:[W]}}),k})();var Ho=$(2011),Pi=$(1205),Do=$(7566);const xs_firebaseConfig={apiKey:"AIzaSyBhC3MHRAZC3j1MYvW1aPz4wwOcxGeGuRY",authDomain:"tpfinal-c50ae.firebaseapp.com",projectId:"tpfinal-c50ae",storageBucket:"tpfinal-c50ae.appspot.com",messagingSenderId:"950218147480",appId:"1:950218147480:web:05200a4214e0da3285f2ed"};let To=(()=>{class k{}return k.\u0275fac=function(_){return new(_||k)},k.\u0275mod=S.oAB({type:k,bootstrap:[jo]}),k.\u0275inj=S.cJS({providers:[ua],imports:[[y.b2,ji,ms.ef,ci.forRoot(),X.ez,dr.UX,M,dr.u5,Ho.hO.initializeApp(xs_firebaseConfig),Pi.ww,Do.yb]]}),k})();(0,S.G48)(),y.q6().bootstrapModule(To).catch(k=>console.error(k))},5867:(Nt,ze,$)=>{"use strict";$.d(ze,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=$(9681);(0,y.registerVersion)("firebase","9.6.11","app")},127:(Nt,ze,$)=>{"use strict";$.d(ze,{Z:()=>y.Z});var y=$(3942);y.Z.registerVersion("firebase","9.6.11","app-compat")},820:(Nt,ze,$)=>{"use strict";$.r(ze);var y=$(5861),S=$(3942),X=$(2090),ae=$(9681),ce=$(655),De=$(1877),Le=$(4859);const ot=function dt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ft=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),At=new De.Yd("@firebase/auth");function Et(w,...d){At.logLevel<=De.in.ERROR&&At.error(`Auth (${ae.SDK_VERSION}): ${w}`,...d)}function ie(w,...d){throw Ke(w,...d)}function se(w,...d){return Ke(w,...d)}function Be(w,d,m){const I=Object.assign(Object.assign({},ft()),{[d]:m});return new X.LL("auth","Firebase",I).create(d,{appName:w.name})}function qe(w,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&ie(w,"argument-error"),Be(w,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(w,...d){if("string"!=typeof w){const m=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(m,...I)}return We.create(w,...d)}function ne(w,d,...m){if(!w)throw Ke(d,...m)}function de(w){const d="INTERNAL ASSERTION FAILED: "+w;throw Et(d),new Error(d)}function oe(w,d){w||de(d)}const me=new Map;function ge(w){oe(w instanceof Function,"Expected a class definition");let d=me.get(w);return d?(oe(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,me.set(w,d),d)}function qt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ft(){return"http:"===nn()||"https:"===nn()}function nn(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Wt{constructor(d,m){this.shortDelay=d,this.longDelay=m,oe(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function Ct(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(w,d){oe(w.emulator,"Emulator should always be set here");const{url:m}=w.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class Rn{static initialize(d,m,I){this.fetchImpl=d,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mn=new Wt(3e4,6e4);function ln(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function wn(w,d,m,I){return In.apply(this,arguments)}function In(){return(In=(0,y.Z)(function*(w,d,m,I,G={}){return jn(w,G,(0,y.Z)(function*(){let te={},ke={};I&&("GET"===d?ke=I:te={body:JSON.stringify(I)});const it=(0,X.xO)(Object.assign({key:w.config.apiKey},ke)).slice(1),Ut=yield w._getAdditionalHeaders();return Ut["Content-Type"]="application/json",w.languageCode&&(Ut["X-Firebase-Locale"]=w.languageCode),Rn.fetch()(Tn(w,w.config.apiHost,m,it),Object.assign({method:d,headers:Ut,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function jn(w,d,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,y.Z)(function*(w,d,m){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},Ot),d);try{const G=new Ar(w),te=yield Promise.race([m(),G.promise]);G.clearNetworkTimeout();const ke=yield te.json();if("needConfirmation"in ke)throw Vn(w,"account-exists-with-different-credential",ke);if(te.ok&&!("errorMessage"in ke))return ke;{const it=te.ok?ke.errorMessage:ke.error.message,[Ut,pn]=it.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw Vn(w,"credential-already-in-use",ke);if("EMAIL_EXISTS"===Ut)throw Vn(w,"email-already-in-use",ke);const Nn=I[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw Be(w,Nn,pn);ie(w,Nn)}}catch(G){if(G instanceof X.ZR)throw G;ie(w,"network-request-failed")}})).apply(this,arguments)}function zn(w,d,m,I){return ar.apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(w,d,m,I,G={}){const te=yield wn(w,d,m,I,G);return"mfaPendingCredential"in te&&ie(w,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function Tn(w,d,m,I){const G=`${d}${m}?${I}`;return w.config.emulator?kt(w.config,G):`${w.config.apiScheme}://${G}`}class Ar{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(se(this.auth,"network-request-failed")),mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(w,d,m){const I={appName:w.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const G=se(w,d,I);return G.customData._tokenResponse=m,G}function Yt(){return(Yt=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function xn(w,d){return rn.apply(this,arguments)}function rn(){return(rn=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Sr(w,d){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function tr(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function lr(){return(lr=(0,y.Z)(function*(w,d=!1){const m=(0,X.m9)(w),I=yield m.getIdToken(d),G=Tt(I);ne(G&&G.exp&&G.auth_time&&G.iat,m.auth,"internal-error");const te="object"==typeof G.firebase?G.firebase:void 0,ke=null==te?void 0:te.sign_in_provider;return{claims:G,token:I,authTime:tr(Dt(G.auth_time)),issuedAtTime:tr(Dt(G.iat)),expirationTime:tr(Dt(G.exp)),signInProvider:ke||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function Dt(w){return 1e3*Number(w)}function Tt(w){const[d,m,I]=w.split(".");if(void 0===d||void 0===m||void 0===I)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,X.tV)(m);return G?JSON.parse(G):(Et("Failed to decode base64 JWT payload"),null)}catch(G){return Et("Caught error parsing JWT payload as JSON",G),null}}function ur(w,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,y.Z)(function*(w,d,m=!1){if(m)return d;try{return yield d}catch(I){throw I instanceof X.ZR&&yn(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}function yn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class ki{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const G=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,y.Z)(function*(){yield m.iteration()}),I)}iteration(){var d=this;return(0,y.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&d.schedule(!0))}d.schedule()})()}}class yr{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qn(w){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,y.Z)(function*(w){var d;const m=w.auth,I=yield w.getIdToken(),G=yield ur(w,Sr(m,{idToken:I}));ne(null==G?void 0:G.users.length,m,"internal-error");const te=G.users[0];w._notifyReloadListener(te);const ke=(null===(d=te.providerUserInfo)||void 0===d?void 0:d.length)?Ve(te.providerUserInfo):[],it=Lt(w.providerData,ke),Nn=!!w.isAnonymous&&!(w.email&&te.passwordHash||(null==it?void 0:it.length)),an={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:it,metadata:new yr(te.createdAt,te.lastLoginAt),isAnonymous:Nn};Object.assign(w,an)})).apply(this,arguments)}function Dn(){return(Dn=(0,y.Z)(function*(w){const d=(0,X.m9)(w);yield qn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Lt(w,d){return[...w.filter(I=>!d.some(G=>G.providerId===I.providerId)),...d]}function Ve(w){return w.map(d=>{var{providerId:m}=d,I=(0,ce._T)(d,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Xt(){return(Xt=(0,y.Z)(function*(w,d){const m=yield jn(w,{},(0,y.Z)(function*(){const I=(0,X.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:G,apiKey:te}=w.config,ke=Tn(w,G,"/v1/token",`key=${te}`),it=yield w._getAdditionalHeaders();return it["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(ke,{method:"POST",headers:it,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class En{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ne(d.idToken,"internal-error"),ne(void 0!==d.idToken,"internal-error"),ne(void 0!==d.refreshToken,"internal-error");const m="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Mt(w){const d=Tt(w);return ne(d,"internal-error"),ne(void 0!==d.exp,"internal-error"),ne(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}getToken(d,m=!1){var I=this;return(0,y.Z)(function*(){return ne(!I.accessToken||I.refreshToken,d,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var I=this;return(0,y.Z)(function*(){const{accessToken:G,refreshToken:te,expiresIn:ke}=yield function xt(w,d){return Xt.apply(this,arguments)}(d,m);I.updateTokensAndExpiration(G,te,Number(ke))})()}updateTokensAndExpiration(d,m,I){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,m){const{refreshToken:I,accessToken:G,expirationTime:te}=m,ke=new En;return I&&(ne("string"==typeof I,"internal-error",{appName:d}),ke.refreshToken=I),G&&(ne("string"==typeof G,"internal-error",{appName:d}),ke.accessToken=G),te&&(ne("number"==typeof te,"internal-error",{appName:d}),ke.expirationTime=te),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new En,this.toJSON())}_performRefresh(){return de("not implemented")}}function Ht(w,d){ne("string"==typeof w||void 0===w,"internal-error",{appName:d})}class we{constructor(d){var{uid:m,auth:I,stsTokenManager:G}=d,te=(0,ce._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new yr(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,y.Z)(function*(){const I=yield ur(m,m.stsTokenManager.getToken(m.auth,d));return ne(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(d){return function mr(w){return lr.apply(this,arguments)}(this,d)}reload(){return function vr(w){return Dn.apply(this,arguments)}(this)}_assign(d){this!==d&&(ne(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new we(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,m=!1){var I=this;return(0,y.Z)(function*(){let G=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),G=!0),m&&(yield qn(I)),yield I.auth._persistUserIfCurrent(I),G&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,y.Z)(function*(){const m=yield d.getIdToken();return yield ur(d,function St(w,d){return Yt.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var I,G,te,ke,it,Ut,pn,Nn;const an=null!==(I=m.displayName)&&void 0!==I?I:void 0,es=null!==(G=m.email)&&void 0!==G?G:void 0,Ko=null!==(te=m.phoneNumber)&&void 0!==te?te:void 0,Oo=null!==(ke=m.photoURL)&&void 0!==ke?ke:void 0,ju=null!==(it=m.tenantId)&&void 0!==it?it:void 0,tl=null!==(Ut=m._redirectEventId)&&void 0!==Ut?Ut:void 0,Ec=null!==(pn=m.createdAt)&&void 0!==pn?pn:void 0,Ff=null!==(Nn=m.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:nl,emailVerified:Cc,isAnonymous:dd,providerData:hd,stsTokenManager:Ic}=m;ne(nl&&Ic,d,"internal-error");const Lf=En.fromJSON(this.name,Ic);ne("string"==typeof nl,d,"internal-error"),Ht(an,d.name),Ht(es,d.name),ne("boolean"==typeof Cc,d,"internal-error"),ne("boolean"==typeof dd,d,"internal-error"),Ht(Ko,d.name),Ht(Oo,d.name),Ht(ju,d.name),Ht(tl,d.name),Ht(Ec,d.name),Ht(Ff,d.name);const fd=new we({uid:nl,auth:d,email:es,emailVerified:Cc,displayName:an,isAnonymous:dd,photoURL:Oo,phoneNumber:Ko,tenantId:ju,stsTokenManager:Lf,createdAt:Ec,lastLoginAt:Ff});return hd&&Array.isArray(hd)&&(fd.providerData=hd.map(Vf=>Object.assign({},Vf))),tl&&(fd._redirectEventId=tl),fd}static _fromIdTokenResponse(d,m,I=!1){return(0,y.Z)(function*(){const G=new En;G.updateFromServerResponse(m);const te=new we({uid:m.localId,auth:d,stsTokenManager:G,isAnonymous:I});return yield qn(te),te})()}}const Ce=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(m,I){var G=this;return(0,y.Z)(function*(){G.storage[m]=I})()}_get(m){var I=this;return(0,y.Z)(function*(){const G=I.storage[m];return void 0===G?null:G})()}_remove(m){var I=this;return(0,y.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return w.type="NONE",w})();function Ye(w,d,m){return`firebase:${w}:${d}:${m}`}class Fe{constructor(d,m,I){this.persistence=d,this.auth=m,this.userKey=I;const{config:G,name:te}=this.auth;this.fullUserKey=Ye(this.userKey,G.apiKey,te),this.fullPersistenceKey=Ye("persistence",G.apiKey,te),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,y.Z)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?we._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,y.Z)(function*(){if(m.persistence===d)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m,I="authUser"){return(0,y.Z)(function*(){if(!m.length)return new Fe(ge(Ce),d,I);const G=(yield Promise.all(m.map(function(){var pn=(0,y.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return pn.apply(this,arguments)}}()))).filter(pn=>pn);let te=G[0]||ge(Ce);const ke=Ye(I,d.config.apiKey,d.name);let it=null;for(const pn of m)try{const Nn=yield pn._get(ke);if(Nn){const an=we._fromJSON(d,Nn);pn!==te&&(it=an),te=pn;break}}catch(Nn){}const Ut=G.filter(pn=>pn._shouldAllowMigration);return te._shouldAllowMigration&&Ut.length?(te=Ut[0],it&&(yield te._set(ke,it.toJSON())),yield Promise.all(m.map(function(){var pn=(0,y.Z)(function*(Nn){if(Nn!==te)try{yield Nn._remove(ke)}catch(an){}});return function(Nn){return pn.apply(this,arguments)}}())),new Fe(te,d,I)):new Fe(te,d,I)})()}}function _t(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Se(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ee(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(mt(d))return"Blackberry";if(en(d))return"Webos";if(_e(d))return"Safari";if((d.includes("chrome/")||re(d))&&!d.includes("edge/"))return"Chrome";if(tt(d))return"Android";{const I=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Ee(w=(0,X.z$)()){return/firefox\//i.test(w)}function _e(w=(0,X.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function re(w=(0,X.z$)()){return/crios\//i.test(w)}function Se(w=(0,X.z$)()){return/iemobile/i.test(w)}function tt(w=(0,X.z$)()){return/android/i.test(w)}function mt(w=(0,X.z$)()){return/blackberry/i.test(w)}function en(w=(0,X.z$)()){return/webos/i.test(w)}function Hn(w=(0,X.z$)()){return/iphone|ipad|ipod/i.test(w)}function Xn(w=(0,X.z$)()){return Hn(w)||tt(w)||en(w)||mt(w)||/windows phone/i.test(w)||Se(w)}function ai(w,d=[]){let m;switch(w){case"Browser":m=_t((0,X.z$)());break;case"Worker":m=`${_t((0,X.z$)())}-${w}`;break;default:m=w}const I=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${I}`}class sn{constructor(d,m,I){this.app=d,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zt(this),this.idTokenSubscription=new Zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(d,m){var I=this;return m&&(this._popupRedirectResolver=ge(m)),this._initializationPromise=this.queue((0,y.Z)(function*(){var G,te;if(!I._deleted&&(I.persistenceManager=yield Fe.create(I,d),!I._deleted)){if(null===(G=I._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(ke){}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(te=I.currentUser)||void 0===te?void 0:te.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,y.Z)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m)}})()}initializeCurrentUser(d){var m=this;return(0,y.Z)(function*(){var I;let G=yield m.assertedPersistence.getCurrentUser();if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const te=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,ke=null==G?void 0:G._redirectEventId,it=yield m.tryRedirectSignIn(d);(!te||te===ke)&&(null==it?void 0:it.user)&&(G=it.user)}return G?G._redirectEventId?(ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===G._redirectEventId?m.directlySetCurrentUser(G):m.reloadAndSetCurrentUserOrClear(G)):m.reloadAndSetCurrentUserOrClear(G):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var m=this;return(0,y.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch(G){yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,y.Z)(function*(){try{yield qn(d)}catch(I){if("auth/network-request-failed"!==I.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ht(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,y.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,y.Z)(function*(){const I=d?(0,X.m9)(d):null;return I&&ne(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(d){var m=this;return(0,y.Z)(function*(){if(!m._deleted)return d&&ne(m.tenantId===d.tenantId,m,"tenant-id-mismatch"),m.queue((0,y.Z)(function*(){yield m.directlySetCurrentUser(d),m.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,y.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var m=this;return this.queue((0,y.Z)(function*(){yield m.assertedPersistence.setPersistence(ge(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new X.LL("auth","Firebase",d())}onAuthStateChanged(d,m,I){return this.registerStateListener(this.authStateSubscription,d,m,I)}onIdTokenChanged(d,m,I){return this.registerStateListener(this.idTokenSubscription,d,m,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var I=this;return(0,y.Z)(function*(){const G=yield I.getOrInitRedirectPersistenceManager(m);return null===d?G.removeCurrentUser():G.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,y.Z)(function*(){if(!m.redirectPersistenceManager){const I=d&&ge(d)||m._popupRedirectResolver;ne(I,m,"argument-error"),m.redirectPersistenceManager=yield Fe.create(m,[ge(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,y.Z)(function*(){var I,G;return m._isInitialized&&(yield m.queue((0,y.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===d?m._currentUser:(null===(G=m.redirectUser)||void 0===G?void 0:G._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,y.Z)(function*(){if(d===m.currentUser)return m.queue((0,y.Z)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,I,G){if(this._deleted)return()=>{};const te="function"==typeof m?m:m.next.bind(m),ke=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(ke,this,"internal-error"),ke.then(()=>te(this.currentUser)),"function"==typeof m?d.addObserver(m,I,G):d.addObserver(m)}directlySetCurrentUser(d){var m=this;return(0,y.Z)(function*(){m.currentUser&&m.currentUser!==d&&(m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh()),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,y.Z)(function*(){var m;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const G=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return G&&(I["X-Firebase-Client"]=G),I})()}}function pt(w){return(0,X.m9)(w)}class Zt{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,X.ne)(m=>this.observer=m)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function hr(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class kn{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return de("not implemented")}_getIdTokenResponse(d){return de("not implemented")}_linkToIdToken(d,m){return de("not implemented")}_getReauthenticationResolver(d){return de("not implemented")}}function Ir(w,d){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:resetPassword",ln(w,d))})).apply(this,arguments)}function bn(w,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function rs(w,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:update",ln(w,d))})).apply(this,arguments)}function Pr(){return(Pr=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithPassword",ln(w,d))})).apply(this,arguments)}function br(w,d){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:sendOobCode",ln(w,d))})).apply(this,arguments)}function Rr(w,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,y.Z)(function*(w,d){return br(w,d)})).apply(this,arguments)}function hs(w,d){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,y.Z)(function*(w,d){return br(w,d)})).apply(this,arguments)}function ti(w,d){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(w,d){return br(w,d)})).apply(this,arguments)}function fs(w,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(w,d){return br(w,d)})).apply(this,arguments)}function yi(){return(yi=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithEmailLink",ln(w,d))})).apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithEmailLink",ln(w,d))})).apply(this,arguments)}class Js extends kn{constructor(d,m,I,G=null){super("password",I),this._email=d,this._password=m,this._tenantId=G}static _fromEmailAndPassword(d,m){return new Js(d,m,"password")}static _fromEmailAndCode(d,m,I=null){return new Js(d,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,y.Z)(function*(){switch(m.signInMethod){case"password":return function Kr(w,d){return Pr.apply(this,arguments)}(d,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ps(w,d){return yi.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:ie(d,"internal-error")}})()}_linkToIdToken(d,m){var I=this;return(0,y.Z)(function*(){switch(I.signInMethod){case"password":return bn(d,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Zi(w,d){return Ki.apply(this,arguments)}(d,{idToken:m,email:I._email,oobCode:I._password});default:ie(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Qn(w,d){return Es.apply(this,arguments)}function Es(){return(Es=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithIdp",ln(w,d))})).apply(this,arguments)}class xe extends kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new xe(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:G}=m,te=(0,ce._T)(m,["providerId","signInMethod"]);if(!I||!G)return null;const ke=new xe(I,G);return ke.idToken=te.idToken||void 0,ke.accessToken=te.accessToken||void 0,ke.secret=te.secret,ke.nonce=te.nonce,ke.pendingToken=te.pendingToken||null,ke}_getIdTokenResponse(d){return Qn(d,this.buildRequest())}_linkToIdToken(d,m){const I=this.buildRequest();return I.idToken=m,Qn(d,I)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,Qn(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,X.xO)(m)}return d}}function Ie(w,d){return $e.apply(this,arguments)}function $e(){return($e=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:sendVerificationCode",ln(w,d))})).apply(this,arguments)}function wt(){return(wt=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ln(w,d))})).apply(this,arguments)}function er(){return(er=(0,y.Z)(function*(w,d){const m=yield zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ln(w,d));if(m.temporaryProof)throw Vn(w,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const nr={USER_NOT_FOUND:"user-not-found"};function Mi(){return(Mi=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithPhoneNumber",ln(w,Object.assign(Object.assign({},d),{operation:"REAUTH"})),nr)})).apply(this,arguments)}class is extends kn{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,m){return new is({verificationId:d,verificationCode:m})}static _fromTokenResponse(d,m){return new is({phoneNumber:d,temporaryProof:m})}_getIdTokenResponse(d){return function st(w,d){return wt.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,m){return function Qt(w,d){return er.apply(this,arguments)}(d,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Wn(w,d){return Mi.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:m,verificationId:I,verificationCode:G}=this.params;return d&&m?{temporaryProof:d,phoneNumber:m}:{sessionInfo:I,code:G}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:m,verificationCode:I,phoneNumber:G,temporaryProof:te}=d;return I||m||G||te?new is({verificationId:m,verificationCode:I,phoneNumber:G,temporaryProof:te}):null}}class vi{constructor(d){var m,I,G,te,ke,it;const Ut=(0,X.zd)((0,X.pd)(d)),pn=null!==(m=Ut.apiKey)&&void 0!==m?m:null,Nn=null!==(I=Ut.oobCode)&&void 0!==I?I:null,an=function Vi(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Ut.mode)&&void 0!==G?G:null);ne(pn&&Nn&&an,"argument-error"),this.apiKey=pn,this.operation=an,this.code=Nn,this.continueUrl=null!==(te=Ut.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(ke=Ut.languageCode)&&void 0!==ke?ke:null,this.tenantId=null!==(it=Ut.tenantId)&&void 0!==it?it:null}static parseLink(d){const m=function ss(w){const d=(0,X.zd)((0,X.pd)(w)).link,m=d?(0,X.zd)((0,X.pd)(d)).deep_link_id:null,I=(0,X.zd)((0,X.pd)(w)).deep_link_id;return(I?(0,X.zd)((0,X.pd)(I)).link:null)||I||m||d||w}(d);try{return new vi(m)}catch(I){return null}}}let Cs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(m,I){return Js._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const G=vi.parseLink(I);return ne(G,"argument-error"),Js._fromEmailAndCode(m,G.code,G.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class xi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ni extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Rs extends ni{static credentialFromJSON(d){const m="string"==typeof d?JSON.parse(d):d;return ne("providerId"in m&&"signInMethod"in m,"argument-error"),xe._fromParams(m)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ne(d.idToken||d.accessToken,"argument-error"),xe._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Rs.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Rs.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:G,pendingToken:te,nonce:ke,providerId:it}=d;if(!I&&!G&&!m&&!te||!it)return null;try{return new Rs(it)._credential({idToken:m,accessToken:I,nonce:ke,pendingToken:te})}catch(Ut){return null}}}let gs=(()=>{class w extends ni{constructor(){super("facebook.com")}static credential(m){return xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch(I){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Yi=(()=>{class w extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:G}=m;if(!I&&!G)return null;try{return w.credential(I,G)}catch(te){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Bs=(()=>{class w extends ni{constructor(){super("github.com")}static credential(m){return xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return w.credential(m.oauthAccessToken)}catch(I){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Is extends kn{constructor(d,m){super(d,d),this.pendingToken=m}_getIdTokenResponse(d){return Qn(d,this.buildRequest())}_linkToIdToken(d,m){const I=this.buildRequest();return I.idToken=m,Qn(d,I)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,Qn(d,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:I,signInMethod:G,pendingToken:te}=m;return I&&G&&te&&I===G?new Is(I,te):null}static _create(d,m){return new Is(d,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pi extends xi{constructor(d){ne(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return pi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return pi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const m=Is.fromJSON(d);return ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:m,providerId:I}=d;if(!m||!I)return null;try{return Is._create(I,m)}catch(G){return null}}}let Ds=(()=>{class w extends ni{constructor(){super("twitter.com")}static credential(m,I){return xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:G}=m;if(!I||!G)return null;try{return w.credential(I,G)}catch(te){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Us(w,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signUp",ln(w,d))})).apply(this,arguments)}class kr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,I,G=!1){return(0,y.Z)(function*(){const te=yield we._fromIdTokenResponse(d,I,G),ke=_i(I);return new kr({user:te,providerId:ke,_tokenResponse:I,operationType:m})})()}static _forOperation(d,m,I){return(0,y.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const G=_i(I);return new kr({user:d,providerId:G,_tokenResponse:I,operationType:m})})()}}function _i(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Yr(){return(Yr=(0,y.Z)(function*(w){var d;const m=pt(w);if(yield m._initializationPromise,null===(d=m.currentUser)||void 0===d?void 0:d.isAnonymous)return new kr({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Us(m,{returnSecureToken:!0}),G=yield kr._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class as extends X.ZR{constructor(d,m,I,G){var te;super(m.code,m.message),this.operationType=I,this.user=G,Object.setPrototypeOf(this,as.prototype),this.customData={appName:d.name,tenantId:null!==(te=d.tenantId)&&void 0!==te?te:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,m,I,G){return new as(d,m,I,G)}}function wi(w,d,m,I){return("reauthenticate"===d?m._getReauthenticationResolver(w):m._getIdTokenResponse(w)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?as._fromErrorAndOperation(w,te,d,I):te})}function zr(w){return new Set(w.map(({providerId:d})=>d).filter(d=>!!d))}function eo(){return(eo=(0,y.Z)(function*(w,d){const m=(0,X.m9)(w);yield Z(!0,m,d);const{providerUserInfo:I}=yield xn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[d]}),G=zr(I||[]);return m.providerData=m.providerData.filter(te=>G.has(te.providerId)),G.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function rr(w,d){return V.apply(this,arguments)}function V(){return(V=(0,y.Z)(function*(w,d,m=!1){const I=yield ur(w,d._linkToIdToken(w.auth,yield w.getIdToken()),m);return kr._forOperation(w,"link",I)})).apply(this,arguments)}function Z(w,d,m){return L.apply(this,arguments)}function L(){return(L=(0,y.Z)(function*(w,d,m){yield qn(d);const G=!1===w?"provider-already-linked":"no-such-provider";ne(zr(d.providerData).has(m)===w,d.auth,G)})).apply(this,arguments)}function ee(w,d){return be.apply(this,arguments)}function be(){return(be=(0,y.Z)(function*(w,d,m=!1){const{auth:I}=w,G="reauthenticate";try{const te=yield ur(w,wi(I,G,d,w),m);ne(te.idToken,I,"internal-error");const ke=Tt(te.idToken);ne(ke,I,"internal-error");const{sub:it}=ke;return ne(w.uid===it,I,"user-mismatch"),kr._forOperation(w,G,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&ie(I,"user-mismatch"),te}})).apply(this,arguments)}function Je(w,d){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,y.Z)(function*(w,d,m=!1){const I="signIn",G=yield wi(w,I,d),te=yield kr._fromIdTokenResponse(w,I,G);return m||(yield w._updateCurrentUser(te.user)),te})).apply(this,arguments)}function bt(w,d){return $n.apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(w,d){return Je(pt(w),d)})).apply(this,arguments)}function Zn(w,d){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.Z)(function*(w,d){const m=(0,X.m9)(w);return yield Z(!1,m,d.providerId),rr(m,d)})).apply(this,arguments)}function An(w,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,y.Z)(function*(w,d){return ee((0,X.m9)(w),d)})).apply(this,arguments)}function ir(w,d){return sr.apply(this,arguments)}function sr(){return(sr=(0,y.Z)(function*(w,d){return zn(w,"POST","/v1/accounts:signInWithCustomToken",ln(w,d))})).apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(w,d){const m=pt(w),I=yield ir(m,{token:d,returnSecureToken:!0}),G=yield kr._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class cn{constructor(d,m){this.factorId=d,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(d,m){return"phoneInfo"in m?Ui._fromServerResponse(d,m):ie(d,"internal-error")}}class Ui extends cn{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,m){return new Ui(m)}}function bi(w,d,m){var I;ne((null===(I=m.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),d.continueUrl=m.url,d.dynamicLinkDomain=m.dynamicLinkDomain,d.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ne(m.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),d.iOSBundleId=m.iOS.bundleId),m.android&&(ne(m.android.packageName.length>0,w,"missing-android-pkg-name"),d.androidInstallApp=m.android.installApp,d.androidMinimumVersionCode=m.android.minimumVersion,d.androidPackageName=m.android.packageName)}function Ts(){return(Ts=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w),G={requestType:"PASSWORD_RESET",email:d};m&&bi(I,G,m),yield hs(I,G)})).apply(this,arguments)}function F(){return(F=(0,y.Z)(function*(w,d,m){yield Ir((0,X.m9)(w),{oobCode:d,newPassword:m})})).apply(this,arguments)}function H(){return(H=(0,y.Z)(function*(w,d){yield rs((0,X.m9)(w),{oobCode:d})})).apply(this,arguments)}function He(w,d){return $t.apply(this,arguments)}function $t(){return($t=(0,y.Z)(function*(w,d){const m=(0,X.m9)(w),I=yield Ir(m,{oobCode:d}),G=I.requestType;switch(ne(G,m,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(I.mfaInfo,m,"internal-error");default:ne(I.email,m,"internal-error")}let te=null;return I.mfaInfo&&(te=cn._fromServerResponse(pt(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:te},operation:G}})).apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(w,d){const{data:m}=yield He((0,X.m9)(w),d);return m.email})).apply(this,arguments)}function Qr(){return(Qr=(0,y.Z)(function*(w,d,m){const I=pt(w),G=yield Us(I,{returnSecureToken:!0,email:d,password:m}),te=yield kr._fromIdTokenResponse(I,"signIn",G);return yield I._updateCurrentUser(te.user),te})).apply(this,arguments)}function po(){return(po=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w),G={requestType:"EMAIL_SIGNIN",email:d};ne(m.handleCodeInApp,I,"argument-error"),m&&bi(I,G,m),yield ti(I,G)})).apply(this,arguments)}function no(){return(no=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w),G=Cs.credentialWithLink(d,m||qt());return ne(G._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),bt(I,G)})).apply(this,arguments)}function Ei(w,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:createAuthUri",ln(w,d))})).apply(this,arguments)}function ms(){return(ms=(0,y.Z)(function*(w,d){const I={identifier:d,continueUri:Ft()?qt():"http://localhost"},{signinMethods:G}=yield Ei((0,X.m9)(w),I);return G||[]})).apply(this,arguments)}function ro(){return(ro=(0,y.Z)(function*(w,d){const m=(0,X.m9)(w),G={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};d&&bi(m.auth,G,d);const{email:te}=yield Rr(m.auth,G);te!==w.email&&(yield w.reload())})).apply(this,arguments)}function mo(){return(mo=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:d};m&&bi(I.auth,te,m);const{email:ke}=yield fs(I.auth,te);ke!==w.email&&(yield w.reload())})).apply(this,arguments)}function Jr(w,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,y.Z)(function*(w,d){return wn(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function vo(){return(vo=(0,y.Z)(function*(w,{displayName:d,photoURL:m}){if(void 0===d&&void 0===m)return;const I=(0,X.m9)(w),te={idToken:yield I.getIdToken(),displayName:d,photoUrl:m,returnSecureToken:!0},ke=yield ur(I,Jr(I.auth,te));I.displayName=ke.displayName||null,I.photoURL=ke.photoUrl||null;const it=I.providerData.find(({providerId:Ut})=>"password"===Ut);it&&(it.displayName=I.displayName,it.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ke)})).apply(this,arguments)}function ho(w,d,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(w,d,m){const{auth:I}=w,te={idToken:yield w.getIdToken(),returnSecureToken:!0};d&&(te.email=d),m&&(te.password=m);const ke=yield ur(w,bn(I,te));yield w._updateTokensIfNecessary(ke,!0)})).apply(this,arguments)}class $s{constructor(d,m,I={}){this.isNewUser=d,this.providerId=m,this.profile=I}}class Yo extends $s{constructor(d,m,I,G){super(d,m,I),this.username=G}}class Fs extends $s{constructor(d,m){super(d,"facebook.com",m)}}class io extends Yo{constructor(d,m){super(d,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ra extends $s{constructor(d,m){super(d,"google.com",m)}}class Bo extends Yo{constructor(d,m,I){super(d,"twitter.com",m,I)}}function si(w){const{user:d,_tokenResponse:m}=w;return d.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function wo(w){var d,m;if(!w)return null;const{providerId:I}=w,G=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},te=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&(null==w?void 0:w.idToken)){const ke=null===(m=null===(d=Tt(w.idToken))||void 0===d?void 0:d.firebase)||void 0===m?void 0:m.sign_in_provider;if(ke)return new $s(te,"anonymous"!==ke&&"custom"!==ke?ke:null)}if(!I)return null;switch(I){case"facebook.com":return new Fs(te,G);case"github.com":return new io(te,G);case"google.com":return new Ra(te,G);case"twitter.com":return new Bo(te,G,w.screenName||null);case"custom":case"anonymous":return new $s(te,null);default:return new $s(te,I,G)}}(m)}class ls{constructor(d,m){this.type=d,this.credential=m}static _fromIdtoken(d){return new ls("enroll",d)}static _fromMfaPendingCredential(d){return new ls("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var m,I;if(null==d?void 0:d.multiFactorSession){if(null===(m=d.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ls._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(I=d.multiFactorSession)||void 0===I?void 0:I.idToken)return ls._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Ss{constructor(d,m,I){this.session=d,this.hints=m,this.signInResolver=I}static _fromError(d,m){const I=pt(d),G=m.customData._serverResponse,te=(G.mfaInfo||[]).map(it=>cn._fromServerResponse(I,it));ne(G.mfaPendingCredential,I,"internal-error");const ke=ls._fromMfaPendingCredential(G.mfaPendingCredential);return new Ss(ke,te,function(){var it=(0,y.Z)(function*(Ut){const pn=yield Ut._process(I,ke);delete G.mfaInfo,delete G.mfaPendingCredential;const Nn=Object.assign(Object.assign({},G),{idToken:pn.idToken,refreshToken:pn.refreshToken});switch(m.operationType){case"signIn":const an=yield kr._fromIdTokenResponse(I,m.operationType,Nn);return yield I._updateCurrentUser(an.user),an;case"reauthenticate":return ne(m.user,I,"internal-error"),kr._forOperation(m.user,m.operationType,Nn);default:ie(I,"internal-error")}});return function(Ut){return it.apply(this,arguments)}}())}resolveSignIn(d){var m=this;return(0,y.Z)(function*(){return m.signInResolver(d)})()}}function Xr(w,d){return wn(w,"POST","/v2/accounts/mfaEnrollment:start",ln(w,d))}class us{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>cn._fromServerResponse(d.auth,I)))})}static _fromUser(d){return new us(d)}getSession(){var d=this;return(0,y.Z)(function*(){return ls._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,m){var I=this;return(0,y.Z)(function*(){const G=d,te=yield I.getSession(),ke=yield ur(I.user,G._process(I.user.auth,te,m));return yield I.user._updateTokensIfNecessary(ke),I.user.reload()})()}unenroll(d){var m=this;return(0,y.Z)(function*(){const I="string"==typeof d?d:d.uid,G=yield m.user.getIdToken(),te=yield ur(m.user,function Fa(w,d){return wn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(w,d))}(m.user.auth,{idToken:G,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ke})=>ke!==I),yield m.user._updateTokensIfNecessary(te);try{yield m.user.reload()}catch(ke){if("auth/user-token-expired"!==ke.code)throw ke}})()}}const zs=new WeakMap,di="__sak";class so{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(di,"1"),this.storage.removeItem(di),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const dr=(()=>{class w extends so{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qo(){const w=(0,X.z$)();return _e(w)||Hn(w)}()&&function wr(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=Xn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const G=this.storage.getItem(I),te=this.localCache[I];G!==te&&m(I,te,G)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((it,Ut,pn)=>{this.notifyListeners(it,pn)});const G=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(G);if(m.newValue!==it)null!==m.newValue?this.storage.setItem(G,m.newValue):this.storage.removeItem(G);else if(this.localCache[G]===m.newValue&&!I)return}const te=()=>{const it=this.storage.getItem(G);!I&&this.localCache[G]===it||this.notifyListeners(G,it)},ke=this.storage.getItem(G);!function oi(){return(0,X.w1)()&&10===document.documentMode}()||ke===m.newValue||m.newValue===m.oldValue?te():setTimeout(te,10)}notifyListeners(m,I){this.localCache[m]=I;const G=this.listeners[m];if(G)for(const te of Array.from(G))te(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var G=()=>super._set,te=this;return(0,y.Z)(function*(){yield G().call(te,m,I),te.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,G=this;return(0,y.Z)(function*(){const te=yield I().call(G,m);return G.localCache[m]=JSON.stringify(te),te})()}_remove(m){var I=()=>super._remove,G=this;return(0,y.Z)(function*(){yield I().call(G,m),delete G.localCache[m]})()}}return w.type="LOCAL",w})(),Ms=(()=>{class w extends so{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return w.type="SESSION",w})();let M=(()=>{class w{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(te=>te.isListeningto(m));if(I)return I;const G=new w(m);return this.receivers.push(G),G}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,y.Z)(function*(){const G=m,{eventId:te,eventType:ke,data:it}=G.data,Ut=I.handlersMap[ke];if(!(null==Ut?void 0:Ut.size))return;G.ports[0].postMessage({status:"ack",eventId:te,eventType:ke});const pn=Array.from(Ut).map(function(){var an=(0,y.Z)(function*(es){return es(G.origin,it)});return function(es){return an.apply(this,arguments)}}()),Nn=yield function A(w){return Promise.all(w.map(function(){var d=(0,y.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return d.apply(this,arguments)}}()))}(pn);G.ports[0].postMessage({status:"done",eventId:te,eventType:ke,response:Nn})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function W(w="",d=10){let m="";for(let I=0;I<d;I++)m+=Math.floor(10*Math.random());return w+m}class ve{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m,I=50){var G=this;return(0,y.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let ke,it;return new Promise((Ut,pn)=>{const Nn=W("",20);te.port1.start();const an=setTimeout(()=>{pn(new Error("unsupported_event"))},I);it={messageChannel:te,onMessage(es){const Ko=es;if(Ko.data.eventId===Nn)switch(Ko.data.status){case"ack":clearTimeout(an),ke=setTimeout(()=>{pn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ke),Ut(Ko.data.response);break;default:clearTimeout(an),clearTimeout(ke),pn(new Error("invalid_response"))}}},G.handlers.add(it),te.port1.addEventListener("message",it.onMessage),G.target.postMessage({eventType:d,eventId:Nn,data:m},[te.port2])}).finally(()=>{it&&G.removeMessageHandler(it)})})()}}function rt(){return window}function fr(){return void 0!==rt().WorkerGlobalScope&&"function"==typeof rt().importScripts}function Fr(){return(Fr=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Pi="firebaseLocalStorageDb",xs="firebaseLocalStorage",To="fbase_key";class k{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function v(w,d){return w.transaction([xs],d?"readwrite":"readonly").objectStore(xs)}function c(){const w=indexedDB.open(Pi,1);return new Promise((d,m)=>{w.addEventListener("error",()=>{m(w.error)}),w.addEventListener("upgradeneeded",()=>{const I=w.result;try{I.createObjectStore(xs,{keyPath:To})}catch(G){m(G)}}),w.addEventListener("success",(0,y.Z)(function*(){const I=w.result;I.objectStoreNames.contains(xs)?d(I):(I.close(),yield function _(){const w=indexedDB.deleteDatabase(Pi);return new k(w).toPromise()}(),d(yield c()))}))})}function p(w,d,m){return f.apply(this,arguments)}function f(){return(f=(0,y.Z)(function*(w,d,m){const I=v(w,!0).put({[To]:d,value:m});return new k(I).toPromise()})).apply(this,arguments)}function T(){return(T=(0,y.Z)(function*(w,d){const m=v(w,!1).get(d),I=yield new k(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function P(w,d){const m=v(w,!0).delete(d);return new k(m).toPromise()}const lt=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,y.Z)(function*(){return m.db||(m.db=yield c()),m.db})()}_withRetries(m){var I=this;return(0,y.Z)(function*(){let G=0;for(;;)try{const te=yield I._openDb();return yield m(te)}catch(te){if(G++>3)throw te;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,y.Z)(function*(){return fr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,y.Z)(function*(){m.receiver=M._getInstance(function Ho(){return fr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,y.Z)(function*(G,te){return{keyProcessed:(yield m._poll()).includes(te.key)}});return function(G,te){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,y.Z)(function*(G,te){return["keyChanged"]});return function(G,te){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,y.Z)(function*(){var I,G;if(m.activeServiceWorker=yield function $i(){return Fr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ve(m.activeServiceWorker);const te=yield m.sender._send("ping",{},800);!te||(null===(I=te[0])||void 0===I?void 0:I.fulfilled)&&(null===(G=te[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,y.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function jo(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const m=yield c();return yield p(m,di,"1"),yield P(m,di),!0}catch(m){}return!1})()}_withPendingWrite(m){var I=this;return(0,y.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var G=this;return(0,y.Z)(function*(){return G._withPendingWrite((0,y.Z)(function*(){return yield G._withRetries(te=>p(te,m,I)),G.localCache[m]=I,G.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,y.Z)(function*(){const G=yield I._withRetries(te=>function C(w,d){return T.apply(this,arguments)}(te,m));return I.localCache[m]=G,G})()}_remove(m){var I=this;return(0,y.Z)(function*(){return I._withPendingWrite((0,y.Z)(function*(){return yield I._withRetries(G=>P(G,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,y.Z)(function*(){const I=yield m._withRetries(ke=>{const it=v(ke,!1).getAll();return new k(it).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const G=[],te=new Set;for(const{fbase_key:ke,value:it}of I)te.add(ke),JSON.stringify(m.localCache[ke])!==JSON.stringify(it)&&(m.notifyListeners(ke,it),G.push(ke));for(const ke of Object.keys(m.localCache))m.localCache[ke]&&!te.has(ke)&&(m.notifyListeners(ke,null),G.push(ke));return G})()}notifyListeners(m,I){this.localCache[m]=I;const G=this.listeners[m];if(G)for(const te of Array.from(G))te(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Vt(w,d){return wn(w,"POST","/v2/accounts/mfaSignIn:start",ln(w,d))}function tn(){return(tn=(0,y.Z)(function*(w){return(yield wn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tr(w){return new Promise((d,m)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=d,I.onerror=G=>{const te=se("internal-error");te.customData=G,m(te)},I.type="text/javascript",I.charset="UTF-8",function Mr(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(I)})}function Ci(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Ii=1e12;class Os{constructor(d){this.auth=d,this.counter=Ii,this._widgets=new Map}render(d,m){const I=this.counter;return this._widgets.set(I,new Sn(d,this.auth.name,m||{})),this.counter++,I}reset(d){var m;const I=d||Ii;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(d){var m;return(null===(m=this._widgets.get(d||Ii))||void 0===m?void 0:m.getResponse())||""}execute(d){var m=this;return(0,y.Z)(function*(){var I;return null===(I=m._widgets.get(d||Ii))||void 0===I||I.execute(),""})()}}class Sn{constructor(d,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof d?document.getElementById(d):d;ne(G,"argument-error",{appName:m}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ji(w){const d=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<w;I++)d.push(m.charAt(Math.floor(Math.random()*m.length)));return d.join("")}(50);const{callback:d,"expired-callback":m}=this.params;if(d)try{d(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const oo=Ci("rcb"),Ni=new Wt(3e4,6e4);class da{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rt().grecaptcha}load(d,m=""){return ne(function Da(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(m),d,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(rt().grecaptcha):new Promise((I,G)=>{const te=rt().setTimeout(()=>{G(se(d,"network-request-failed"))},Ni.get());rt()[oo]=()=>{rt().clearTimeout(te),delete rt()[oo];const it=rt().grecaptcha;if(!it)return void G(se(d,"internal-error"));const Ut=it.render;it.render=(pn,Nn)=>{const an=Ut(pn,Nn);return this.counter++,an},this.hostLanguage=m,I(it)},Tr(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:oo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(te),G(se(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!rt().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rl{load(d){return(0,y.Z)(function*(){return new Os(d)})()}clearedOneInstance(){}}const on="recaptcha",Pt={theme:"light",type:"image"};class Fn{constructor(d,m=Object.assign({},Pt),I){this.parameters=m,this.type=on,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pt(I),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof d?document.getElementById(d):d;ne(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rl:new da,this.validateStartingState()}verify(){var d=this;return(0,y.Z)(function*(){d.assertNotDestroyed();const m=yield d.render(),I=d.getAssertedRecaptcha();return I.getResponse(m)||new Promise(te=>{const ke=it=>{!it||(d.tokenChangeListeners.delete(ke),te(it))};d.tokenChangeListeners.add(ke),d.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof d)d(m);else if("string"==typeof d){const I=rt()[d];"function"==typeof I&&I(m)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,y.Z)(function*(){if(yield d.init(),!d.widgetId){let m=d.container;if(!d.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}d.widgetId=d.getAssertedRecaptcha().render(m,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,y.Z)(function*(){ne(Ft()&&!fr(),d.auth,"internal-error"),yield function On(){let w=null;return new Promise(d=>{"complete"!==document.readyState?(w=()=>d(),window.addEventListener("load",w)):d()}).catch(d=>{throw w&&window.removeEventListener("load",w),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const m=yield function jt(w){return tn.apply(this,arguments)}(d.auth);ne(m,d.auth,"internal-error"),d.parameters.sitekey=m})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jr{constructor(d,m){this.verificationId=d,this.onConfirmation=m}confirm(d){const m=is._fromVerification(this.verificationId,d);return this.onConfirmation(m)}}function Mn(){return(Mn=(0,y.Z)(function*(w,d,m){const I=pt(w),G=yield xr(I,d,(0,X.m9)(m));return new jr(G,te=>bt(I,te))})).apply(this,arguments)}function pr(){return(pr=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w);yield Z(!1,I,"phone");const G=yield xr(I.auth,d,(0,X.m9)(m));return new jr(G,te=>Zn(I,te))})).apply(this,arguments)}function Go(){return(Go=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w),G=yield xr(I.auth,d,(0,X.m9)(m));return new jr(G,te=>An(I,te))})).apply(this,arguments)}function xr(w,d,m){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(w,d,m){var I;const G=yield m.verify();try{let te;if(ne("string"==typeof G,w,"argument-error"),ne(m.type===on,w,"argument-error"),te="string"==typeof d?{phoneNumber:d}:d,"session"in te){const ke=te.session;if("phoneNumber"in te)return ne("enroll"===ke.type,w,"internal-error"),(yield Xr(w,{idToken:ke.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{ne("signin"===ke.type,w,"internal-error");const it=(null===(I=te.multiFactorHint)||void 0===I?void 0:I.uid)||te.multiFactorUid;return ne(it,w,"missing-multi-factor-info"),(yield Vt(w,{mfaPendingCredential:ke.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ke}=yield Ie(w,{phoneNumber:te.phoneNumber,recaptchaToken:G});return ke}}finally{m._reset()}})).apply(this,arguments)}function qs(){return(qs=(0,y.Z)(function*(w,d){yield rr((0,X.m9)(w),d)})).apply(this,arguments)}let Ri=(()=>{class w{constructor(m){this.providerId=w.PROVIDER_ID,this.auth=pt(m)}verifyPhoneNumber(m,I){return xr(this.auth,m,(0,X.m9)(I))}static credential(m,I){return is._fromVerification(m,I)}static credentialFromResult(m){return w.credentialFromTaggedObject(m)}static credentialFromError(m){return w.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:G}=m;return I&&G?is._fromTokenResponse(I,G):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ws(w,d){return d?ge(d):(ne(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ha extends kn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Qn(d,this._buildIdpRequest())}_linkToIdToken(d,m){return Qn(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return Qn(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function kl(w){return Je(w.auth,new ha(w),w.bypassAuthState)}function Bt(w){const{auth:d,user:m}=w;return ne(m,d,"internal-error"),ee(m,new ha(w),w.bypassAuthState)}function _u(w){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,y.Z)(function*(w){const{auth:d,user:m}=w;return ne(m,d,"internal-error"),rr(m,new ha(w),w.bypassAuthState)})).apply(this,arguments)}class ys{constructor(d,m,I,G,te=!1){this.auth=d,this.resolver=I,this.user=G,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,y.Z)(function*(I,G){d.pendingPromise={resolve:I,reject:G};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(te){d.reject(te)}});return function(I,G){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,y.Z)(function*(){const{urlResponse:I,sessionId:G,postBody:te,tenantId:ke,error:it,type:Ut}=d;if(it)return void m.reject(it);const pn={auth:m.auth,requestUri:I,sessionId:G,tenantId:ke||void 0,postBody:te||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ut)(pn))}catch(Nn){m.reject(Nn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return kl;case"linkViaPopup":case"linkViaRedirect":return _u;case"reauthViaPopup":case"reauthViaRedirect":return Bt;default:ie(this.auth,"internal-error")}}resolve(d){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zo=new Wt(2e3,1e4);function fa(){return(fa=(0,y.Z)(function*(w,d,m){const I=pt(w);qe(w,d,xi);const G=Ws(I,m);return new qo(I,"signInViaPopup",d,G).executeNotNull()})).apply(this,arguments)}function pa(){return(pa=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w);qe(I.auth,d,xi);const G=Ws(I.auth,m);return new qo(I.auth,"reauthViaPopup",d,G,I).executeNotNull()})).apply(this,arguments)}function ga(){return(ga=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w);qe(I.auth,d,xi);const G=Ws(I.auth,m);return new qo(I.auth,"linkViaPopup",d,G,I).executeNotNull()})).apply(this,arguments)}let qo=(()=>{class w extends ys{constructor(m,I,G,te,ke){super(m,I,te,ke),this.provider=G,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var m=this;return(0,y.Z)(function*(){const I=yield m.execute();return ne(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,y.Z)(function*(){oe(1===m.filter.length,"Popup operations only handle one event");const I=W();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(G=>{m.reject(G)}),m.resolver._isIframeWebStorageSupported(m.auth,G=>{G||m.reject(se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,G;this.pollId=(null===(G=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,zo.get())};m()}}return w.currentPopupAction=null,w})();const So=new Map;class bu extends ys{constructor(d,m,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,y.Z)(function*(){let I=So.get(m.auth._key());if(!I){try{const te=(yield function Ya(w,d){return La.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;I=()=>Promise.resolve(te)}catch(G){I=()=>Promise.reject(G)}So.set(m.auth._key(),I)}return m.bypassAuthState||So.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,I=this;return(0,y.Z)(function*(){if("signInViaRedirect"===d.type)return m().call(I,d);if("unknown"!==d.type){if(d.eventId){const G=yield I.auth._redirectUserForId(d.eventId);if(G)return I.user=G,m().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function La(){return(La=(0,y.Z)(function*(w,d){const m=j(d),I=R(w);if(!(yield I._isAvailable()))return!1;const G="true"===(yield I._get(m));return yield I._remove(m),G})).apply(this,arguments)}function Aa(w,d){return hl.apply(this,arguments)}function hl(){return(hl=(0,y.Z)(function*(w,d){return R(w)._set(j(d),"true")})).apply(this,arguments)}function R(w){return ge(w._redirectPersistence)}function j(w){return Ye("pendingRedirect",w.config.apiKey,w.name)}function Re(){return(Re=(0,y.Z)(function*(w,d,m){const I=pt(w);qe(w,d,xi);const G=Ws(I,m);return yield Aa(G,I),G._openRedirect(I,d,"signInViaRedirect")})).apply(this,arguments)}function Jt(){return(Jt=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w);qe(I.auth,d,xi);const G=Ws(I.auth,m);yield Aa(G,I.auth);const te=yield fl(I);return G._openRedirect(I.auth,d,"reauthViaRedirect",te)})).apply(this,arguments)}function Er(){return(Er=(0,y.Z)(function*(w,d,m){const I=(0,X.m9)(w);qe(I.auth,d,xi);const G=Ws(I.auth,m);yield Z(!1,I,d.providerId),yield Aa(G,I.auth);const te=yield fl(I);return G._openRedirect(I.auth,d,"linkViaRedirect",te)})).apply(this,arguments)}function hi(){return(hi=(0,y.Z)(function*(w,d){return yield pt(w)._initializationPromise,cs(w,d,!1)})).apply(this,arguments)}function cs(w,d){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,y.Z)(function*(w,d,m=!1){const I=pt(w),G=Ws(I,d),ke=yield new bu(I,G,m).execute();return ke&&!m&&(delete ke.user._redirectEventId,yield I._persistUserIfCurrent(ke.user),yield I._setRedirectUser(null,d)),ke})).apply(this,arguments)}function fl(w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(w){const d=W(`${w.uid}:::`);return w._redirectEventId=d,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),d})).apply(this,arguments)}class Mo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(m=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function ed(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cu(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var I;if(d.error&&!Cu(d)){const G=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(se(this.auth,G))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const I=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ea(d))}saveEventToCache(d){this.cachedEventUids.add(ea(d)),this.lastProcessedEventTime=Date.now()}}function ea(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function Cu({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Iu(w){return ds.apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(w,d={}){return wn(w,"GET","/v1/projects",d)})).apply(this,arguments)}const Kd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sf=/^https?/;function Va(){return(Va=(0,y.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield Iu(w);for(const m of d)try{if(Du(m))return}catch(I){}ie(w,"unauthorized-domain")})).apply(this,arguments)}function Du(w){const d=qt(),{protocol:m,hostname:I}=new URL(d);if(w.startsWith("chrome-extension://")){const ke=new URL(w);return""===ke.hostname&&""===I?"chrome-extension:"===m&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&ke.hostname===I}if(!Sf.test(m))return!1;if(Kd.test(w))return I===w;const G=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(I)}const xf=new Wt(3e4,6e4);function Of(){const w=rt().___jsl;if(null==w?void 0:w.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let m=0;m<w.CP.length;m++)w.CP[m]=null}let ma=null;function Tu(w){return ma=ma||function Yd(w){return new Promise((d,m)=>{var I,G,te;function ke(){Of(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Of(),m(se(w,"network-request-failed"))},timeout:xf.get()})}if(null===(G=null===(I=rt().gapi)||void 0===I?void 0:I.iframes)||void 0===G?void 0:G.Iframe)d(gapi.iframes.getContext());else{if(!(null===(te=rt().gapi)||void 0===te?void 0:te.load)){const it=Ci("iframefcb");return rt()[it]=()=>{gapi.load?ke():m(se(w,"network-request-failed"))},Tr(`https://apis.google.com/js/api.js?onload=${it}`).catch(Ut=>m(Ut))}ke()}}).catch(d=>{throw ma=null,d})}(w),ma}const Pf=new Wt(5e3,15e3),ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ya(w){const d=w.config;ne(d.authDomain,w,"auth-domain-config-required");const m=d.emulator?kt(d,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,I={apiKey:d.apiKey,appName:w.name,v:ae.SDK_VERSION},G=lc.get(w.config.apiHost);G&&(I.eid=G);const te=w._getFrameworks();return te.length&&(I.fw=te.join(",")),`${m}?${(0,X.xO)(I).slice(1)}`}function Ll(){return Ll=(0,y.Z)(function*(w){const d=yield Tu(w),m=rt().gapi;return ne(m,w,"internal-error"),d.open({where:document.body,url:ya(w),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ta,dontclear:!0},I=>new Promise(function(){var G=(0,y.Z)(function*(te,ke){yield I.restyle({setHideOnLeave:!1});const it=se(w,"network-request-failed"),Ut=rt().setTimeout(()=>{ke(it)},Pf.get());function pn(){rt().clearTimeout(Ut),te(I)}I.ping(pn).then(pn,()=>{ke(it)})});return function(te,ke){return G.apply(this,arguments)}}()))}),Ll.apply(this,arguments)}const Xd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cc{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function dc(w,d,m,I,G,te){ne(w.config.authDomain,w,"auth-domain-config-required"),ne(w.config.apiKey,w,"invalid-api-key");const ke={apiKey:w.config.apiKey,appName:w.name,authType:m,redirectUrl:I,v:ae.SDK_VERSION,eventId:G};if(d instanceof xi){d.setDefaultLanguage(w.languageCode),ke.providerId=d.providerId||"",(0,X.xb)(d.getCustomParameters())||(ke.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ut,pn]of Object.entries(te||{}))ke[Ut]=pn}if(d instanceof ni){const Ut=d.getScopes().filter(pn=>""!==pn);Ut.length>0&&(ke.scopes=Ut.join(","))}w.tenantId&&(ke.tid=w.tenantId);const it=ke;for(const Ut of Object.keys(it))void 0===it[Ut]&&delete it[Ut];return`${function th({config:w}){return w.emulator?kt(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,X.xO)(it).slice(1)}`}const _a="webStorageSupport";class Bl extends class nh{constructor(d){this.factorId=d}_process(d,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(d,m.credential,I);case"signin":return this._finalizeSignIn(d,m.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Bl(d)}_finalizeEnroll(d,m,I){return function ci(w,d){return wn(w,"POST","/v2/accounts/mfaEnrollment:finalize",ln(w,d))}(d,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,m){return function ct(w,d){return wn(w,"POST","/v2/accounts/mfaSignIn:finalize",ln(w,d))}(d,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nf=(()=>{class w{constructor(){}static assertion(m){return Bl._fromCredential(m)}}return w.FACTOR_ID="phone",w})();var rh="@firebase/auth",rd="0.19.12";class ml{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,y.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(I=>{var G;d((null===(G=I)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);!m||(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ja(){return window}function Xa(){return(Xa=(0,y.Z)(function*(w,d,m){var I;const{BuildInfo:G}=Ja();oe(d.sessionId,"AuthEvent did not contain a session ID");const te=yield Og(d.sessionId),ke={};return Hn()?ke.ibi=G.packageName:tt()?ke.apn=G.packageName:ie(w,"operation-not-supported-in-this-environment"),G.displayName&&(ke.appDisplayName=G.displayName),ke.sessionId=te,dc(w,m,d.type,void 0,null!==(I=d.eventId)&&void 0!==I?I:void 0,ke)})).apply(this,arguments)}function na(){return(na=(0,y.Z)(function*(w){const{BuildInfo:d}=Ja(),m={};Hn()?m.iosBundleId=d.packageName:tt()?m.androidPackageName=d.packageName:ie(w,"operation-not-supported-in-this-environment"),yield Iu(w,m)})).apply(this,arguments)}function vl(){return(vl=(0,y.Z)(function*(w,d,m){const{cordova:I}=Ja();let G=()=>{};try{yield new Promise((te,ke)=>{let it=null;function Ut(){var an;te();const es=null===(an=I.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof es&&es(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function pn(){it||(it=window.setTimeout(()=>{ke(se(w,"redirect-cancelled-by-user"))},2e3))}function Nn(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}d.addPassiveListener(Ut),document.addEventListener("resume",pn,!1),tt()&&document.addEventListener("visibilitychange",Nn,!1),G=()=>{d.removePassiveListener(Ut),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Nn,!1),it&&window.clearTimeout(it)}})}finally{G()}})).apply(this,arguments)}function Og(w){return fc.apply(this,arguments)}function fc(){return(fc=(0,y.Z)(function*(w){const d=Pg(w),m=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(m)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pg(w){if(oe(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const d=new ArrayBuffer(w.length),m=new Uint8Array(d);for(let I=0;I<w.length;I++)m[I]=w.charCodeAt(I);return m}!function ih(w){(0,ae._registerComponent)(new Le.wA("auth",(d,{options:m})=>{const I=d.getProvider("app").getImmediate(),G=d.getProvider("heartbeat"),{apiKey:te,authDomain:ke}=I.options;return((it,Ut)=>{ne(te&&!te.includes(":"),"invalid-api-key",{appName:it.name}),ne(!(null==ke?void 0:ke.includes(":")),"argument-error",{appName:it.name});const pn={apiKey:te,authDomain:ke,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ai(w)},Nn=new sn(it,Ut,pn);return function je(w,d){const m=(null==d?void 0:d.persistence)||[],I=(Array.isArray(m)?m:[m]).map(ge);(null==d?void 0:d.errorMap)&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(I,null==d?void 0:d.popupRedirectResolver)}(Nn,m),Nn})(I,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,I)=>{d.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Le.wA("auth-internal",d=>{const m=pt(d.getProvider("auth").getImmediate());return new ml(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(rh,rd,function yl(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,ae.registerVersion)(rh,rd,"esm2017")}("Browser");class gc extends Mo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(d)),super.onEvent(d)}initialized(){var d=this;return(0,y.Z)(function*(){yield d.initPromise})()}}function oh(w){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,y.Z)(function*(w){const d=yield Nu()._get(id(w));return d&&(yield Nu()._remove(id(w))),d})).apply(this,arguments)}function Pu(){const w=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const I=Math.floor(Math.random()*d.length);w.push(d.charAt(I))}return w.join("")}function Nu(){return ge(dr)}function id(w){return Ye("authEvent",w.config.apiKey,w.name)}function $l(w){if(!(null==w?void 0:w.includes("?")))return{};const[d,...m]=w.split("?");return(0,X.zd)(m.join("?"))}function Gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:se("no-auth-event")}}function yc(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function lh(w=(0,X.z$)()){return!("file:"!==yc()&&"ionic:"!==yc()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const w=self.localStorage,d=W();if(w)return w.setItem(d,"1"),w.removeItem(d),!function Ru(w=(0,X.z$)()){return function vc(){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ng(w=(0,X.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,X.hl)()}catch(w){return ku()&&(0,X.hl)()}return!1}function ku(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wl(){return(function ra(){return"http:"===yc()||"https:"===yc()}()||(0,X.ru)()||lh())&&!function od(){return(0,X.b$)()||(0,X.UG)()}()&&Kn()&&!ku()}function bl(){return lh()&&"undefined"!=typeof document}function Sa(){return(Sa=(0,y.Z)(function*(){return!!bl()&&new Promise(w=>{const d=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),w(!0)})})})).apply(this,arguments)}const xo={LOCAL:"local",NONE:"none",SESSION:"session"},ql=ne,ad="persistence";function Fu(w){return ld.apply(this,arguments)}function ld(){return(ld=(0,y.Z)(function*(w){yield w._initializationPromise;const d=dh(),m=Ye(ad,w.config.apiKey,w.name);d&&d.setItem(m,w._getPersistence())})).apply(this,arguments)}function dh(){var w;try{return(null===(w=function _c(){return"undefined"!=typeof window?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch(d){return null}}const Lu=ne;class wa{constructor(){this.browserResolver=ge(class gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=cs}_openPopup(d,m,I,G){var te=this;return(0,y.Z)(function*(){var ke;oe(null===(ke=te.eventManagers[d._key()])||void 0===ke?void 0:ke.manager,"_initialize() not called before _openPopup()");const it=dc(d,m,I,qt(),G);return function va(w,d,m,I=500,G=600){const te=Math.max((window.screen.availHeight-G)/2,0).toString(),ke=Math.max((window.screen.availWidth-I)/2,0).toString();let it="";const Ut=Object.assign(Object.assign({},Xd),{width:I.toString(),height:G.toString(),top:te,left:ke}),pn=(0,X.z$)().toLowerCase();m&&(it=re(pn)?"_blank":m),Ee(pn)&&(d=d||"http://localhost",Ut.scrollbars="yes");const Nn=Object.entries(Ut).reduce((es,[Ko,Oo])=>`${es}${Ko}=${Oo},`,"");if(function Fi(w=(0,X.z$)()){var d;return Hn(w)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(pn)&&"_self"!==it)return function eh(w,d){const m=document.createElement("a");m.href=w,m.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(d||"",it),new cc(null);const an=window.open(d||"",it,Nn);ne(an,w,"popup-blocked");try{an.focus()}catch(es){}return new cc(an)}(d,it,W())})()}_openRedirect(d,m,I,G){var te=this;return(0,y.Z)(function*(){return yield te._originValidation(d),function hn(w){rt().location.href=w}(dc(d,m,I,qt(),G)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:G,promise:te}=this.eventManagers[m];return G?Promise.resolve(G):(oe(te,"If manager is not set, promise should be"),te)}const I=this.initAndGetManager(d);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(d){var m=this;return(0,y.Z)(function*(){const I=yield function uc(w){return Ll.apply(this,arguments)}(d),G=new Mo(d);return I.register("authEvent",te=>(ne(null==te?void 0:te.authEvent,d,"invalid-auth-event"),{status:G.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:G},m.iframes[d._key()]=I,G})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(_a,{type:_a},G=>{var te;const ke=null===(te=null==G?void 0:G[0])||void 0===te?void 0:te[_a];void 0!==ke&&m(!!ke),ie(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Mf(w){return Va.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return Xn()||_e()||Hn()}}),this.cordovaResolver=ge(class el{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cs}_initialize(d){var m=this;return(0,y.Z)(function*(){const I=d._key();let G=m.eventManagers.get(I);return G||(G=new gc(d),m.eventManagers.set(I,G),m.attachCallbackListeners(d,G)),G})()}_openPopup(d){ie(d,"operation-not-supported-in-this-environment")}_openRedirect(d,m,I,G){var te=this;return(0,y.Z)(function*(){!function xu(w){var d,m,I,G,te,ke,it,Ut,pn,Nn;const an=Ja();ne("function"==typeof(null===(d=null==an?void 0:an.universalLinks)||void 0===d?void 0:d.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(m=null==an?void 0:an.BuildInfo)||void 0===m?void 0:m.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(te=null===(G=null===(I=null==an?void 0:an.cordova)||void 0===I?void 0:I.plugins)||void 0===G?void 0:G.browsertab)||void 0===te?void 0:te.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ut=null===(it=null===(ke=null==an?void 0:an.cordova)||void 0===ke?void 0:ke.plugins)||void 0===it?void 0:it.browsertab)||void 0===Ut?void 0:Ut.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Nn=null===(pn=null==an?void 0:an.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Nn?void 0:Nn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const ke=yield te._initialize(d);yield ke.initialized(),ke.resetRedirect(),function Eu(){So.clear()}(),yield te._originValidation(d);const it=function _l(w,d,m=null){return{type:d,eventId:m,urlResponse:null,sessionId:Pu(),postBody:null,tenantId:w.tenantId,error:se(w,"no-auth-event")}}(d,I,G);yield function Hl(w,d){return Nu()._set(id(w),d)}(d,it);const Ut=yield function sh(w,d,m){return Xa.apply(this,arguments)}(d,it,m),pn=yield function Mu(w){const{cordova:d}=Ja();return new Promise(m=>{d.plugins.browsertab.isAvailable(I=>{let G=null;I?d.plugins.browsertab.openUrl(w):G=d.InAppBrowser.open(w,function _r(w=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),m(G)})})}(Ut);return function vs(w,d,m){return vl.apply(this,arguments)}(d,ke,pn)})()}_isIframeWebStorageSupported(d,m){throw new Error("Method not implemented.")}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function jl(w){return na.apply(this,arguments)}(d)),this.originValidationPromises[m]}attachCallbackListeners(d,m){const{universalLinks:I,handleOpenURL:G,BuildInfo:te}=Ja(),ke=setTimeout((0,y.Z)(function*(){yield oh(d),m.onEvent(Gl())}),500),it=function(){var Nn=(0,y.Z)(function*(an){clearTimeout(ke);const es=yield oh(d);let Ko=null;es&&(null==an?void 0:an.url)&&(Ko=function ah(w,d){var m,I;const G=function Cr(w){const d=$l(w),m=d.link?decodeURIComponent(d.link):void 0,I=$l(m).link,G=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return $l(G).link||G||I||m||w}(d);if(G.includes("/__/auth/callback")){const te=$l(G),ke=te.firebaseError?function _s(w){try{return JSON.parse(w)}catch(d){return null}}(decodeURIComponent(te.firebaseError)):null,it=null===(I=null===(m=null==ke?void 0:ke.code)||void 0===m?void 0:m.split("auth/"))||void 0===I?void 0:I[1],Ut=it?se(it):null;return Ut?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:G,postBody:null}}return null}(es,an.url)),m.onEvent(Ko||Gl())});return function(es){return Nn.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,it);const Ut=G,pn=`${te.packageName.toLowerCase()}://`;Ja().handleOpenURL=function(){var Nn=(0,y.Z)(function*(an){if(an.toLowerCase().startsWith(pn)&&it({url:an}),"function"==typeof Ut)try{Ut(an)}catch(es){console.error(es)}});return function(an){return Nn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=cs}_initialize(d){var m=this;return(0,y.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,m,I,G){var te=this;return(0,y.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openPopup(d,m,I,G)})()}_openRedirect(d,m,I,G){var te=this;return(0,y.Z)(function*(){return yield te.selectUnderlyingResolver(),te.assertedUnderlyingResolver._openRedirect(d,m,I,G)})()}_isIframeWebStorageSupported(d,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,m)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return bl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,y.Z)(function*(){if(d.underlyingResolver)return;const m=yield function Ps(){return Sa.apply(this,arguments)}();d.underlyingResolver=m?d.cordovaResolver:d.browserResolver})()}}function hh(w){return w.unwrap()}function Vu(w){return Wl(w)}function Wl(w){const{_tokenResponse:d}=w instanceof X.ZR?w.customData:w;if(!d)return null;if(!(w instanceof X.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return Ri.credentialFromResult(w);const m=d.providerId;if(!m||"password"===m)return null;let I;switch(m){case"google.com":I=Yi;break;case"facebook.com":I=gs;break;case"github.com":I=Bs;break;case"twitter.com":I=Ds;break;default:const{oauthIdToken:G,oauthAccessToken:te,oauthTokenSecret:ke,pendingToken:it,nonce:Ut}=d;return te||ke||G||it?it?m.startsWith("saml.")?Is._create(m,it):xe._fromParams({providerId:m,signInMethod:m,pendingToken:it,idToken:G,accessToken:te}):new Rs(m).credential({idToken:G,accessToken:te,rawNonce:Ut}):null}return w instanceof X.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function Ti(w,d){return d.catch(m=>{throw m instanceof X.ZR&&function fh(w,d){var m;const I=null===(m=d.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Uu(w,function Co(w,d){var m;const I=(0,X.m9)(w),G=d;return ne(d.customData.operationType,I,"argument-error"),ne(null===(m=G.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Ss._fromError(I,G)}(w,d));else if(I){const G=Wl(d),te=d;G&&(te.credential=G,te.tenantId=I.tenantId||void 0,te.email=I.email||void 0,te.phoneNumber=I.phoneNumber||void 0)}}(w,m),m}).then(m=>{const G=m.user;return{operationType:m.operationType,credential:Vu(m),additionalUserInfo:si(m),user:Ma.getOrCreate(G)}})}function Bu(w,d){return wc.apply(this,arguments)}function wc(){return(wc=(0,y.Z)(function*(w,d){const m=yield d;return{verificationId:m.verificationId,confirm:I=>Ti(w,m.confirm(I))}})).apply(this,arguments)}class Uu{constructor(d,m){this.resolver=m,this.auth=function Ks(w){return w.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Ti(hh(this.auth),this.resolver.resolveSignIn(d))}}class Ma{constructor(d){this._delegate=d,this.multiFactor=function co(w){const d=(0,X.m9)(w);return zs.has(d)||zs.set(d,us._fromUser(d)),zs.get(d)}(d)}static getOrCreate(d){return Ma.USER_MAP.has(d)||Ma.USER_MAP.set(d,new Ma(d)),Ma.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var m=this;return(0,y.Z)(function*(){return Ti(m.auth,Zn(m._delegate,d))})()}linkWithPhoneNumber(d,m){var I=this;return(0,y.Z)(function*(){return Bu(I.auth,function Ao(w,d,m){return pr.apply(this,arguments)}(I._delegate,d,m))})()}linkWithPopup(d){var m=this;return(0,y.Z)(function*(){return Ti(m.auth,function wu(w,d,m){return ga.apply(this,arguments)}(m._delegate,d,wa))})()}linkWithRedirect(d){var m=this;return(0,y.Z)(function*(){return yield Fu(pt(m.auth)),function fn(w,d,m){return function Pn(w,d,m){return Er.apply(this,arguments)}(w,d,m)}(m._delegate,d,wa)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var m=this;return(0,y.Z)(function*(){return Ti(m.auth,An(m._delegate,d))})()}reauthenticateWithPhoneNumber(d,m){return Bu(this.auth,function Di(w,d,m){return Go.apply(this,arguments)}(this._delegate,d,m))}reauthenticateWithPopup(d){return Ti(this.auth,function Ta(w,d,m){return pa.apply(this,arguments)}(this._delegate,d,wa))}reauthenticateWithRedirect(d){var m=this;return(0,y.Z)(function*(){return yield Fu(pt(m.auth)),function Ze(w,d,m){return function It(w,d,m){return Jt.apply(this,arguments)}(w,d,m)}(m._delegate,d,wa)})()}sendEmailVerification(d){return function Oi(w,d){return ro.apply(this,arguments)}(this._delegate,d)}unlink(d){var m=this;return(0,y.Z)(function*(){return yield function Bi(w,d){return eo.apply(this,arguments)}(m._delegate,d),m})()}updateEmail(d){return function Ea(w,d){return ho((0,X.m9)(w),d,null)}(this._delegate,d)}updatePassword(d){return function _o(w,d){return ho((0,X.m9)(w),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function ao(w,d){return qs.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Vo(w,d){return vo.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,m){return function Hi(w,d,m){return mo.apply(this,arguments)}(this._delegate,d,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ma.USER_MAP=new WeakMap;const Zl=ne;let bc=(()=>{class w{constructor(m,I){if(this.app=m,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=m.options;Zl(G,"invalid-api-key",{appName:m.name}),Zl(G,"invalid-api-key",{appName:m.name});const te="undefined"!=typeof window?wa:void 0;this._delegate=I.initialize({options:{persistence:Rf(G,m.name),popupRedirectResolver:te}}),this._delegate._updateErrorMap(ot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ma.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,I){!function gn(w,d,m){const I=pt(w);ne(I._canInitEmulator,I,"emulator-config-failed"),ne(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const G=!!(null==m?void 0:m.disableWarnings),te=gr(d),{host:ke,port:it}=function Li(w){const d=gr(w),m=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(I);if(G){const te=G[1];return{host:te,port:hr(I.substr(te.length+1))}}{const[te,ke]=I.split(":");return{host:te,port:hr(ke)}}}(d);I.config.emulator={url:`${te}//${ke}${null===it?"":`:${it}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ke,port:it,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function li(){function w(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,m,I)}applyActionCode(m){return function N(w,d){return H.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return He(this._delegate,m)}confirmPasswordReset(m,I){return function B(w,d,m){return F.apply(this,arguments)}(this._delegate,m,I)}createUserWithEmailAndPassword(m,I){var G=this;return(0,y.Z)(function*(){return Ti(G._delegate,function ii(w,d,m){return Qr.apply(this,arguments)}(G._delegate,m,I))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function go(w,d){return ms.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function la(w,d){const m=vi.parseLink(d);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,y.Z)(function*(){Zl(wl(),m._delegate,"operation-not-supported-in-this-environment");const I=yield function Gn(w,d){return hi.apply(this,arguments)}(m._delegate,wa);return I?Ti(m._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function lo(w,d){pt(w)._logFramework(d)}(this._delegate,m)}onAuthStateChanged(m,I,G){const{next:te,error:ke,complete:it}=ph(m,I,G);return this._delegate.onAuthStateChanged(te,ke,it)}onIdTokenChanged(m,I,G){const{next:te,error:ke,complete:it}=ph(m,I,G);return this._delegate.onIdTokenChanged(te,ke,it)}sendSignInLinkToEmail(m,I){return function As(w,d,m){return po.apply(this,arguments)}(this._delegate,m,I)}sendPasswordResetEmail(m,I){return function js(w,d,m){return Ts.apply(this,arguments)}(this._delegate,m,I||void 0)}setPersistence(m){var I=this;return(0,y.Z)(function*(){let G;switch(function uh(w,d){ql(Object.values(xo).includes(d),w,"invalid-persistence-type"),(0,X.b$)()?ql(d!==xo.SESSION,w,"unsupported-persistence-type"):(0,X.UG)()?ql(d===xo.NONE,w,"unsupported-persistence-type"):ku()?ql(d===xo.NONE||d===xo.LOCAL&&(0,X.hl)(),w,"unsupported-persistence-type"):ql(d===xo.NONE||Kn(),w,"unsupported-persistence-type")}(I._delegate,m),m){case xo.SESSION:G=Ms;break;case xo.LOCAL:G=(yield ge(lt)._isAvailable())?lt:dr;break;case xo.NONE:G=Ce;break;default:return ie("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ti(this._delegate,function ks(w){return Yr.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ti(this._delegate,bt(this._delegate,m))}signInWithCustomToken(m){return Ti(this._delegate,function Qi(w,d){return gi.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,I){return Ti(this._delegate,function to(w,d,m){return bt((0,X.m9)(w),Cs.credential(d,m))}(this._delegate,m,I))}signInWithEmailLink(m,I){return Ti(this._delegate,function Lo(w,d,m){return no.apply(this,arguments)}(this._delegate,m,I))}signInWithPhoneNumber(m,I){return Bu(this._delegate,function $o(w,d,m){return Mn.apply(this,arguments)}(this._delegate,m,I))}signInWithPopup(m){var I=this;return(0,y.Z)(function*(){return Zl(wl(),I._delegate,"operation-not-supported-in-this-environment"),Ti(I._delegate,function Xo(w,d,m){return fa.apply(this,arguments)}(I._delegate,m,wa))})()}signInWithRedirect(m){var I=this;return(0,y.Z)(function*(){return Zl(wl(),I._delegate,"operation-not-supported-in-this-environment"),yield Fu(I._delegate),function J(w,d,m){return function ye(w,d,m){return Re.apply(this,arguments)}(w,d,m)}(I._delegate,m,wa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vn(w,d){return ri.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=xo,w})();function ph(w,d,m){let I=w;"function"!=typeof w&&({next:I,error:d,complete:m}=w);const G=I;return{next:ke=>G(ke&&Ma.getOrCreate(ke)),error:d,complete:m}}function Rf(w,d){const m=function ch(w,d){const m=dh();if(!m)return[];const I=Ye(ad,w,d);switch(m.getItem(I)){case xo.NONE:return[Ce];case xo.LOCAL:return[lt,Ms];case xo.SESSION:return[Ms];default:return[]}}(w,d);if("undefined"!=typeof self&&!m.includes(lt)&&m.push(lt),"undefined"!=typeof window)for(const I of[dr,Ms])m.includes(I)||m.push(I);return m.includes(Ce)||m.push(Ce),m}class El{constructor(){this.providerId="phone",this._delegate=new Ri(hh(S.Z.auth()))}static credential(d,m){return Ri.credential(d,m)}verifyPhoneNumber(d,m){return this._delegate.verifyPhoneNumber(d,m)}unwrap(){return this._delegate}}El.PHONE_SIGN_IN_METHOD=Ri.PHONE_SIGN_IN_METHOD,El.PROVIDER_ID=Ri.PROVIDER_ID;const ud=ne;class kf{constructor(d,m,I=S.Z.app()){var G;ud(null===(G=I.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Fn(d,m,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cd(w){w.INTERNAL.registerComponent(new Le.wA("auth-compat",d=>{const m=d.getProvider("app-compat").getImmediate(),I=d.getProvider("auth");return new bc(m,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cs,FacebookAuthProvider:gs,GithubAuthProvider:Bs,GoogleAuthProvider:Yi,OAuthProvider:Rs,SAMLAuthProvider:pi,PhoneAuthProvider:El,PhoneMultiFactorGenerator:Nf,RecaptchaVerifier:kf,TwitterAuthProvider:Ds,Auth:bc,AuthCredential:kn,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.12")}(S.Z)},1135:(Nt,ze,$)=>{"use strict";$.d(ze,{X:()=>S});var y=$(7579);class S extends y.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ce=super._subscribe(ae);return!ce.closed&&ae.next(this._value),ce}getValue(){const{hasError:ae,thrownError:ce,_value:De}=this;if(ae)throw ce;return this._throwIfClosed(),De}next(ae){super.next(this._value=ae)}}},8306:(Nt,ze,$)=>{"use strict";$.d(ze,{y:()=>he});var y=$(930),S=$(727),X=$(8822),ae=$(4671);var Le=$(2416),Pe=$(576),Ne=$(2806);let he=(()=>{class Qe{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const We=new Qe;return We.source=this,We.operator=ft,We}subscribe(ft,We,nt){const At=function dt(Qe){return Qe&&Qe instanceof y.Lv||function Oe(Qe){return Qe&&(0,Pe.m)(Qe.next)&&(0,Pe.m)(Qe.error)&&(0,Pe.m)(Qe.complete)}(Qe)&&(0,S.Nn)(Qe)}(ft)?ft:new y.Hp(ft,We,nt);return(0,Ne.x)(()=>{const{operator:Et,source:ie}=this;At.add(Et?Et.call(At,ie):ie?this._subscribe(At):this._trySubscribe(At))}),At}_trySubscribe(ft){try{return this._subscribe(ft)}catch(We){ft.error(We)}}forEach(ft,We){return new(We=pe(We))((nt,At)=>{const Et=new y.Hp({next:ie=>{try{ft(ie)}catch(se){At(se),Et.unsubscribe()}},error:At,complete:nt});this.subscribe(Et)})}_subscribe(ft){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ft)}[X.L](){return this}pipe(...ft){return function De(Qe){return 0===Qe.length?ae.y:1===Qe.length?Qe[0]:function(ft){return Qe.reduce((We,nt)=>nt(We),ft)}}(ft)(this)}toPromise(ft){return new(ft=pe(ft))((We,nt)=>{let At;this.subscribe(Et=>At=Et,Et=>nt(Et),()=>We(At))})}}return Qe.create=ot=>new Qe(ot),Qe})();function pe(Qe){var ot;return null!==(ot=null!=Qe?Qe:Le.v.Promise)&&void 0!==ot?ot:Promise}},7579:(Nt,ze,$)=>{"use strict";$.d(ze,{x:()=>Le});var y=$(8306),S=$(727);const ae=(0,$(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=$(8737),De=$(2806);let Le=(()=>{class Ne extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Oe=new Pe(this,this);return Oe.operator=pe,Oe}_throwIfClosed(){if(this.closed)throw new ae}next(pe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(pe)}})}error(pe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(pe)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Oe,isStopped:dt,observers:Qe}=this;return Oe||dt?S.Lc:(this.currentObservers=null,Qe.push(pe),new S.w0(()=>{this.currentObservers=null,(0,ce.P)(Qe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Oe,thrownError:dt,isStopped:Qe}=this;Oe?pe.error(dt):Qe&&pe.complete()}asObservable(){const pe=new y.y;return pe.source=this,pe}}return Ne.create=(he,pe)=>new Pe(he,pe),Ne})();class Pe extends Le{constructor(he,pe){super(),this.destination=he,this.source=pe}next(he){var pe,Oe;null===(Oe=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Oe||Oe.call(pe,he)}error(he){var pe,Oe;null===(Oe=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Oe||Oe.call(pe,he)}complete(){var he,pe;null===(pe=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===pe||pe.call(he)}_subscribe(he){var pe,Oe;return null!==(Oe=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(he))&&void 0!==Oe?Oe:S.Lc}}},930:(Nt,ze,$)=>{"use strict";$.d(ze,{Hp:()=>ft,Lv:()=>Oe});var y=$(576),S=$(727),X=$(2416),ae=$(7849),ce=$(5032);const De=Ne("C",void 0,void 0);function Ne(ie,se,Be){return{kind:ie,value:se,error:Be}}var he=$(3410),pe=$(2806);class Oe extends S.w0{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,S.Nn)(se)&&se.add(this)):this.destination=Et}static create(se,Be,qe){return new ft(se,Be,qe)}next(se){this.isStopped?At(function Pe(ie){return Ne("N",ie,void 0)}(se),this):this._next(se)}error(se){this.isStopped?At(function Le(ie){return Ne("E",void 0,ie)}(se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?At(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function Qe(ie,se){return dt.call(ie,se)}class ot{constructor(se){this.partialObserver=se}next(se){const{partialObserver:Be}=this;if(Be.next)try{Be.next(se)}catch(qe){We(qe)}}error(se){const{partialObserver:Be}=this;if(Be.error)try{Be.error(se)}catch(qe){We(qe)}else We(se)}complete(){const{partialObserver:se}=this;if(se.complete)try{se.complete()}catch(Be){We(Be)}}}class ft extends Oe{constructor(se,Be,qe){let Ke;if(super(),(0,y.m)(se)||!se)Ke={next:null!=se?se:void 0,error:null!=Be?Be:void 0,complete:null!=qe?qe:void 0};else{let ne;this&&X.v.useDeprecatedNextContext?(ne=Object.create(se),ne.unsubscribe=()=>this.unsubscribe(),Ke={next:se.next&&Qe(se.next,ne),error:se.error&&Qe(se.error,ne),complete:se.complete&&Qe(se.complete,ne)}):Ke=se}this.destination=new ot(Ke)}}function We(ie){X.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(ie):(0,ae.h)(ie)}function At(ie,se){const{onStoppedNotification:Be}=X.v;Be&&he.z.setTimeout(()=>Be(ie,se))}const Et={closed:!0,next:ce.Z,error:function nt(ie){throw ie},complete:ce.Z}},727:(Nt,ze,$)=>{"use strict";$.d(ze,{Lc:()=>De,w0:()=>ce,Nn:()=>Le});var y=$(576);const X=(0,$(3888).d)(Ne=>function(pe){Ne(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Oe,dt)=>`${dt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var ae=$(8737);class ce{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Qe of pe)Qe.remove(this);else pe.remove(this);const{initialTeardown:Oe}=this;if((0,y.m)(Oe))try{Oe()}catch(Qe){he=Qe instanceof X?Qe.errors:[Qe]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const Qe of dt)try{Pe(Qe)}catch(ot){he=null!=he?he:[],ot instanceof X?he=[...he,...ot.errors]:he.push(ot)}}if(he)throw new X(he)}}add(he){var pe;if(he&&he!==this)if(this.closed)Pe(he);else{if(he instanceof ce){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(he)}}_hasParent(he){const{_parentage:pe}=this;return pe===he||Array.isArray(pe)&&pe.includes(he)}_addParent(he){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(he),pe):pe?[pe,he]:he}_removeParent(he){const{_parentage:pe}=this;pe===he?this._parentage=null:Array.isArray(pe)&&(0,ae.P)(pe,he)}remove(he){const{_finalizers:pe}=this;pe&&(0,ae.P)(pe,he),he instanceof ce&&he._removeParent(this)}}ce.EMPTY=(()=>{const Ne=new ce;return Ne.closed=!0,Ne})();const De=ce.EMPTY;function Le(Ne){return Ne instanceof ce||Ne&&"closed"in Ne&&(0,y.m)(Ne.remove)&&(0,y.m)(Ne.add)&&(0,y.m)(Ne.unsubscribe)}function Pe(Ne){(0,y.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Nt,ze,$)=>{"use strict";$.d(ze,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Nt,ze,$)=>{"use strict";$.d(ze,{z:()=>ce});var y=$(8189),X=$(7669),ae=$(8996);function ce(...De){return function S(){return(0,y.J)(1)}()((0,ae.D)(De,(0,X.yG)(De)))}},515:(Nt,ze,$)=>{"use strict";$.d(ze,{E:()=>S});const S=new($(8306).y)(ce=>ce.complete())},8996:(Nt,ze,$)=>{"use strict";$.d(ze,{D:()=>se});var y=$(8421),S=$(5363),X=$(9468),De=$(8306),Pe=$(2202),Ne=$(576),he=$(9672);function Oe(Be,qe){if(!Be)throw new Error("Iterable cannot be null");return new De.y(Ke=>{(0,he.f)(Ke,qe,()=>{const ne=Be[Symbol.asyncIterator]();(0,he.f)(Ke,qe,()=>{ne.next().then(de=>{de.done?Ke.complete():Ke.next(de.value)})},0,!0)})})}var dt=$(3670),Qe=$(8239),ot=$(1144),ft=$(6495),We=$(2206),nt=$(4532),At=$(3260);function se(Be,qe){return qe?function ie(Be,qe){if(null!=Be){if((0,dt.c)(Be))return function ae(Be,qe){return(0,y.Xf)(Be).pipe((0,X.R)(qe),(0,S.Q)(qe))}(Be,qe);if((0,ot.z)(Be))return function Le(Be,qe){return new De.y(Ke=>{let ne=0;return qe.schedule(function(){ne===Be.length?Ke.complete():(Ke.next(Be[ne++]),Ke.closed||this.schedule())})})}(Be,qe);if((0,Qe.t)(Be))return function ce(Be,qe){return(0,y.Xf)(Be).pipe((0,X.R)(qe),(0,S.Q)(qe))}(Be,qe);if((0,We.D)(Be))return Oe(Be,qe);if((0,ft.T)(Be))return function pe(Be,qe){return new De.y(Ke=>{let ne;return(0,he.f)(Ke,qe,()=>{ne=Be[Pe.h](),(0,he.f)(Ke,qe,()=>{let de,oe;try{({value:de,done:oe}=ne.next())}catch(me){return void Ke.error(me)}oe?Ke.complete():Ke.next(de)},0,!0)}),()=>(0,Ne.m)(null==ne?void 0:ne.return)&&ne.return()})}(Be,qe);if((0,At.L)(Be))return function Et(Be,qe){return Oe((0,At.Q)(Be),qe)}(Be,qe)}throw(0,nt.z)(Be)}(Be,qe):(0,y.Xf)(Be)}},8421:(Nt,ze,$)=>{"use strict";$.d(ze,{Xf:()=>dt});var y=$(655),S=$(1144),X=$(8239),ae=$(8306),ce=$(3670),De=$(2206),Le=$(4532),Pe=$(6495),Ne=$(3260),he=$(576),pe=$(7849),Oe=$(8822);function dt(ie){if(ie instanceof ae.y)return ie;if(null!=ie){if((0,ce.c)(ie))return function Qe(ie){return new ae.y(se=>{const Be=ie[Oe.L]();if((0,he.m)(Be.subscribe))return Be.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,S.z)(ie))return function ot(ie){return new ae.y(se=>{for(let Be=0;Be<ie.length&&!se.closed;Be++)se.next(ie[Be]);se.complete()})}(ie);if((0,X.t)(ie))return function ft(ie){return new ae.y(se=>{ie.then(Be=>{se.closed||(se.next(Be),se.complete())},Be=>se.error(Be)).then(null,pe.h)})}(ie);if((0,De.D)(ie))return nt(ie);if((0,Pe.T)(ie))return function We(ie){return new ae.y(se=>{for(const Be of ie)if(se.next(Be),se.closed)return;se.complete()})}(ie);if((0,Ne.L)(ie))return function At(ie){return nt((0,Ne.Q)(ie))}(ie)}throw(0,Le.z)(ie)}function nt(ie){return new ae.y(se=>{(function Et(ie,se){var Be,qe,Ke,ne;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Be=(0,y.KL)(ie);!(qe=yield Be.next()).done;)if(se.next(qe.value),se.closed)return}catch(de){Ke={error:de}}finally{try{qe&&!qe.done&&(ne=Be.return)&&(yield ne.call(Be))}finally{if(Ke)throw Ke.error}}se.complete()})})(ie,se).catch(Be=>se.error(Be))})}},6451:(Nt,ze,$)=>{"use strict";$.d(ze,{T:()=>De});var y=$(8189),S=$(8421),X=$(515),ae=$(7669),ce=$(8996);function De(...Le){const Pe=(0,ae.yG)(Le),Ne=(0,ae._6)(Le,1/0),he=Le;return he.length?1===he.length?(0,S.Xf)(he[0]):(0,y.J)(Ne)((0,ce.D)(he,Pe)):X.E}},9646:(Nt,ze,$)=>{"use strict";$.d(ze,{of:()=>X});var y=$(7669),S=$(8996);function X(...ae){const ce=(0,y.yG)(ae);return(0,S.D)(ae,ce)}},5403:(Nt,ze,$)=>{"use strict";$.d(ze,{x:()=>S});var y=$(930);function S(ae,ce,De,Le,Pe){return new X(ae,ce,De,Le,Pe)}class X extends y.Lv{constructor(ce,De,Le,Pe,Ne,he){super(ce),this.onFinalize=Ne,this.shouldUnsubscribe=he,this._next=De?function(pe){try{De(pe)}catch(Oe){ce.error(Oe)}}:super._next,this._error=Pe?function(pe){try{Pe(pe)}catch(Oe){ce.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(pe){ce.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},6590:(Nt,ze,$)=>{"use strict";$.d(ze,{d:()=>X});var y=$(4482),S=$(5403);function X(ae){return(0,y.e)((ce,De)=>{let Le=!1;ce.subscribe((0,S.x)(De,Pe=>{Le=!0,De.next(Pe)},()=>{Le||De.next(ae),De.complete()}))})}},9300:(Nt,ze,$)=>{"use strict";$.d(ze,{h:()=>X});var y=$(4482),S=$(5403);function X(ae,ce){return(0,y.e)((De,Le)=>{let Pe=0;De.subscribe((0,S.x)(Le,Ne=>ae.call(ce,Ne,Pe++)&&Le.next(Ne)))})}},590:(Nt,ze,$)=>{"use strict";$.d(ze,{P:()=>Le});var y=$(6805),S=$(9300),X=$(5698),ae=$(6590),ce=$(8068),De=$(4671);function Le(Pe,Ne){const he=arguments.length>=2;return pe=>pe.pipe(Pe?(0,S.h)((Oe,dt)=>Pe(Oe,dt,pe)):De.y,(0,X.q)(1),he?(0,ae.d)(Ne):(0,ce.T)(()=>new y.K))}},4004:(Nt,ze,$)=>{"use strict";$.d(ze,{U:()=>X});var y=$(4482),S=$(5403);function X(ae,ce){return(0,y.e)((De,Le)=>{let Pe=0;De.subscribe((0,S.x)(Le,Ne=>{Le.next(ae.call(ce,Ne,Pe++))}))})}},8189:(Nt,ze,$)=>{"use strict";$.d(ze,{J:()=>X});var y=$(5577),S=$(4671);function X(ae=1/0){return(0,y.z)(S.y,ae)}},5577:(Nt,ze,$)=>{"use strict";$.d(ze,{z:()=>Pe});var y=$(4004),S=$(8421),X=$(4482),ae=$(9672),ce=$(5403),Le=$(576);function Pe(Ne,he,pe=1/0){return(0,Le.m)(he)?Pe((Oe,dt)=>(0,y.U)((Qe,ot)=>he(Oe,Qe,dt,ot))((0,S.Xf)(Ne(Oe,dt))),pe):("number"==typeof he&&(pe=he),(0,X.e)((Oe,dt)=>function De(Ne,he,pe,Oe,dt,Qe,ot,ft){const We=[];let nt=0,At=0,Et=!1;const ie=()=>{Et&&!We.length&&!nt&&he.complete()},se=qe=>nt<Oe?Be(qe):We.push(qe),Be=qe=>{Qe&&he.next(qe),nt++;let Ke=!1;(0,S.Xf)(pe(qe,At++)).subscribe((0,ce.x)(he,ne=>{null==dt||dt(ne),Qe?se(ne):he.next(ne)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(nt--;We.length&&nt<Oe;){const ne=We.shift();ot?(0,ae.f)(he,ot,()=>Be(ne)):Be(ne)}ie()}catch(ne){he.error(ne)}}))};return Ne.subscribe((0,ce.x)(he,se,()=>{Et=!0,ie()})),()=>{null==ft||ft()}}(Oe,dt,Ne,pe)))}},5363:(Nt,ze,$)=>{"use strict";$.d(ze,{Q:()=>ae});var y=$(9672),S=$(4482),X=$(5403);function ae(ce,De=0){return(0,S.e)((Le,Pe)=>{Le.subscribe((0,X.x)(Pe,Ne=>(0,y.f)(Pe,ce,()=>Pe.next(Ne),De),()=>(0,y.f)(Pe,ce,()=>Pe.complete(),De),Ne=>(0,y.f)(Pe,ce,()=>Pe.error(Ne),De)))})}},5026:(Nt,ze,$)=>{"use strict";$.d(ze,{R:()=>ae});var y=$(4482),S=$(5403);function X(ce,De,Le,Pe,Ne){return(he,pe)=>{let Oe=Le,dt=De,Qe=0;he.subscribe((0,S.x)(pe,ot=>{const ft=Qe++;dt=Oe?ce(dt,ot,ft):(Oe=!0,ot),Pe&&pe.next(dt)},Ne&&(()=>{Oe&&pe.next(dt),pe.complete()})))}}function ae(ce,De){return(0,y.e)(X(ce,De,arguments.length>=2,!0))}},3099:(Nt,ze,$)=>{"use strict";$.d(ze,{B:()=>De});var y=$(8996),S=$(5698),X=$(7579),ae=$(930),ce=$(4482);function De(Pe={}){const{connector:Ne=(()=>new X.x),resetOnError:he=!0,resetOnComplete:pe=!0,resetOnRefCountZero:Oe=!0}=Pe;return dt=>{let Qe=null,ot=null,ft=null,We=0,nt=!1,At=!1;const Et=()=>{null==ot||ot.unsubscribe(),ot=null},ie=()=>{Et(),Qe=ft=null,nt=At=!1},se=()=>{const Be=Qe;ie(),null==Be||Be.unsubscribe()};return(0,ce.e)((Be,qe)=>{We++,!At&&!nt&&Et();const Ke=ft=null!=ft?ft:Ne();qe.add(()=>{We--,0===We&&!At&&!nt&&(ot=Le(se,Oe))}),Ke.subscribe(qe),Qe||(Qe=new ae.Hp({next:ne=>Ke.next(ne),error:ne=>{At=!0,Et(),ot=Le(ie,he,ne),Ke.error(ne)},complete:()=>{nt=!0,Et(),ot=Le(ie,pe),Ke.complete()}}),(0,y.D)(Be).subscribe(Qe))})(dt)}}function Le(Pe,Ne,...he){return!0===Ne?(Pe(),null):!1===Ne?null:Ne(...he).pipe((0,S.q)(1)).subscribe(()=>Pe())}},8675:(Nt,ze,$)=>{"use strict";$.d(ze,{O:()=>ae});var y=$(7272),S=$(7669),X=$(4482);function ae(...ce){const De=(0,S.yG)(ce);return(0,X.e)((Le,Pe)=>{(De?(0,y.z)(ce,Le,De):(0,y.z)(ce,Le)).subscribe(Pe)})}},9468:(Nt,ze,$)=>{"use strict";$.d(ze,{R:()=>S});var y=$(4482);function S(X,ae=0){return(0,y.e)((ce,De)=>{De.add(X.schedule(()=>ce.subscribe(De),ae))})}},3900:(Nt,ze,$)=>{"use strict";$.d(ze,{w:()=>ae});var y=$(8421),S=$(4482),X=$(5403);function ae(ce,De){return(0,S.e)((Le,Pe)=>{let Ne=null,he=0,pe=!1;const Oe=()=>pe&&!Ne&&Pe.complete();Le.subscribe((0,X.x)(Pe,dt=>{null==Ne||Ne.unsubscribe();let Qe=0;const ot=he++;(0,y.Xf)(ce(dt,ot)).subscribe(Ne=(0,X.x)(Pe,ft=>Pe.next(De?De(dt,ft,ot,Qe++):ft),()=>{Ne=null,Oe()}))},()=>{pe=!0,Oe()}))})}},5698:(Nt,ze,$)=>{"use strict";$.d(ze,{q:()=>ae});var y=$(515),S=$(4482),X=$(5403);function ae(ce){return ce<=0?()=>y.E:(0,S.e)((De,Le)=>{let Pe=0;De.subscribe((0,X.x)(Le,Ne=>{++Pe<=ce&&(Le.next(Ne),ce<=Pe&&Le.complete())}))})}},8505:(Nt,ze,$)=>{"use strict";$.d(ze,{b:()=>ce});var y=$(576),S=$(4482),X=$(5403),ae=$(4671);function ce(De,Le,Pe){const Ne=(0,y.m)(De)||Le||Pe?{next:De,error:Le,complete:Pe}:De;return Ne?(0,S.e)((he,pe)=>{var Oe;null===(Oe=Ne.subscribe)||void 0===Oe||Oe.call(Ne);let dt=!0;he.subscribe((0,X.x)(pe,Qe=>{var ot;null===(ot=Ne.next)||void 0===ot||ot.call(Ne,Qe),pe.next(Qe)},()=>{var Qe;dt=!1,null===(Qe=Ne.complete)||void 0===Qe||Qe.call(Ne),pe.complete()},Qe=>{var ot;dt=!1,null===(ot=Ne.error)||void 0===ot||ot.call(Ne,Qe),pe.error(Qe)},()=>{var Qe,ot;dt&&(null===(Qe=Ne.unsubscribe)||void 0===Qe||Qe.call(Ne)),null===(ot=Ne.finalize)||void 0===ot||ot.call(Ne)}))}):ae.y}},8068:(Nt,ze,$)=>{"use strict";$.d(ze,{T:()=>ae});var y=$(6805),S=$(4482),X=$(5403);function ae(De=ce){return(0,S.e)((Le,Pe)=>{let Ne=!1;Le.subscribe((0,X.x)(Pe,he=>{Ne=!0,Pe.next(he)},()=>Ne?Pe.complete():Pe.error(De())))})}function ce(){return new y.K}},4408:(Nt,ze,$)=>{"use strict";$.d(ze,{o:()=>ce});var y=$(727);class S extends y.w0{constructor(Le,Pe){super()}schedule(Le,Pe=0){return this}}const X={setInterval(De,Le,...Pe){const{delegate:Ne}=X;return(null==Ne?void 0:Ne.setInterval)?Ne.setInterval(De,Le,...Pe):setInterval(De,Le,...Pe)},clearInterval(De){const{delegate:Le}=X;return((null==Le?void 0:Le.clearInterval)||clearInterval)(De)},delegate:void 0};var ae=$(8737);class ce extends S{constructor(Le,Pe){super(Le,Pe),this.scheduler=Le,this.work=Pe,this.pending=!1}schedule(Le,Pe=0){if(this.closed)return this;this.state=Le;const Ne=this.id,he=this.scheduler;return null!=Ne&&(this.id=this.recycleAsyncId(he,Ne,Pe)),this.pending=!0,this.delay=Pe,this.id=this.id||this.requestAsyncId(he,this.id,Pe),this}requestAsyncId(Le,Pe,Ne=0){return X.setInterval(Le.flush.bind(Le,this),Ne)}recycleAsyncId(Le,Pe,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return Pe;X.clearInterval(Pe)}execute(Le,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(Le,Pe);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Le,Pe){let he,Ne=!1;try{this.work(Le)}catch(pe){Ne=!0,he=pe||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Le,scheduler:Pe}=this,{actions:Ne}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Ne,this),null!=Le&&(this.id=this.recycleAsyncId(Pe,Le,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,ze,$)=>{"use strict";$.d(ze,{v:()=>X});var y=$(6063);class S{constructor(ce,De=S.now){this.schedulerActionCtor=ce,this.now=De}schedule(ce,De=0,Le){return new this.schedulerActionCtor(this,ce).schedule(Le,De)}}S.now=y.l.now;class X extends S{constructor(ce,De=S.now){super(ce,De),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:De}=this;if(this._active)return void De.push(ce);let Le;this._active=!0;do{if(Le=ce.execute(ce.state,ce.delay))break}while(ce=De.shift());if(this._active=!1,Le){for(;ce=De.shift();)ce.unsubscribe();throw Le}}}},4986:(Nt,ze,$)=>{"use strict";$.d(ze,{z:()=>X});var y=$(4408);const X=new($(7565).v)(y.o)},6063:(Nt,ze,$)=>{"use strict";$.d(ze,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(Nt,ze,$)=>{"use strict";$.d(ze,{z:()=>y});const y={setTimeout(S,X,...ae){const{delegate:ce}=y;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(S,X,...ae):setTimeout(S,X,...ae)},clearTimeout(S){const{delegate:X}=y;return((null==X?void 0:X.clearTimeout)||clearTimeout)(S)},delegate:void 0}},2202:(Nt,ze,$)=>{"use strict";$.d(ze,{h:()=>S});const S=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,ze,$)=>{"use strict";$.d(ze,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Nt,ze,$)=>{"use strict";$.d(ze,{K:()=>S});const S=(0,$(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Nt,ze,$)=>{"use strict";$.d(ze,{_6:()=>De,jO:()=>ae,yG:()=>ce});var y=$(576);function X(Le){return Le[Le.length-1]}function ae(Le){return(0,y.m)(X(Le))?Le.pop():void 0}function ce(Le){return function S(Le){return Le&&(0,y.m)(Le.schedule)}(X(Le))?Le.pop():void 0}function De(Le,Pe){return"number"==typeof X(Le)?Le.pop():Pe}},4742:(Nt,ze,$)=>{"use strict";$.d(ze,{D:()=>ce});const{isArray:y}=Array,{getPrototypeOf:S,prototype:X,keys:ae}=Object;function ce(Le){if(1===Le.length){const Pe=Le[0];if(y(Pe))return{args:Pe,keys:null};if(function De(Le){return Le&&"object"==typeof Le&&S(Le)===X}(Pe)){const Ne=ae(Pe);return{args:Ne.map(he=>Pe[he]),keys:Ne}}}return{args:Le,keys:null}}},8737:(Nt,ze,$)=>{"use strict";function y(S,X){if(S){const ae=S.indexOf(X);0<=ae&&S.splice(ae,1)}}$.d(ze,{P:()=>y})},3888:(Nt,ze,$)=>{"use strict";function y(S){const ae=S(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}$.d(ze,{d:()=>y})},1810:(Nt,ze,$)=>{"use strict";function y(S,X){return S.reduce((ae,ce,De)=>(ae[ce]=X[De],ae),{})}$.d(ze,{n:()=>y})},2806:(Nt,ze,$)=>{"use strict";$.d(ze,{O:()=>ae,x:()=>X});var y=$(2416);let S=null;function X(ce){if(y.v.useDeprecatedSynchronousErrorHandling){const De=!S;if(De&&(S={errorThrown:!1,error:null}),ce(),De){const{errorThrown:Le,error:Pe}=S;if(S=null,Le)throw Pe}}else ce()}function ae(ce){y.v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=ce)}},9672:(Nt,ze,$)=>{"use strict";function y(S,X,ae,ce=0,De=!1){const Le=X.schedule(function(){ae(),De?S.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(S.add(Le),!De)return Le}$.d(ze,{f:()=>y})},4671:(Nt,ze,$)=>{"use strict";function y(S){return S}$.d(ze,{y:()=>y})},1144:(Nt,ze,$)=>{"use strict";$.d(ze,{z:()=>y});const y=S=>S&&"number"==typeof S.length&&"function"!=typeof S},2206:(Nt,ze,$)=>{"use strict";$.d(ze,{D:()=>S});var y=$(576);function S(X){return Symbol.asyncIterator&&(0,y.m)(null==X?void 0:X[Symbol.asyncIterator])}},576:(Nt,ze,$)=>{"use strict";function y(S){return"function"==typeof S}$.d(ze,{m:()=>y})},3670:(Nt,ze,$)=>{"use strict";$.d(ze,{c:()=>X});var y=$(8822),S=$(576);function X(ae){return(0,S.m)(ae[y.L])}},6495:(Nt,ze,$)=>{"use strict";$.d(ze,{T:()=>X});var y=$(2202),S=$(576);function X(ae){return(0,S.m)(null==ae?void 0:ae[y.h])}},8239:(Nt,ze,$)=>{"use strict";$.d(ze,{t:()=>S});var y=$(576);function S(X){return(0,y.m)(null==X?void 0:X.then)}},3260:(Nt,ze,$)=>{"use strict";$.d(ze,{L:()=>ae,Q:()=>X});var y=$(655),S=$(576);function X(ce){return(0,y.FC)(this,arguments,function*(){const Le=ce.getReader();try{for(;;){const{value:Pe,done:Ne}=yield(0,y.qq)(Le.read());if(Ne)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Pe)}}finally{Le.releaseLock()}})}function ae(ce){return(0,S.m)(null==ce?void 0:ce.getReader)}},4482:(Nt,ze,$)=>{"use strict";$.d(ze,{A:()=>S,e:()=>X});var y=$(576);function S(ae){return(0,y.m)(null==ae?void 0:ae.lift)}function X(ae){return ce=>{if(S(ce))return ce.lift(function(De){try{return ae(De,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Nt,ze,$)=>{"use strict";$.d(ze,{Z:()=>ae});var y=$(4004);const{isArray:S}=Array;function ae(ce){return(0,y.U)(De=>function X(ce,De){return S(De)?ce(...De):ce(De)}(ce,De))}},5032:(Nt,ze,$)=>{"use strict";function y(){}$.d(ze,{Z:()=>y})},7849:(Nt,ze,$)=>{"use strict";$.d(ze,{h:()=>X});var y=$(2416),S=$(3410);function X(ae){S.z.setTimeout(()=>{const{onUnhandledError:ce}=y.v;if(!ce)throw ae;ce(ae)})}},4532:(Nt,ze,$)=>{"use strict";function y(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ze,{z:()=>y})},5226:function(Nt){Nt.exports=function(){"use strict";const ze="SweetAlert2:",y=A=>A.charAt(0).toUpperCase()+A.slice(1),S=A=>Array.prototype.slice.call(A),X=A=>{console.warn("".concat(ze," ").concat("object"==typeof A?A.join(" "):A))},ae=A=>{console.error("".concat(ze," ").concat(A))},ce=[],Le=(A,M)=>{(A=>{ce.includes(A)||(ce.push(A),X(A))})('"'.concat(A,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},Pe=A=>"function"==typeof A?A():A,Ne=A=>A&&"function"==typeof A.toPromise,he=A=>Ne(A)?A.toPromise():Promise.resolve(A),pe=A=>A&&Promise.resolve(A)===A,dt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ot={},ft=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],We=A=>Object.prototype.hasOwnProperty.call(dt,A),nt=A=>-1!==Qe.indexOf(A),At=A=>ot[A],Et=A=>{We(A)||X('Unknown parameter "'.concat(A,'"'))},ie=A=>{ft.includes(A)&&X('The parameter "'.concat(A,'" is incompatible with toasts'))},se=A=>{At(A)&&Le(A,At(A))},Ke=A=>{const M={};for(const W in A)M[A[W]]="swal2-"+A[W];return M},ne=Ke(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),de=Ke(["success","warning","info","question","error"]),oe=()=>document.body.querySelector(".".concat(ne.container)),me=A=>{const M=oe();return M?M.querySelector(A):null},ge=A=>me(".".concat(A)),Ue=()=>ge(ne.popup),je=()=>ge(ne.icon),qt=()=>ge(ne.title),Ft=()=>ge(ne["html-container"]),nn=()=>ge(ne.image),Ct=()=>ge(ne["progress-steps"]),ht=()=>ge(ne["validation-message"]),Wt=()=>me(".".concat(ne.actions," .").concat(ne.confirm)),kt=()=>me(".".concat(ne.actions," .").concat(ne.deny)),Ot=()=>me(".".concat(ne.loader)),mn=()=>me(".".concat(ne.actions," .").concat(ne.cancel)),ln=()=>ge(ne.actions),wn=()=>ge(ne.footer),In=()=>ge(ne["timer-progress-bar"]),jn=()=>ge(ne.close),zn=()=>{const A=S(Ue().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((W,ve)=>{const rt=parseInt(W.getAttribute("tabindex")),hn=parseInt(ve.getAttribute("tabindex"));return rt>hn?1:rt<hn?-1:0}),M=S(Ue().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(W=>"-1"!==W.getAttribute("tabindex"));return(A=>{const M=[];for(let W=0;W<A.length;W++)-1===M.indexOf(A[W])&&M.push(A[W]);return M})(A.concat(M)).filter(W=>yn(W))},ar=()=>Yt(document.body,ne.shown)&&!Yt(document.body,ne["toast-shown"])&&!Yt(document.body,ne["no-backdrop"]),Tn=()=>Ue()&&Yt(Ue(),ne.toast),Vn={previousBodyPadding:null},St=(A,M)=>{if(A.textContent="",M){const ve=(new DOMParser).parseFromString(M,"text/html");S(ve.querySelector("head").childNodes).forEach(rt=>{A.appendChild(rt)}),S(ve.querySelector("body").childNodes).forEach(rt=>{A.appendChild(rt)})}},Yt=(A,M)=>{if(!M)return!1;const W=M.split(/\s+/);for(let ve=0;ve<W.length;ve++)if(!A.classList.contains(W[ve]))return!1;return!0},rn=(A,M,W)=>{if(((A,M)=>{S(A.classList).forEach(W=>{!Object.values(ne).includes(W)&&!Object.values(de).includes(W)&&!Object.values(M.showClass).includes(W)&&A.classList.remove(W)})})(A,M),M.customClass&&M.customClass[W]){if("string"!=typeof M.customClass[W]&&!M.customClass[W].forEach)return X("Invalid type of customClass.".concat(W,'! Expected string or iterable object, got "').concat(typeof M.customClass[W],'"'));un(A,M.customClass[W])}},Sr=(A,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return A.querySelector(".".concat(ne.popup," > .").concat(ne[M]));case"checkbox":return A.querySelector(".".concat(ne.popup," > .").concat(ne.checkbox," input"));case"radio":return A.querySelector(".".concat(ne.popup," > .").concat(ne.radio," input:checked"))||A.querySelector(".".concat(ne.popup," > .").concat(ne.radio," input:first-child"));case"range":return A.querySelector(".".concat(ne.popup," > .").concat(ne.range," input"));default:return A.querySelector(".".concat(ne.popup," > .").concat(ne.input))}},Zr=A=>{if(A.focus(),"file"!==A.type){const M=A.value;A.value="",A.value=M}},tr=(A,M,W)=>{!A||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(ve=>{Array.isArray(A)?A.forEach(rt=>{W?rt.classList.add(ve):rt.classList.remove(ve)}):W?A.classList.add(ve):A.classList.remove(ve)}))},un=(A,M)=>{tr(A,M,!0)},mr=(A,M)=>{tr(A,M,!1)},lr=(A,M)=>{const W=S(A.childNodes);for(let ve=0;ve<W.length;ve++)if(Yt(W[ve],M))return W[ve]},Dt=(A,M,W)=>{W==="".concat(parseInt(W))&&(W=parseInt(W)),W||0===parseInt(W)?A.style[M]="number"==typeof W?"".concat(W,"px"):W:A.style.removeProperty(M)},Tt=function(A){A.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Mt=A=>{A.style.display="none"},ur=(A,M,W,ve)=>{const rt=A.querySelector(M);rt&&(rt.style[W]=ve)},Or=(A,M,W)=>{M?Tt(A,W):Mt(A)},yn=A=>!(!A||!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)),yr=A=>A.scrollHeight>A.clientHeight,qn=A=>{const M=window.getComputedStyle(A),W=parseFloat(M.getPropertyValue("animation-duration")||"0"),ve=parseFloat(M.getPropertyValue("transition-duration")||"0");return W>0||ve>0},Gt=function(A){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const W=In();yn(W)&&(M&&(W.style.transition="none",W.style.width="100%"),setTimeout(()=>{W.style.transition="width ".concat(A/1e3,"s linear"),W.style.width="0%"},10))},Dn=()=>"undefined"==typeof window||"undefined"==typeof document,Ve={},Xt=A=>new Promise(M=>{if(!A)return M();const W=window.scrollX,ve=window.scrollY;Ve.restoreFocusTimeout=setTimeout(()=>{Ve.previousActiveElement&&Ve.previousActiveElement.focus?(Ve.previousActiveElement.focus(),Ve.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(W,ve)}),En='\n <div aria-labelledby="'.concat(ne.title,'" aria-describedby="').concat(ne["html-container"],'" class="').concat(ne.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ne.close,'"></button>\n   <ul class="').concat(ne["progress-steps"],'"></ul>\n   <div class="').concat(ne.icon,'"></div>\n   <img class="').concat(ne.image,'" />\n   <h2 class="').concat(ne.title,'" id="').concat(ne.title,'"></h2>\n   <div class="').concat(ne["html-container"],'" id="').concat(ne["html-container"],'"></div>\n   <input class="').concat(ne.input,'" />\n   <input type="file" class="').concat(ne.file,'" />\n   <div class="').concat(ne.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ne.select,'"></select>\n   <div class="').concat(ne.radio,'"></div>\n   <label for="').concat(ne.checkbox,'" class="').concat(ne.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ne.label,'"></span>\n   </label>\n   <textarea class="').concat(ne.textarea,'"></textarea>\n   <div class="').concat(ne["validation-message"],'" id="').concat(ne["validation-message"],'"></div>\n   <div class="').concat(ne.actions,'">\n     <div class="').concat(ne.loader,'"></div>\n     <button type="button" class="').concat(ne.confirm,'"></button>\n     <button type="button" class="').concat(ne.deny,'"></button>\n     <button type="button" class="').concat(ne.cancel,'"></button>\n   </div>\n   <div class="').concat(ne.footer,'"></div>\n   <div class="').concat(ne["timer-progress-bar-container"],'">\n     <div class="').concat(ne["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),we=()=>{Ve.currentInstance.resetValidationMessage()},_t=A=>{const M=(()=>{const A=oe();return!!A&&(A.remove(),mr([document.documentElement,document.body],[ne["no-backdrop"],ne["toast-shown"],ne["has-column"]]),!0)})();if(Dn())return void ae("SweetAlert2 requires document to initialize");const W=document.createElement("div");W.className=ne.container,M&&un(W,ne["no-transition"]),St(W,En);const ve=(A=>"string"==typeof A?document.querySelector(A):A)(A.target);ve.appendChild(W),(A=>{const M=Ue();M.setAttribute("role",A.toast?"alert":"dialog"),M.setAttribute("aria-live",A.toast?"polite":"assertive"),A.toast||M.setAttribute("aria-modal","true")})(A),(A=>{"rtl"===window.getComputedStyle(A).direction&&un(oe(),ne.rtl)})(ve),(()=>{const A=Ue(),M=lr(A,ne.input),W=lr(A,ne.file),ve=A.querySelector(".".concat(ne.range," input")),rt=A.querySelector(".".concat(ne.range," output")),hn=lr(A,ne.select),fr=A.querySelector(".".concat(ne.checkbox," input")),$i=lr(A,ne.textarea);M.oninput=we,W.onchange=we,hn.onchange=we,fr.onchange=we,$i.oninput=we,ve.oninput=()=>{we(),rt.value=ve.value},ve.onchange=()=>{we(),ve.nextSibling.value=ve.value}})(),Ee(W,A)},Ee=(A,M)=>{if(M.toast)return;const W=(A=>A[Math.floor(Math.random()*A.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const ve=document.createElement("div");ve.className=ne["no-war"],St(ve,'<a href="https://www.youtube.com/watch?v='.concat(W.youtubeId,'" target="_blank">').concat(W.text,"</a>")),A.appendChild(ve),A.style.paddingTop="4em"}},_e=(A,M)=>{A instanceof HTMLElement?M.appendChild(A):"object"==typeof A?re(A,M):A&&St(M,A)},re=(A,M)=>{A.jquery?Se(M,A):St(M,A.toString())},Se=(A,M)=>{if(A.textContent="",0 in M)for(let W=0;W in M;W++)A.appendChild(M[W].cloneNode(!0));else A.appendChild(M.cloneNode(!0))},tt=(()=>{if(Dn())return!1;const A=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const W in M)if(Object.prototype.hasOwnProperty.call(M,W)&&void 0!==A.style[W])return M[W];return!1})(),en=(A,M)=>{const W=ln(),ve=Ot();M.showConfirmButton||M.showDenyButton||M.showCancelButton?Tt(W):Mt(W),rn(W,M,"actions"),function Hn(A,M,W){const ve=Wt(),rt=kt(),hn=mn();Fi(ve,"confirm",W),Fi(rt,"deny",W),Fi(hn,"cancel",W),function _r(A,M,W,ve){if(!ve.buttonsStyling)return mr([A,M,W],ne.styled);un([A,M,W],ne.styled),ve.confirmButtonColor&&(A.style.backgroundColor=ve.confirmButtonColor,un(A,ne["default-outline"])),ve.denyButtonColor&&(M.style.backgroundColor=ve.denyButtonColor,un(M,ne["default-outline"])),ve.cancelButtonColor&&(W.style.backgroundColor=ve.cancelButtonColor,un(W,ne["default-outline"]))}(ve,rt,hn,W),W.reverseButtons&&(W.toast?(A.insertBefore(hn,ve),A.insertBefore(rt,ve)):(A.insertBefore(hn,M),A.insertBefore(rt,M),A.insertBefore(ve,M)))}(W,ve,M),St(ve,M.loaderHtml),rn(ve,M,"loader")};function Fi(A,M,W){Or(A,W["show".concat(y(M),"Button")],"inline-block"),St(A,W["".concat(M,"ButtonText")]),A.setAttribute("aria-label",W["".concat(M,"ButtonAriaLabel")]),A.className=ne[M],rn(A,W,"".concat(M,"Button")),un(A,W["".concat(M,"ButtonClass")])}const ai=(A,M)=>{const W=oe();!W||(function oi(A,M){"string"==typeof M?A.style.background=M:M||un([document.documentElement,document.body],ne["no-backdrop"])}(W,M.backdrop),function Xn(A,M){M in ne?un(A,ne[M]):(X('The "position" parameter is not valid, defaulting to "center"'),un(A,ne.center))}(W,M.position),function wr(A,M){if(M&&"string"==typeof M){const W="grow-".concat(M);W in ne&&un(A,ne[W])}}(W,M.grow),rn(W,M,"container"))};var sn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const pt=["input","file","range","select","radio","checkbox","textarea"],gn=A=>{if(!cr[A.input])return ae('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(A.input,'"'));const M=Ir(A.input),W=cr[A.input](M,A);Tt(W),setTimeout(()=>{Zr(W)})},Li=(A,M)=>{const W=Sr(Ue(),A);if(W){(A=>{for(let M=0;M<A.attributes.length;M++){const W=A.attributes[M].name;["type","value","style"].includes(W)||A.removeAttribute(W)}})(W);for(const ve in M)W.setAttribute(ve,M[ve])}},hr=A=>{const M=Ir(A.input);A.customClass&&un(M,A.customClass.input)},li=(A,M)=>{(!A.placeholder||M.inputPlaceholder)&&(A.placeholder=M.inputPlaceholder)},kn=(A,M,W)=>{if(W.inputLabel){A.id=ne.input;const ve=document.createElement("label"),rt=ne["input-label"];ve.setAttribute("for",A.id),ve.className=rt,un(ve,W.customClass.inputLabel),ve.innerText=W.inputLabel,M.insertAdjacentElement("beforebegin",ve)}},Ir=A=>{const M=ne[A]?ne[A]:ne.input;return lr(Ue(),M)},cr={};cr.text=cr.email=cr.password=cr.number=cr.tel=cr.url=(A,M)=>("string"==typeof M.inputValue||"number"==typeof M.inputValue?A.value=M.inputValue:pe(M.inputValue)||X('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof M.inputValue,'"')),kn(A,A,M),li(A,M),A.type=M.input,A),cr.file=(A,M)=>(kn(A,A,M),li(A,M),A),cr.range=(A,M)=>{const W=A.querySelector("input"),ve=A.querySelector("output");return W.value=M.inputValue,W.type=M.input,ve.value=M.inputValue,kn(W,A,M),A},cr.select=(A,M)=>{if(A.textContent="",M.inputPlaceholder){const W=document.createElement("option");St(W,M.inputPlaceholder),W.value="",W.disabled=!0,W.selected=!0,A.appendChild(W)}return kn(A,A,M),A},cr.radio=A=>(A.textContent="",A),cr.checkbox=(A,M)=>{const W=Sr(Ue(),"checkbox");W.value="1",W.id=ne.checkbox,W.checked=Boolean(M.inputValue);const ve=A.querySelector("span");return St(ve,M.inputPlaceholder),A},cr.textarea=(A,M)=>{A.value=M.inputValue,li(A,M),kn(A,A,M);return setTimeout(()=>{if("MutationObserver"in window){const ve=parseInt(window.getComputedStyle(Ue()).width);new MutationObserver(()=>{const hn=A.offsetWidth+(ve=>parseInt(window.getComputedStyle(ve).marginLeft)+parseInt(window.getComputedStyle(ve).marginRight))(A);Ue().style.width=hn>ve?"".concat(hn,"px"):null}).observe(A,{attributes:!0,attributeFilter:["style"]})}}),A};const bn=(A,M)=>{const W=Ft();rn(W,M,"htmlContainer"),M.html?(_e(M.html,W),Tt(W,"block")):M.text?(W.textContent=M.text,Tt(W,"block")):Mt(W),((A,M)=>{const W=Ue(),ve=sn.innerParams.get(A),rt=!ve||M.input!==ve.input;pt.forEach(hn=>{const fr=ne[hn],$i=lr(W,fr);Li(hn,M.inputAttributes),$i.className=fr,rt&&Mt($i)}),M.input&&(rt&&gn(M),hr(M))})(A,M)},Kr=(A,M)=>{for(const W in de)M.icon!==W&&mr(A,de[W]);un(A,de[M.icon]),Yn(A,M),Pr(),rn(A,M,"icon")},Pr=()=>{const A=Ue(),M=window.getComputedStyle(A).getPropertyValue("background-color"),W=A.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ve=0;ve<W.length;ve++)W[ve].style.backgroundColor=M},Rr=(A,M)=>{A.textContent="",St(A,M.iconHtml?hs(M.iconHtml):"success"===M.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':hs({question:"?",warning:"!",info:"i"}[M.icon]))},Yn=(A,M)=>{if(M.iconColor){A.style.color=M.iconColor,A.style.borderColor=M.iconColor;for(const W of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ur(A,W,"backgroundColor",M.iconColor);ur(A,".swal2-success-ring","borderColor",M.iconColor)}},hs=A=>'<div class="'.concat(ne["icon-content"],'">').concat(A,"</div>"),fs=(A,M)=>{const W=Ct();if(!M.progressSteps||0===M.progressSteps.length)return Mt(W);Tt(W),W.textContent="",M.currentProgressStep>=M.progressSteps.length&&X("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((ve,rt)=>{const hn=(A=>{const M=document.createElement("li");return un(M,ne["progress-step"]),St(M,A),M})(ve);if(W.appendChild(hn),rt===M.currentProgressStep&&un(hn,ne["active-progress-step"]),rt!==M.progressSteps.length-1){const fr=(A=>{const M=document.createElement("li");return un(M,ne["progress-step-line"]),A.progressStepsDistance&&(M.style.width=A.progressStepsDistance),M})(M);W.appendChild(fr)}})},yi=(A,M)=>{A.className="".concat(ne.popup," ").concat(yn(A)?M.showClass.popup:""),M.toast?(un([document.documentElement,document.body],ne["toast-shown"]),un(A,ne.toast)):un(A,ne.modal),rn(A,M,"popup"),"string"==typeof M.customClass&&un(A,M.customClass),M.icon&&un(A,ne["icon-".concat(M.icon)])},Zi=(A,M)=>{((A,M)=>{const W=oe(),ve=Ue();M.toast?(Dt(W,"width",M.width),ve.style.width="100%",ve.insertBefore(Ot(),je())):Dt(ve,"width",M.width),Dt(ve,"padding",M.padding),M.color&&(ve.style.color=M.color),M.background&&(ve.style.background=M.background),Mt(ht()),yi(ve,M)})(0,M),ai(0,M),fs(0,M),((A,M)=>{const W=sn.innerParams.get(A),ve=je();W&&M.icon===W.icon?(Rr(ve,M),Kr(ve,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(de).indexOf(M.icon)?(ae('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),Mt(ve)):(Tt(ve),Rr(ve,M),Kr(ve,M),un(ve,M.showClass.icon)):Mt(ve)})(A,M),((A,M)=>{const W=nn();if(!M.imageUrl)return Mt(W);Tt(W,""),W.setAttribute("src",M.imageUrl),W.setAttribute("alt",M.imageAlt),Dt(W,"width",M.imageWidth),Dt(W,"height",M.imageHeight),W.className=ne.image,rn(W,M,"image")})(0,M),((A,M)=>{const W=qt();Or(W,M.title||M.titleText,"block"),M.title&&_e(M.title,W),M.titleText&&(W.innerText=M.titleText),rn(W,M,"title")})(0,M),((A,M)=>{const W=jn();St(W,M.closeButtonHtml),rn(W,M,"closeButton"),Or(W,M.showCloseButton),W.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),bn(A,M),en(0,M),((A,M)=>{const W=wn();Or(W,M.footer),M.footer&&_e(M.footer,W),rn(W,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(Ue())},Ki=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Qn=()=>{S(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},Es=["swal-title","swal-html","swal-footer"],xe=A=>{const M={};return S(A.querySelectorAll("swal-param")).forEach(W=>{nr(W,["name","value"]);const ve=W.getAttribute("name"),rt=W.getAttribute("value");"boolean"==typeof dt[ve]&&"false"===rt&&(M[ve]=!1),"object"==typeof dt[ve]&&(M[ve]=JSON.parse(rt))}),M},Ie=A=>{const M={};return S(A.querySelectorAll("swal-button")).forEach(W=>{nr(W,["type","color","aria-label"]);const ve=W.getAttribute("type");M["".concat(ve,"ButtonText")]=W.innerHTML,M["show".concat(y(ve),"Button")]=!0,W.hasAttribute("color")&&(M["".concat(ve,"ButtonColor")]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(M["".concat(ve,"ButtonAriaLabel")]=W.getAttribute("aria-label"))}),M},$e=A=>{const M={},W=A.querySelector("swal-image");return W&&(nr(W,["src","width","height","alt"]),W.hasAttribute("src")&&(M.imageUrl=W.getAttribute("src")),W.hasAttribute("width")&&(M.imageWidth=W.getAttribute("width")),W.hasAttribute("height")&&(M.imageHeight=W.getAttribute("height")),W.hasAttribute("alt")&&(M.imageAlt=W.getAttribute("alt"))),M},st=A=>{const M={},W=A.querySelector("swal-icon");return W&&(nr(W,["type","color"]),W.hasAttribute("type")&&(M.icon=W.getAttribute("type")),W.hasAttribute("color")&&(M.iconColor=W.getAttribute("color")),M.iconHtml=W.innerHTML),M},wt=A=>{const M={},W=A.querySelector("swal-input");W&&(nr(W,["type","label","placeholder","value"]),M.input=W.getAttribute("type")||"text",W.hasAttribute("label")&&(M.inputLabel=W.getAttribute("label")),W.hasAttribute("placeholder")&&(M.inputPlaceholder=W.getAttribute("placeholder")),W.hasAttribute("value")&&(M.inputValue=W.getAttribute("value")));const ve=A.querySelectorAll("swal-input-option");return ve.length&&(M.inputOptions={},S(ve).forEach(rt=>{nr(rt,["value"]);const hn=rt.getAttribute("value");M.inputOptions[hn]=rt.innerHTML})),M},Qt=(A,M)=>{const W={};for(const ve in M){const rt=M[ve],hn=A.querySelector(rt);hn&&(nr(hn,[]),W[rt.replace(/^swal-/,"")]=hn.innerHTML.trim())}return W},er=A=>{const M=Es.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);S(A.children).forEach(W=>{const ve=W.tagName.toLowerCase();-1===M.indexOf(ve)&&X("Unrecognized element <".concat(ve,">"))})},nr=(A,M)=>{S(A.attributes).forEach(W=>{-1===M.indexOf(W.name)&&X(['Unrecognized attribute "'.concat(W.name,'" on <').concat(A.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})};var Wn={email:(A,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(A)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(A,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(A)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Vi(A){(function Mi(A){A.inputValidator||Object.keys(Wn).forEach(M=>{A.input===M&&(A.inputValidator=Wn[M])})})(A),A.showLoaderOnConfirm&&!A.preConfirm&&X("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function is(A){(!A.target||"string"==typeof A.target&&!document.querySelector(A.target)||"string"!=typeof A.target&&!A.target.appendChild)&&(X('Target parameter is not valid, defaulting to "body"'),A.target="body")}(A),"string"==typeof A.title&&(A.title=A.title.split("\n").join("<br />")),_t(A)}class ss{constructor(M,W){this.callback=M,this.remaining=W,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const W=this.running;return W&&this.stop(),this.remaining+=M,W&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const vi=()=>{null===Vn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Vn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Vn.previousBodyPadding+(()=>{const A=document.createElement("div");A.className=ne["scrollbar-measure"],document.body.appendChild(A);const M=A.getBoundingClientRect().width-A.clientWidth;return document.body.removeChild(A),M})(),"px"))},xi=()=>{const A=navigator.userAgent,M=!!A.match(/iPad/i)||!!A.match(/iPhone/i),W=!!A.match(/WebKit/i);M&&W&&!A.match(/CriOS/i)&&Ue().scrollHeight>window.innerHeight-44&&(oe().style.paddingBottom="".concat(44,"px"))},ni=()=>{const A=oe();let M;A.ontouchstart=W=>{M=Rs(W)},A.ontouchmove=W=>{M&&(W.preventDefault(),W.stopPropagation())}},Rs=A=>{const M=A.target,W=oe();return!(gs(A)||Yi(A)||M!==W&&(yr(W)||"INPUT"===M.tagName||"TEXTAREA"===M.tagName||yr(Ft())&&Ft().contains(M)))},gs=A=>A.touches&&A.touches.length&&"stylus"===A.touches[0].touchType,Yi=A=>A.touches&&A.touches.length>1,Is=A=>{const M=oe(),W=Ue();"function"==typeof A.willOpen&&A.willOpen(W);const rt=window.getComputedStyle(document.body).overflowY;Us(M,W,A),setTimeout(()=>{pi(M,W)},10),ar()&&(Ds(M,A.scrollbarPadding,rt),S(document.body.children).forEach(M=>{M===oe()||M.contains(oe())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!Tn()&&!Ve.previousActiveElement&&(Ve.previousActiveElement=document.activeElement),"function"==typeof A.didOpen&&setTimeout(()=>A.didOpen(W)),mr(M,ne["no-transition"])},Wr=A=>{const M=Ue();if(A.target!==M)return;const W=oe();M.removeEventListener(tt,Wr),W.style.overflowY="auto"},pi=(A,M)=>{tt&&qn(M)?(A.style.overflowY="hidden",M.addEventListener(tt,Wr)):A.style.overflowY="auto"},Ds=(A,M,W)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Yt(document.body,ne.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),un(document.body,ne.iosfix),ni(),xi()}})(),M&&"hidden"!==W&&vi(),setTimeout(()=>{A.scrollTop=0})},Us=(A,M,W)=>{un(A,W.showClass.backdrop),M.style.setProperty("opacity","0","important"),Tt(M,"grid"),setTimeout(()=>{un(M,W.showClass.popup),M.style.removeProperty("opacity")},10),un([document.documentElement,document.body],ne.shown),W.heightAuto&&W.backdrop&&!W.toast&&un([document.documentElement,document.body],ne["height-auto"])},Br=A=>{let M=Ue();M||new Ms,M=Ue();const W=Ot();Tn()?Mt(je()):kr(M,A),Tt(W),M.setAttribute("data-loading",!0),M.setAttribute("aria-busy",!0),M.focus()},kr=(A,M)=>{const W=ln(),ve=Ot();!M&&yn(Wt())&&(M=Wt()),Tt(W),M&&(Mt(M),ve.setAttribute("data-button-to-replace",M.className)),ve.parentNode.insertBefore(ve,M),un([A,W],ne.loading)},Yr=A=>A.checked?1:0,as=A=>A.checked?A.value:null,wi=A=>A.files.length?null!==A.getAttribute("multiple")?A.files:A.files[0]:null,zr=(A,M)=>{const W=Ue(),ve=rt=>eo[M.input](W,rr(rt),M);Ne(M.inputOptions)||pe(M.inputOptions)?(Br(Wt()),he(M.inputOptions).then(rt=>{A.hideLoading(),ve(rt)})):"object"==typeof M.inputOptions?ve(M.inputOptions):ae("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof M.inputOptions))},Bi=(A,M)=>{const W=A.getInput();Mt(W),he(M.inputValue).then(ve=>{W.value="number"===M.input?parseFloat(ve)||0:"".concat(ve),Tt(W),W.focus(),A.hideLoading()}).catch(ve=>{ae("Error in inputValue promise: ".concat(ve)),W.value="",Tt(W),W.focus(),A.hideLoading()})},eo={select:(A,M,W)=>{const ve=lr(A,ne.select),rt=(hn,fr,$i)=>{const Fr=document.createElement("option");Fr.value=$i,St(Fr,fr),Fr.selected=V($i,W.inputValue),hn.appendChild(Fr)};M.forEach(hn=>{const fr=hn[0],$i=hn[1];if(Array.isArray($i)){const Fr=document.createElement("optgroup");Fr.label=fr,Fr.disabled=!1,ve.appendChild(Fr),$i.forEach(jo=>rt(Fr,jo[1],jo[0]))}else rt(ve,$i,fr)}),ve.focus()},radio:(A,M,W)=>{const ve=lr(A,ne.radio);M.forEach(hn=>{const fr=hn[0],$i=hn[1],Fr=document.createElement("input"),jo=document.createElement("label");Fr.type="radio",Fr.name=ne.radio,Fr.value=fr,V(fr,W.inputValue)&&(Fr.checked=!0);const Ho=document.createElement("span");St(Ho,$i),Ho.className=ne.label,jo.appendChild(Fr),jo.appendChild(Ho),ve.appendChild(jo)});const rt=ve.querySelectorAll("input");rt.length&&rt[0].focus()}},rr=A=>{const M=[];return"undefined"!=typeof Map&&A instanceof Map?A.forEach((W,ve)=>{let rt=W;"object"==typeof rt&&(rt=rr(rt)),M.push([ve,rt])}):Object.keys(A).forEach(W=>{let ve=A[W];"object"==typeof ve&&(ve=rr(ve)),M.push([W,ve])}),M},V=(A,M)=>M&&M.toString()===A.toString();function Z(){const A=sn.innerParams.get(this);if(!A)return;const M=sn.domCache.get(this);Mt(M.loader),Tn()?A.icon&&Tt(je()):L(M),mr([M.popup,M.actions],ne.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const L=A=>{const M=A.popup.getElementsByClassName(A.loader.getAttribute("data-button-to-replace"));M.length?Tt(M[0],"inline-block"):!yn(Wt())&&!yn(kt())&&!yn(mn())&&Mt(A.actions)};var be={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xe=()=>Wt()&&Wt().click(),Zn=A=>{A.keydownTarget&&A.keydownHandlerAdded&&(A.keydownTarget.removeEventListener("keydown",A.keydownHandler,{capture:A.keydownListenerCapture}),A.keydownHandlerAdded=!1)},An=(A,M,W)=>{const ve=zn();if(ve.length)return(M+=W)===ve.length?M=0:-1===M&&(M=ve.length-1),ve[M].focus();Ue().focus()},Dr=["ArrowRight","ArrowDown"],ir=["ArrowLeft","ArrowUp"],sr=(A,M,W)=>{const ve=sn.innerParams.get(A);!ve||M.isComposing||229===M.keyCode||(ve.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?Qi(A,M,ve):"Tab"===M.key?gi(M,ve):[...Dr,...ir].includes(M.key)?cn(M.key):"Escape"===M.key&&Ui(M,ve,W))},Qi=(A,M,W)=>{if(Pe(W.allowEnterKey)&&M.target&&A.getInput()&&M.target.outerHTML===A.getInput().outerHTML){if(["textarea","file"].includes(W.input))return;Xe(),M.preventDefault()}},gi=(A,M)=>{const W=A.target,ve=zn();let rt=-1;for(let hn=0;hn<ve.length;hn++)if(W===ve[hn]){rt=hn;break}An(0,rt,A.shiftKey?-1:1),A.stopPropagation(),A.preventDefault()},cn=A=>{if(![Wt(),kt(),mn()].includes(document.activeElement))return;const rt=Dr.includes(A)?"nextElementSibling":"previousElementSibling";let hn=document.activeElement;for(let fr=0;fr<ln().children.length;fr++){if(hn=hn[rt],!hn)return;if(yn(hn)&&hn instanceof HTMLButtonElement)break}hn instanceof HTMLButtonElement&&hn.focus()},Ui=(A,M,W)=>{Pe(M.allowEscapeKey)&&(A.preventDefault(),W(Ki.esc))};function bi(A,M,W,ve){Tn()?ri(A,ve):(Xt(W).then(()=>ri(A,ve)),Zn(Ve)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),ar()&&(null!==Vn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Vn.previousBodyPadding,"px"),Vn.previousBodyPadding=null),(()=>{if(Yt(document.body,ne.iosfix)){const A=parseInt(document.body.style.top,10);mr(document.body,ne.iosfix),document.body.style.top="",document.body.scrollTop=-1*A}})(),Qn()),function js(){mr([document.documentElement,document.body],[ne.shown,ne["height-auto"],ne["no-backdrop"],ne["toast-shown"]])}()}function Ts(A){A=He(A);const M=be.swalPromiseResolve.get(this),W=F(this);this.isAwaitingPromise()?A.isDismissed||(H(this),M(A)):W&&M(A)}const F=A=>{const M=Ue();if(!M)return!1;const W=sn.innerParams.get(A);if(!W||Yt(M,W.hideClass.popup))return!1;mr(M,W.showClass.popup),un(M,W.hideClass.popup);const ve=oe();return mr(ve,W.showClass.backdrop),un(ve,W.hideClass.backdrop),$t(A,M,W),!0};const H=A=>{A.isAwaitingPromise()&&(sn.awaitingPromise.delete(A),sn.innerParams.get(A)||A._destroy())},He=A=>void 0===A?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},A),$t=(A,M,W)=>{const ve=oe(),rt=tt&&qn(M);"function"==typeof W.willClose&&W.willClose(M),rt?vn(A,M,ve,W.returnFocus,W.didClose):bi(A,ve,W.returnFocus,W.didClose)},vn=(A,M,W,ve,rt)=>{Ve.swalCloseEventFinishedCallback=bi.bind(null,A,W,ve,rt),M.addEventListener(tt,function(hn){hn.target===M&&(Ve.swalCloseEventFinishedCallback(),delete Ve.swalCloseEventFinishedCallback)})},ri=(A,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(A.params)(),A._destroy()})};function ii(A,M,W){const ve=sn.domCache.get(A);M.forEach(rt=>{ve[rt].disabled=W})}function Qr(A,M){if(!A)return!1;if("radio"===A.type){const ve=A.parentNode.parentNode.querySelectorAll("input");for(let rt=0;rt<ve.length;rt++)ve[rt].disabled=M}else A.disabled=M}const go=A=>{const M={};return Object.keys(A).forEach(W=>{nt(W)?M[W]=A[W]:X('Invalid parameter to update: "'.concat(W,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),M};const Oi=A=>{ro(A),delete A.params,delete Ve.keydownHandler,delete Ve.keydownTarget,delete Ve.currentInstance},ro=A=>{A.isAwaitingPromise()?(Hi(sn,A),sn.awaitingPromise.set(A,!0)):(Hi(be,A),Hi(sn,A))},Hi=(A,M)=>{for(const W in A)A[W].delete(M)};var mo=Object.freeze({hideLoading:Z,disableLoading:Z,getInput:function ee(A){const M=sn.innerParams.get(A||this),W=sn.domCache.get(A||this);return W?Sr(W.popup,M.input):null},close:Ts,isAwaitingPromise:function B(){return!!sn.awaitingPromise.get(this)},rejectPromise:function N(A){const M=be.swalPromiseReject.get(this);H(this),M&&M(A)},handleAwaitingPromise:H,closePopup:Ts,closeModal:Ts,closeToast:Ts,enableButtons:function to(){ii(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function As(){ii(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function po(){return Qr(this.getInput(),!1)},disableInput:function la(){return Qr(this.getInput(),!0)},showValidationMessage:function Lo(A){const M=sn.domCache.get(this),W=sn.innerParams.get(this);St(M.validationMessage,A),M.validationMessage.className=ne["validation-message"],W.customClass&&W.customClass.validationMessage&&un(M.validationMessage,W.customClass.validationMessage),Tt(M.validationMessage);const ve=this.getInput();ve&&(ve.setAttribute("aria-invalid",!0),ve.setAttribute("aria-describedby",ne["validation-message"]),Zr(ve),un(ve,ne.inputerror))},resetValidationMessage:function no(){const A=sn.domCache.get(this);A.validationMessage&&Mt(A.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),mr(M,ne.inputerror))},getProgressSteps:function Ei(){return sn.domCache.get(this).progressSteps},update:function ji(A){const M=Ue(),W=sn.innerParams.get(this);if(!M||Yt(M,W.hideClass.popup))return X("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ve=go(A),rt=Object.assign({},W,ve);Zi(this,rt),sn.innerParams.set(this,rt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,A),writable:!1,enumerable:!0}})},_destroy:function ms(){const A=sn.domCache.get(this),M=sn.innerParams.get(this);M?(A.popup&&Ve.swalCloseEventFinishedCallback&&(Ve.swalCloseEventFinishedCallback(),delete Ve.swalCloseEventFinishedCallback),Ve.deferDisposalTimer&&(clearTimeout(Ve.deferDisposalTimer),delete Ve.deferDisposalTimer),"function"==typeof M.didDestroy&&M.didDestroy(),Oi(this)):ro(this)}});const vo=(A,M)=>{const W=sn.innerParams.get(A);if(!W.input)return ae('The "input" parameter is needed to be set when using returnInputValueOn'.concat(y(M)));const ve=((A,M)=>{const W=A.getInput();if(!W)return null;switch(M.input){case"checkbox":return Yr(W);case"radio":return as(W);case"file":return wi(W);default:return M.inputAutoTrim?W.value.trim():W.value}})(A,W);W.inputValidator?Ea(A,ve,M):A.getInput().checkValidity()?"deny"===M?_o(A,ve):wo(A,ve):(A.enableButtons(),A.showValidationMessage(W.validationMessage))},Ea=(A,M,W)=>{const ve=sn.innerParams.get(A);A.disableInput(),Promise.resolve().then(()=>he(ve.inputValidator(M,ve.validationMessage))).then(hn=>{A.enableButtons(),A.enableInput(),hn?A.showValidationMessage(hn):"deny"===W?_o(A,M):wo(A,M)})},_o=(A,M)=>{const W=sn.innerParams.get(A||void 0);W.showLoaderOnDeny&&Br(kt()),W.preDeny?(sn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>he(W.preDeny(M,W.validationMessage))).then(rt=>{!1===rt?(A.hideLoading(),H(A)):A.closePopup({isDenied:!0,value:void 0===rt?M:rt})}).catch(rt=>Hs(A||void 0,rt))):A.closePopup({isDenied:!0,value:M})},ho=(A,M)=>{A.closePopup({isConfirmed:!0,value:M})},Hs=(A,M)=>{A.rejectPromise(M)},wo=(A,M)=>{const W=sn.innerParams.get(A||void 0);W.showLoaderOnConfirm&&Br(),W.preConfirm?(A.resetValidationMessage(),sn.awaitingPromise.set(A||void 0,!0),Promise.resolve().then(()=>he(W.preConfirm(M,W.validationMessage))).then(rt=>{yn(ht())||!1===rt?(A.hideLoading(),H(A)):ho(A,void 0===rt?M:rt)}).catch(rt=>Hs(A||void 0,rt))):ho(A,M)},Yo=(A,M,W)=>{M.popup.onclick=()=>{const ve=sn.innerParams.get(A);ve&&(Fs(ve)||ve.timer||ve.input)||W(Ki.close)}},Fs=A=>A.showConfirmButton||A.showDenyButton||A.showCancelButton||A.showCloseButton;let io=!1;const Ra=A=>{A.popup.onmousedown=()=>{A.container.onmouseup=function(M){A.container.onmouseup=void 0,M.target===A.container&&(io=!0)}}},Bo=A=>{A.container.onmousedown=()=>{A.popup.onmouseup=function(M){A.popup.onmouseup=void 0,(M.target===A.popup||A.popup.contains(M.target))&&(io=!0)}}},si=(A,M,W)=>{M.container.onclick=ve=>{const rt=sn.innerParams.get(A);io?io=!1:ve.target===M.container&&Pe(rt.allowOutsideClick)&&W(Ki.backdrop)}},qr=A=>A instanceof Element||(A=>"object"==typeof A&&A.jquery)(A);const ka=()=>{if(Ve.timeout)return(()=>{const A=In(),M=parseInt(window.getComputedStyle(A).width);A.style.removeProperty("transition"),A.style.width="100%";const ve=M/parseInt(window.getComputedStyle(A).width)*100;A.style.removeProperty("transition"),A.style.width="".concat(ve,"%")})(),Ve.timeout.stop()},Uo=()=>{if(Ve.timeout){const A=Ve.timeout.start();return Gt(A),A}};let Xr=!1;const ci={};const us=A=>{for(let M=A.target;M&&M!==document;M=M.parentNode)for(const W in ci){const ve=M.getAttribute(W);if(ve)return void ci[W].fire({template:ve})}};var zs=Object.freeze({isValidParameter:We,isUpdatableParameter:nt,isDeprecatedParameter:At,argsToParams:A=>{const M={};return"object"!=typeof A[0]||qr(A[0])?["title","html","icon"].forEach((W,ve)=>{const rt=A[ve];"string"==typeof rt||qr(rt)?M[W]=rt:void 0!==rt&&ae("Unexpected type of ".concat(W,'! Expected "string" or "Element", got ').concat(typeof rt))}):Object.assign(M,A[0]),M},isVisible:()=>yn(Ue()),clickConfirm:Xe,clickDeny:()=>kt()&&kt().click(),clickCancel:()=>mn()&&mn().click(),getContainer:oe,getPopup:Ue,getTitle:qt,getHtmlContainer:Ft,getImage:nn,getIcon:je,getInputLabel:()=>ge(ne["input-label"]),getCloseButton:jn,getActions:ln,getConfirmButton:Wt,getDenyButton:kt,getCancelButton:mn,getLoader:Ot,getFooter:wn,getTimerProgressBar:In,getFocusableElements:zn,getValidationMessage:ht,isLoading:()=>Ue().hasAttribute("data-loading"),fire:function Ca(){const A=this;for(var M=arguments.length,W=new Array(M),ve=0;ve<M;ve++)W[ve]=arguments[ve];return new A(...W)},mixin:function Ia(A){return class M extends(this){_main(ve,rt){return super._main(ve,Object.assign({},A,rt))}}},showLoading:Br,enableLoading:Br,getTimerLeft:()=>Ve.timeout&&Ve.timeout.getTimerLeft(),stopTimer:ka,resumeTimer:Uo,toggleTimer:()=>{const A=Ve.timeout;return A&&(A.running?ka():Uo())},increaseTimer:A=>{if(Ve.timeout){const M=Ve.timeout.increase(A);return Gt(M,!0),M}},isTimerRunning:()=>Ve.timeout&&Ve.timeout.isRunning(),bindClickHandler:function Fa(){ci[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xr||(document.body.addEventListener("click",us),Xr=!0)}});let co;class di{constructor(){if("undefined"==typeof window)return;co=this;for(var M=arguments.length,W=new Array(M),ve=0;ve<M;ve++)W[ve]=arguments[ve];const rt=Object.freeze(this.constructor.argsToParams(W));Object.defineProperties(this,{params:{value:rt,writable:!1,enumerable:!0,configurable:!0}});const hn=this._main(this.params);sn.promise.set(this,hn)}_main(M){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(A=>{!A.backdrop&&A.allowOutsideClick&&X('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in A)Et(M),A.toast&&ie(M),se(M)})(Object.assign({},W,M)),Ve.currentInstance&&(Ve.currentInstance._destroy(),ar()&&Qn()),Ve.currentInstance=this;const ve=Qo(M,W);Vi(ve),Object.freeze(ve),Ve.timeout&&(Ve.timeout.stop(),delete Ve.timeout),clearTimeout(Ve.restoreFocusTimeout);const rt=Jo(this);return Zi(this,ve),sn.innerParams.set(this,ve),so(this,rt,ve)}then(M){return sn.promise.get(this).then(M)}finally(M){return sn.promise.get(this).finally(M)}}const so=(A,M,W)=>new Promise((ve,rt)=>{const hn=fr=>{A.closePopup({isDismissed:!0,dismiss:fr})};be.swalPromiseResolve.set(A,ve),be.swalPromiseReject.set(A,rt),M.confirmButton.onclick=()=>(A=>{const M=sn.innerParams.get(A);A.disableButtons(),M.input?vo(A,"confirm"):wo(A,!0)})(A),M.denyButton.onclick=()=>(A=>{const M=sn.innerParams.get(A);A.disableButtons(),M.returnInputValueOnDeny?vo(A,"deny"):_o(A,!1)})(A),M.cancelButton.onclick=()=>((A,M)=>{A.disableButtons(),M(Ki.cancel)})(A,hn),M.closeButton.onclick=()=>hn(Ki.close),((A,M,W)=>{sn.innerParams.get(A).toast?Yo(A,M,W):(Ra(M),Bo(M),si(A,M,W))})(A,M,hn),((A,M,W,ve)=>{Zn(M),W.toast||(M.keydownHandler=rt=>sr(A,rt,ve),M.keydownTarget=W.keydownListenerCapture?window:Ue(),M.keydownListenerCapture=W.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(A,Ve,W,hn),((A,M)=>{"select"===M.input||"radio"===M.input?zr(A,M):["text","email","number","tel","textarea"].includes(M.input)&&(Ne(M.inputValue)||pe(M.inputValue))&&(Br(Wt()),Bi(A,M))})(A,W),Is(W),ua(Ve,W,hn),ca(M,W),setTimeout(()=>{M.container.scrollTop=0})}),Qo=(A,M)=>{const W=(A=>{const M="string"==typeof A.template?document.querySelector(A.template):A.template;if(!M)return{};const W=M.content;return er(W),Object.assign(xe(W),Ie(W),$e(W),st(W),wt(W),Qt(W,Es))})(A),ve=Object.assign({},dt,M,W,A);return ve.showClass=Object.assign({},dt.showClass,ve.showClass),ve.hideClass=Object.assign({},dt.hideClass,ve.hideClass),ve},Jo=A=>{const M={popup:Ue(),container:oe(),actions:ln(),confirmButton:Wt(),denyButton:kt(),cancelButton:mn(),loader:Ot(),closeButton:jn(),validationMessage:ht(),progressSteps:Ct()};return sn.domCache.set(A,M),M},ua=(A,M,W)=>{const ve=In();Mt(ve),M.timer&&(A.timeout=new ss(()=>{W("timer"),delete A.timeout},M.timer),M.timerProgressBar&&(Tt(ve),rn(ve,M,"timerProgressBar"),setTimeout(()=>{A.timeout&&A.timeout.running&&Gt(M.timer)})))},ca=(A,M)=>{if(!M.toast){if(!Pe(M.allowEnterKey))return Io();dr(A,M)||An(0,-1,1)}},dr=(A,M)=>M.focusDeny&&yn(A.denyButton)?(A.denyButton.focus(),!0):M.focusCancel&&yn(A.cancelButton)?(A.cancelButton.focus(),!0):!(!M.focusConfirm||!yn(A.confirmButton)||(A.confirmButton.focus(),0)),Io=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(di.prototype,mo),Object.assign(di,zs),Object.keys(mo).forEach(A=>{di[A]=function(){if(co)return co[A](...arguments)}}),di.DismissReason=Ki,di.version="11.4.9";const Ms=di;return Ms.default=Ms,Ms}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ze,$){var y=ze.createElement("style");if(ze.getElementsByTagName("head")[0].appendChild(y),y.styleSheet)y.styleSheet.disabled||(y.styleSheet.cssText=$);else try{y.innerHTML=$}catch(S){y.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Nt,ze,$)=>{"use strict";function ae(de,oe){var me={};for(var ge in de)Object.prototype.hasOwnProperty.call(de,ge)&&oe.indexOf(ge)<0&&(me[ge]=de[ge]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ge=Object.getOwnPropertySymbols(de);Ue<ge.length;Ue++)oe.indexOf(ge[Ue])<0&&Object.prototype.propertyIsEnumerable.call(de,ge[Ue])&&(me[ge[Ue]]=de[ge[Ue]])}return me}function Pe(de,oe,me,ge){return new(me||(me=Promise))(function(je,qt){function Ft(ht){try{Ct(ge.next(ht))}catch(Wt){qt(Wt)}}function nn(ht){try{Ct(ge.throw(ht))}catch(Wt){qt(Wt)}}function Ct(ht){ht.done?je(ht.value):function Ue(je){return je instanceof me?je:new me(function(qt){qt(je)})}(ht.value).then(Ft,nn)}Ct((ge=ge.apply(de,oe||[])).next())})}function We(de){return this instanceof We?(this.v=de,this):new We(de)}function nt(de,oe,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ge=me.apply(de,oe||[]),je=[];return Ue={},qt("next"),qt("throw"),qt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function qt(kt){ge[kt]&&(Ue[kt]=function(Rn){return new Promise(function(Ot,mn){je.push([kt,Rn,Ot,mn])>1||Ft(kt,Rn)})})}function Ft(kt,Rn){try{!function nn(kt){kt.value instanceof We?Promise.resolve(kt.value.v).then(Ct,ht):Wt(je[0][2],kt)}(ge[kt](Rn))}catch(Ot){Wt(je[0][3],Ot)}}function Ct(kt){Ft("next",kt)}function ht(kt){Ft("throw",kt)}function Wt(kt,Rn){kt(Rn),je.shift(),je.length&&Ft(je[0][0],je[0][1])}}function Et(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,oe=de[Symbol.asyncIterator];return oe?oe.call(de):(de=function Oe(de){var oe="function"==typeof Symbol&&Symbol.iterator,me=oe&&de[oe],ge=0;if(me)return me.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ge>=de.length&&(de=void 0),{value:de&&de[ge++],done:!de}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),me={},ge("next"),ge("throw"),ge("return"),me[Symbol.asyncIterator]=function(){return this},me);function ge(je){me[je]=de[je]&&function(qt){return new Promise(function(Ft,nn){!function Ue(je,qt,Ft,nn){Promise.resolve(nn).then(function(Ct){je({value:Ct,done:Ft})},qt)}(Ft,nn,(qt=de[je](qt)).done,qt.value)})}}}$.d(ze,{FC:()=>nt,KL:()=>Et,_T:()=>ae,mG:()=>Pe,qq:()=>We})},1777:(Nt,ze,$)=>{"use strict";$.d(ze,{IO:()=>ot,LC:()=>S,SB:()=>Ne,X$:()=>ae,ZE:()=>At,ZN:()=>nt,_j:()=>y,eR:()=>pe,jt:()=>ce,k1:()=>Et,l3:()=>X,oB:()=>Pe,ru:()=>De,vP:()=>Le});class y{}class S{}const X="*";function ae(ie,se){return{type:7,name:ie,definitions:se,options:{}}}function ce(ie,se=null){return{type:4,styles:se,timings:ie}}function De(ie,se=null){return{type:3,steps:ie,options:se}}function Le(ie,se=null){return{type:2,steps:ie,options:se}}function Pe(ie){return{type:6,styles:ie,offset:null}}function Ne(ie,se,Be){return{type:0,name:ie,styles:se,options:Be}}function pe(ie,se,Be=null){return{type:1,expr:ie,animation:se,options:Be}}function ot(ie,se,Be=null){return{type:11,selector:ie,animation:se,options:Be}}function We(ie){Promise.resolve(null).then(ie)}class nt{constructor(se=0,Be=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=se+Be}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}onStart(se){this._onStartFns.push(se)}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){We(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(se=>se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(se){this._position=this.totalTime?se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(se){const Be="start"==se?this._onStartFns:this._onDoneFns;Be.forEach(qe=>qe()),Be.length=0}}class At{constructor(se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=se;let Be=0,qe=0,Ke=0;const ne=this.players.length;0==ne?We(()=>this._onFinish()):this.players.forEach(de=>{de.onDone(()=>{++Be==ne&&this._onFinish()}),de.onDestroy(()=>{++qe==ne&&this._onDestroy()}),de.onStart(()=>{++Ke==ne&&this._onStart()})}),this.totalTime=this.players.reduce((de,oe)=>Math.max(de,oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(se=>se()),this._onDoneFns=[])}init(){this.players.forEach(se=>se.init())}onStart(se){this._onStartFns.push(se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(se=>se()),this._onStartFns=[])}onDone(se){this._onDoneFns.push(se)}onDestroy(se){this._onDestroyFns.push(se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(se=>se.play())}pause(){this.players.forEach(se=>se.pause())}restart(){this.players.forEach(se=>se.restart())}finish(){this._onFinish(),this.players.forEach(se=>se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(se=>se.destroy()),this._onDestroyFns.forEach(se=>se()),this._onDestroyFns=[])}reset(){this.players.forEach(se=>se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(se){const Be=se*this.totalTime;this.players.forEach(qe=>{const Ke=qe.totalTime?Math.min(1,Be/qe.totalTime):1;qe.setPosition(Ke)})}getPosition(){const se=this.players.reduce((Be,qe)=>null===Be||qe.totalTime>Be.totalTime?qe:Be,null);return null!=se?se.getPosition():0}beforeDestroy(){this.players.forEach(se=>{se.beforeDestroy&&se.beforeDestroy()})}triggerCallback(se){const Be="start"==se?this._onStartFns:this._onDoneFns;Be.forEach(qe=>qe()),Be.length=0}}const Et="!"},9808:(Nt,ze,$)=>{"use strict";$.d(ze,{Do:()=>ie,EM:()=>as,HT:()=>ce,JF:()=>rr,K0:()=>Le,Mx:()=>ui,O5:()=>Rr,PM:()=>kr,S$:()=>We,V_:()=>he,Ye:()=>se,b0:()=>Et,bD:()=>Wr,ez:()=>Is,lw:()=>Pe,mr:()=>At,q:()=>X,sg:()=>Pr,w_:()=>De});var y=$(5e3);let S=null;function X(){return S}function ce(V){S||(S=V)}class De{}const Le=new y.OlP("DocumentToken");let Pe=(()=>{class V{historyGo(L){throw new Error("Not implemented")}}return V.\u0275fac=function(L){return new(L||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Ne(){return(0,y.LFG)(pe)}()},providedIn:"platform"}),V})();const he=new y.OlP("Location Initialized");let pe=(()=>{class V extends Pe{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(L){const ee=X().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",L,!1),()=>ee.removeEventListener("popstate",L)}onHashChange(L){const ee=X().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",L,!1),()=>ee.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,ee,be){Oe()?this._history.pushState(L,ee,be):this.location.hash=be}replaceState(L,ee,be){Oe()?this._history.replaceState(L,ee,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return V.\u0275fac=function(L){return new(L||V)(y.LFG(Le))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function dt(){return new pe((0,y.LFG)(Le))}()},providedIn:"platform"}),V})();function Oe(){return!!window.history.pushState}function Qe(V,Z){if(0==V.length)return Z;if(0==Z.length)return V;let L=0;return V.endsWith("/")&&L++,Z.startsWith("/")&&L++,2==L?V+Z.substring(1):1==L?V+Z:V+"/"+Z}function ot(V){const Z=V.match(/#|\?|$/),L=Z&&Z.index||V.length;return V.slice(0,L-("/"===V[L-1]?1:0))+V.slice(L)}function ft(V){return V&&"?"!==V[0]?"?"+V:V}let We=(()=>{class V{historyGo(L){throw new Error("Not implemented")}}return V.\u0275fac=function(L){return new(L||V)},V.\u0275prov=y.Yz7({token:V,factory:function(){return function nt(V){const Z=(0,y.LFG)(Le).location;return new Et((0,y.LFG)(Pe),Z&&Z.origin||"")}()},providedIn:"root"}),V})();const At=new y.OlP("appBaseHref");let Et=(()=>{class V extends We{constructor(L,ee){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==ee&&(ee=this._platformLocation.getBaseHrefFromDOM()),null==ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Qe(this._baseHref,L)}path(L=!1){const ee=this._platformLocation.pathname+ft(this._platformLocation.search),be=this._platformLocation.hash;return be&&L?`${ee}${be}`:ee}pushState(L,ee,be,Je){const Xe=this.prepareExternalUrl(be+ft(Je));this._platformLocation.pushState(L,ee,Xe)}replaceState(L,ee,be,Je){const Xe=this.prepareExternalUrl(be+ft(Je));this._platformLocation.replaceState(L,ee,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ee,be;null===(be=(ee=this._platformLocation).historyGo)||void 0===be||be.call(ee,L)}}return V.\u0275fac=function(L){return new(L||V)(y.LFG(Pe),y.LFG(At,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),ie=(()=>{class V extends We{constructor(L,ee){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(L){const ee=Qe(this._baseHref,L);return ee.length>0?"#"+ee:ee}pushState(L,ee,be,Je){let Xe=this.prepareExternalUrl(be+ft(Je));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.pushState(L,ee,Xe)}replaceState(L,ee,be,Je){let Xe=this.prepareExternalUrl(be+ft(Je));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.replaceState(L,ee,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var ee,be;null===(be=(ee=this._platformLocation).historyGo)||void 0===be||be.call(ee,L)}}return V.\u0275fac=function(L){return new(L||V)(y.LFG(Pe),y.LFG(At,8))},V.\u0275prov=y.Yz7({token:V,factory:V.\u0275fac}),V})(),se=(()=>{class V{constructor(L,ee){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const be=this._platformStrategy.getBaseHref();this._platformLocation=ee,this._baseHref=ot(Ke(be)),this._platformStrategy.onPopState(Je=>{this._subject.emit({url:this.path(!0),pop:!0,state:Je.state,type:Je.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,ee=""){return this.path()==this.normalize(L+ft(ee))}normalize(L){return V.stripTrailingSlash(function qe(V,Z){return V&&Z.startsWith(V)?Z.substring(V.length):Z}(this._baseHref,Ke(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,ee="",be=null){this._platformStrategy.pushState(be,"",L,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ft(ee)),be)}replaceState(L,ee="",be=null){this._platformStrategy.replaceState(be,"",L,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ft(ee)),be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var ee,be;null===(be=(ee=this._platformStrategy).historyGo)||void 0===be||be.call(ee,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)}))}_notifyUrlChangeListeners(L="",ee){this._urlChangeListeners.forEach(be=>be(L,ee))}subscribe(L,ee,be){return this._subject.subscribe({next:L,error:ee,complete:be})}}return V.normalizeQueryParams=ft,V.joinWithSlash=Qe,V.stripTrailingSlash=ot,V.\u0275fac=function(L){return new(L||V)(y.LFG(We),y.LFG(Pe))},V.\u0275prov=y.Yz7({token:V,factory:function(){return function Be(){return new se((0,y.LFG)(We),(0,y.LFG)(Pe))}()},providedIn:"root"}),V})();function Ke(V){return V.replace(/\/index.html$/,"")}function ui(V,Z){Z=encodeURIComponent(Z);for(const L of V.split(";")){const ee=L.indexOf("="),[be,Je]=-1==ee?[L,""]:[L.slice(0,ee),L.slice(ee+1)];if(be.trim()===Z)return decodeURIComponent(Je)}return null}class Kr{constructor(Z,L,ee,be){this.$implicit=Z,this.ngForOf=L,this.index=ee,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pr=(()=>{class V{constructor(L,ee,be){this._viewContainer=L,this._template=ee,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ee=this._viewContainer;L.forEachOperation((be,Je,Xe)=>{if(null==be.previousIndex)ee.createEmbeddedView(this._template,new Kr(be.item,this._ngForOf,-1,-1),null===Xe?void 0:Xe);else if(null==Xe)ee.remove(null===Je?void 0:Je);else if(null!==Je){const bt=ee.get(Je);ee.move(bt,Xe),br(bt,be)}});for(let be=0,Je=ee.length;be<Je;be++){const bt=ee.get(be).context;bt.index=be,bt.count=Je,bt.ngForOf=this._ngForOf}L.forEachIdentityChange(be=>{br(ee.get(be.currentIndex),be)})}static ngTemplateContextGuard(L,ee){return!0}}return V.\u0275fac=function(L){return new(L||V)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function br(V,Z){V.context.$implicit=Z.item}let Rr=(()=>{class V{constructor(L,ee){this._viewContainer=L,this._context=new Yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){hs("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){hs("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ee){return!0}}return V.\u0275fac=function(L){return new(L||V)(y.Y36(y.s_b),y.Y36(y.Rgc))},V.\u0275dir=y.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class Yn{constructor(){this.$implicit=null,this.ngIf=null}}function hs(V,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,y.AaK)(Z)}'.`)}let Is=(()=>{class V{}return V.\u0275fac=function(L){return new(L||V)},V.\u0275mod=y.oAB({type:V}),V.\u0275inj=y.cJS({}),V})();const Wr="browser";function kr(V){return"server"===V}let as=(()=>{class V{}return V.\u0275prov=(0,y.Yz7)({token:V,providedIn:"root",factory:()=>new wi((0,y.LFG)(Le),window)}),V})();class wi{constructor(Z,L){this.document=Z,this.window=L,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const L=function Bi(V,Z){const L=V.getElementById(Z)||V.getElementsByName(Z)[0];if(L)return L;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ee=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let be=ee.currentNode;for(;be;){const Je=be.shadowRoot;if(Je){const Xe=Je.getElementById(Z)||Je.querySelector(`[name="${Z}"]`);if(Xe)return Xe}be=ee.nextNode()}}return null}(this.document,Z);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Z)}}scrollToElement(Z){const L=Z.getBoundingClientRect(),ee=L.left+this.window.pageXOffset,be=L.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(ee-Je[0],be-Je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=zr(this.window.history)||zr(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function zr(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class rr{}},5e3:(Nt,ze,$)=>{"use strict";$.d(ze,{$8M:()=>Ci,$Z:()=>Bm,AFp:()=>uw,ALo:()=>P0,AaK:()=>Pe,BQk:()=>cf,CHM:()=>$t,CRH:()=>H0,CZH:()=>m_,CqO:()=>Hm,DdM:()=>T0,EJc:()=>mE,EiD:()=>$l,EpF:()=>jm,F$t:()=>$m,F4k:()=>Cv,FYo:()=>y0,FiY:()=>Wo,G48:()=>BE,Gf:()=>U0,GfV:()=>v0,Gpc:()=>pe,Hsn:()=>Jp,JOm:()=>it,JVY:()=>nh,L6k:()=>Bl,LAX:()=>rh,LFG:()=>fn,LSH:()=>mi,Lbi:()=>fE,MAs:()=>rf,NdJ:()=>Yp,OlP:()=>zt,Oqu:()=>gf,PXZ:()=>OE,Q6J:()=>Wp,QGY:()=>Kp,Qsj:()=>cb,R0b:()=>Pl,RDi:()=>zr,Rgc:()=>Mg,SBq:()=>Dg,Sil:()=>vE,Suo:()=>j0,TTD:()=>gs,TgZ:()=>Zp,Tol:()=>Ol,Udp:()=>lg,VLi:()=>SE,X6Q:()=>VE,XFs:()=>St,Xpm:()=>Ht,Y36:()=>tc,YKP:()=>E0,YNc:()=>Pm,Yjl:()=>re,Yz7:()=>Ot,ZZ4:()=>M_,_Bn:()=>p0,_UZ:()=>uf,_Vd:()=>_y,_c5:()=>tC,_uU:()=>Jm,aQg:()=>x_,c2e:()=>pE,cJS:()=>ln,cg1:()=>vf,d8E:()=>_g,dDg:()=>gw,deG:()=>da,dqk:()=>yn,eBb:()=>Nf,eFA:()=>yw,ekj:()=>pf,evT:()=>cd,g9A:()=>dw,h0i:()=>Df,hGG:()=>nC,hij:()=>Za,iGM:()=>B0,ifc:()=>Dt,ip1:()=>lw,kL8:()=>Zc,lG2:()=>_e,lcZ:()=>N0,mCW:()=>Xa,n5z:()=>Mr,oAB:()=>Fe,oJD:()=>Gl,oxw:()=>Vd,pB0:()=>rd,q3G:()=>or,q4F:()=>_0,qLn:()=>Ti,qOj:()=>Ap,qZA:()=>ws,qzn:()=>gl,sBO:()=>UE,sIi:()=>Ju,s_b:()=>Ey,soG:()=>v_,tBr:()=>Zs,tb:()=>hw,tp0:()=>ea,uIk:()=>tf,vHH:()=>ot,vpe:()=>vu,wAp:()=>Bn,xp6:()=>zf,yhl:()=>hc,ynx:()=>Ld,z2F:()=>C_,z3N:()=>_a,zSh:()=>pp,zs3:()=>al});var y=$(7579),S=$(727),X=$(8306),ae=$(6451),ce=$(3099);function De(n){for(let r in n)if(n[r]===De)return r;throw Error("Could not find renamed property on target object.")}function Le(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const he=De({__forward_ref__:De});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return Pe(this())},n}function Oe(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===pe}class ot extends Error{constructor(r,s){super(function ft(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function We(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}function se(n,r){const s=r?` in ${r}`:"";throw new ot(-201,`No provider for ${nt(n)} found${s}`)}function Ct(n,r){null==n&&function ht(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function wn(n){return In(n,ar)||In(n,Ar)}function In(n,r){return n.hasOwnProperty(r)?n[r]:null}function zn(n){return n&&(n.hasOwnProperty(Tn)||n.hasOwnProperty(Vn))?n[Tn]:null}const ar=De({\u0275prov:De}),Tn=De({\u0275inj:De}),Ar=De({ngInjectableDef:De}),Vn=De({ngInjectorDef:De});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let Yt;function rn(n){const r=Yt;return Yt=n,r}function Sr(n,r,s){const a=wn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&St.Optional?null:void 0!==r?r:void se(Pe(n),"Injector")}function tr(n){return{toString:n}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),Dt=(()=>{return(n=Dt||(Dt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Dt;var n})();const Tt="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yn=Tt||"undefined"!=typeof global&&global||Mt||ur,qn={},Gt=[],vr=De({\u0275cmp:De}),Dn=De({\u0275dir:De}),Lt=De({\u0275pipe:De}),Ve=De({\u0275mod:De}),xt=De({\u0275fac:De}),Xt=De({__NG_ELEMENT_ID__:De});let En=0;function Ht(n){return tr(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Dt.Emulated,id:"c",styles:n.styles||Gt,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,g=n.features,E=n.pipes;return a.id+=En++,a.inputs=Ee(n.inputs,s),a.outputs=Ee(n.outputs),g&&g.forEach(D=>D(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(ue):null,a.pipeDefs=E?()=>("function"==typeof E?E():E).map(Ce):null,a})}function ue(n){return Se(n)||function tt(n){return n[Dn]||null}(n)}function Ce(n){return function mt(n){return n[Lt]||null}(n)}const Ye={};function Fe(n){return tr(()=>{const r={type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ye[n.id]=n.type),r})}function Ee(n,r){if(null==n)return qn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],g=u;Array.isArray(u)&&(g=u[1],u=u[0]),s[u]=a,r&&(r[u]=g)}return s}const _e=Ht;function re(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Se(n){return n[vr]||null}function en(n,r){const s=n[Ve]||null;if(!s&&!0===r)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return s}function ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function Vr(n){return Array.isArray(n)&&!0===n[1]}function fs(n){return 0!=(8&n.flags)}function fi(n){return 2==(2&n.flags)}function ps(n){return 1==(1&n.flags)}function yi(n){return null!==n.template}function Zi(n){return 0!=(512&n[2])}function ni(n,r){return n.hasOwnProperty(xt)?n[xt]:null}class Rs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function gs(){return Yi}function Yi(n){return n.type.prototype.ngOnChanges&&(n.setInput=os),Bs}function Bs(){const n=Wr(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===qn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function os(n,r,s,a){const u=Wr(n)||function pi(n,r){return n[Is]=r}(n,{previous:qn,current:null}),g=u.current||(u.current={}),E=u.previous,D=this.declaredInputs[s],O=E[D];g[D]=new Rs(O&&O.currentValue,r,E===qn),n[a]=r}gs.ngInherit=!0;const Is="__ngSimpleChanges__";function Wr(n){return n[Is]||null}let wi;function zr(n){wi=n}function Bi(){return void 0!==wi?wi:"undefined"!=typeof document?document:void 0}function rr(n){return!!n.listen}const V={createRenderer:(n,r)=>Bi()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function Je(n,r){return L(r[n])}function Xe(n,r){return L(r[n.index])}function $n(n,r){return n.data[r]}function Zn(n,r){return n[r]}function Cn(n,r){const s=r[n];return ti(s)?s:s[0]}function An(n){return 4==(4&n[2])}function Dr(n){return 128==(128&n[2])}function sr(n,r){return null==r?null:n[r]}function Qi(n){n[18]=0}function gi(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const cn={lFrame:$s(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function B(){return cn.bindingsEnabled}function H(){return cn.lFrame.lView}function He(){return cn.lFrame.tView}function $t(n){return cn.lFrame.contextLView=n,n[8]}function vn(){let n=ri();for(;null!==n&&64===n.type;)n=n.parent;return n}function ri(){return cn.lFrame.currentTNode}function Qr(n,r){const s=cn.lFrame;s.currentTNode=n,s.isParent=r}function to(){return cn.lFrame.isParent}function As(){cn.lFrame.isParent=!1}function Lo(){return cn.isInCheckNoChangesMode}function no(n){cn.isInCheckNoChangesMode=n}function Ei(){const n=cn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ms(){return cn.lFrame.bindingIndex++}function Oi(n){const r=cn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function mo(n,r){const s=cn.lFrame;s.bindingIndex=s.bindingRootIndex=n,yo(r)}function yo(n){cn.lFrame.currentDirectiveIndex=n}function Vo(n){const r=cn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function vo(){return cn.lFrame.currentQueryIndex}function Ea(n){cn.lFrame.currentQueryIndex=n}function _o(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function ho(n,r,s){if(s&St.SkipSelf){let u=r,g=n;for(;!(u=u.parent,null!==u||s&St.Host||(u=_o(g),null===u||(g=g[15],10&u.type))););if(null===u)return!1;r=u,n=g}const a=cn.lFrame=wo();return a.currentTNode=r,a.lView=n,!0}function Hs(n){const r=wo(),s=n[1];cn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function wo(){const n=cn.lFrame,r=null===n?null:n.child;return null===r?$s(n):r}function $s(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Yo(){const n=cn.lFrame;return cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fs=Yo;function io(){const n=Yo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function si(){return cn.lFrame.selectedIndex}function Gs(n){cn.lFrame.selectedIndex=n}function qr(){const n=cn.lFrame;return $n(n.tView,n.selectedIndex)}function ls(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const g=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:D,ngAfterViewInit:O,ngAfterViewChecked:q,ngOnDestroy:Q}=g;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),D&&((n.contentHooks||(n.contentHooks=[])).push(s,D),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,D)),O&&(n.viewHooks||(n.viewHooks=[])).push(-s,O),q&&((n.viewHooks||(n.viewHooks=[])).push(s,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,q)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,Q)}}function Ss(n,r,s){ci(n,r,3,s)}function Co(n,r,s,a){(3&n[2])===s&&ci(n,r,s,a)}function Xr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ci(n,r,s,a){const g=null!=a?a:-1,E=r.length-1;let D=0;for(let O=void 0!==a?65535&n[18]:0;O<E;O++)if("number"==typeof r[O+1]){if(D=r[O],null!=a&&D>=a)break}else r[O]<0&&(n[18]+=65536),(D<g||-1==g)&&(Fa(n,s,r,O),n[18]=(4294901760&n[18])+O+2),O++}function Fa(n,r,s,a){const u=s[a]<0,g=s[a+1],D=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class zs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Io(n,r,s){const a=rr(n);let u=0;for(;u<s.length;){const g=s[u];if("number"==typeof g){if(0!==g)break;u++;const E=s[u++],D=s[u++],O=s[u++];a?n.setAttribute(r,D,O,E):r.setAttributeNS(E,D,O)}else{const E=g,D=s[++u];A(E)?a&&n.setProperty(r,E,D):a?n.setAttribute(r,E,D):r.setAttribute(E,D),u++}}return u}function Ms(n){return 3===n||4===n||6===n}function A(n){return 64===n.charCodeAt(0)}function M(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||W(n,s,u,null,-1===s||2===s?r[++a]:null)}}return n}function W(n,r,s,a,u){let g=0,E=n.length;if(-1===r)E=-1;else for(;g<n.length;){const D=n[g++];if("number"==typeof D){if(D===r){E=-1;break}if(D>r){E=g-1;break}}}for(;g<n.length;){const D=n[g];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==u&&(n[g+1]=u));if(a===n[g+1])return void(n[g+2]=u)}g++,null!==a&&g++,null!==u&&g++}-1!==E&&(n.splice(E,0,r),g=E+1),n.splice(g++,0,s),null!==a&&n.splice(g++,0,a),null!==u&&n.splice(g++,0,u)}function ve(n){return-1!==n}function rt(n){return 32767&n}function fr(n,r){let s=function hn(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let $i=!0;function Fr(n){const r=$i;return $i=n,r}let Do=0;function To(n,r){const s=v(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,k(a.data,n),k(r,null),k(a.blueprint,null));const u=_(n,r),g=n.injectorIndex;if(ve(u)){const E=rt(u),D=fr(u,r),O=D[1].data;for(let q=0;q<8;q++)r[g+q]=D[E+q]|O[E+q]}return r[g+8]=u,g}function k(n,r){n.push(0,0,0,0,0,0,0,0,r)}function v(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function _(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){const g=u[1],E=g.type;if(a=2===E?g.declTNode:1===E?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function c(n,r,s){!function xs(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xt)&&(a=s[Xt]),null==a&&(a=s[Xt]=Do++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,s)}function f(n,r,s){if(s&St.Optional)return n;se(r,"NodeInjector")}function C(n,r,s,a){if(s&St.Optional&&void 0===a&&(a=null),0==(s&(St.Self|St.Host))){const u=n[9],g=rn(void 0);try{return u?u.get(r,a,s&St.Optional):Sr(r,a,s&St.Optional)}finally{rn(g)}}return f(a,r,s)}function T(n,r,s,a=St.Default,u){if(null!==n){const g=function Vt(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Xt)?n[Xt]:void 0;return"number"==typeof r?r>=0?255&r:U:r}(s);if("function"==typeof g){if(!ho(r,n,a))return a&St.Host?f(u,s,a):C(r,s,a,u);try{const E=g(a);if(null!=E||a&St.Optional)return E;se(s)}finally{Fs()}}else if("number"==typeof g){let E=null,D=v(n,r),O=-1,q=a&St.Host?r[16][6]:null;for((-1===D||a&St.SkipSelf)&&(O=-1===D?_(n,r):r[D+8],-1!==O&&jt(a,!1)?(E=r[1],D=rt(O),r=fr(O,r)):D=-1);-1!==D;){const Q=r[1];if(ct(g,D,Q.data)){const le=K(D,r,s,E,a,q);if(le!==P)return le}O=r[D+8],-1!==O&&jt(a,r[1].data[D+8]===q)&&ct(g,D,r)?(E=Q,D=rt(O),r=fr(O,r)):D=-1}}}return C(r,s,a,u)}const P={};function U(){return new tn(vn(),H())}function K(n,r,s,a,u,g){const E=r[1],D=E.data[n+8],Q=Ae(D,E,s,null==a?fi(D)&&$i:a!=E&&0!=(3&D.type),u&St.Host&&g===D);return null!==Q?lt(r,E,Q,D):P}function Ae(n,r,s,a,u){const g=n.providerIndexes,E=r.data,D=1048575&g,O=n.directiveStart,Q=g>>20,Te=u?D+Q:n.directiveEnd;for(let Ge=a?D:D+Q;Ge<Te;Ge++){const ut=E[Ge];if(Ge<O&&s===ut||Ge>=O&&ut.type===s)return Ge}if(u){const Ge=E[O];if(Ge&&yi(Ge)&&Ge.type===s)return O}return null}function lt(n,r,s,a){let u=n[s];const g=r.data;if(function co(n){return n instanceof zs}(u)){const E=u;E.resolving&&function At(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${s}`)}(nt(g[s]));const D=Fr(E.canSeeViewProviders);E.resolving=!0;const O=E.injectImpl?rn(E.injectImpl):null;ho(n,a,St.Default);try{u=n[s]=E.factory(void 0,g,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Uo(n,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:g}=r.type.prototype;if(a){const E=Yi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g))}(s,g[s],r)}finally{null!==O&&rn(O),Fr(D),E.resolving=!1,Fs()}}return u}function ct(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function jt(n,r){return!(n&St.Self||n&St.Host&&r)}class tn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return T(this._tNode,this._lView,r,a,s)}}function Mr(n){return tr(()=>{const r=n.prototype.constructor,s=r[xt]||Tr(r),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const g=u[xt]||Tr(u);if(g&&g!==s)return g;u=Object.getPrototypeOf(u)}return g=>new g})}function Tr(n){return dt(n)?()=>{const r=Tr(Oe(n));return r&&r()}:ni(n)}function Ci(n){return function p(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const g=s[u];if(Ms(g))break;if(0===g)u+=2;else if("number"==typeof g)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(g===r)return s[u+1];u+=2}}}return null}(vn(),n)}const Ur="__parameters__";function Ji(n,r,s){return tr(()=>{const a=function Sn(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...g){if(this instanceof u)return a.apply(this,g),this;const E=new u(...g);return D.annotation=E,D;function D(O,q,Q){const le=O.hasOwnProperty(Ur)?O[Ur]:Object.defineProperty(O,Ur,{value:[]})[Ur];for(;le.length<=Q;)le.push(null);return(le[Q]=le[Q]||[]).push(E),O}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class zt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ot({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const da=new zt("AnalyzeForEntryComponents");function xr(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),xr(a,r)):r!==n&&r.push(a)}return r}function Xi(n,r){n.forEach(s=>Array.isArray(s)?Xi(s,r):r(s))}function ao(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function qs(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ri(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function ys(n,r,s){let a=Xo(n,r);return a>=0?n[1|a]=s:(a=~a,function kl(n,r,s,a){let u=n.length;if(u==r)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function zo(n,r){const s=Xo(n,r);if(s>=0)return n[1|s]}function Xo(n,r){return function Ta(n,r,s){let a=0,u=n.length>>s;for(;u!==a;){const g=a+(u-a>>1),E=n[g<<s];if(r===E)return g<<s;E>r?u=g:a=g+1}return~(u<<s)}(n,r,1)}const Aa={},hl="__NG_DI_FLAG__",Eu="ngTempTokenPath",j=/\n/gm,ye="__source",Re=De({provide:String,useValue:De});let Ze;function It(n){const r=Ze;return Ze=n,r}function Jt(n,r=St.Default){if(void 0===Ze)throw new ot(203,"");return null===Ze?Sr(n,void 0,r):Ze.get(n,r&St.Optional?null:void 0,r)}function fn(n,r=St.Default){return(function xn(){return Yt}()||Jt)(Oe(n),r)}const Er=fn;function Gn(n){const r=[];for(let s=0;s<n.length;s++){const a=Oe(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ot(900,"");let u,g=St.Default;for(let E=0;E<a.length;E++){const D=a[E],O=cs(D);"number"==typeof O?-1===O?u=D.token:g|=O:u=D}r.push(fn(u,g))}else r.push(fn(a))}return r}function hi(n,r){return n[hl]=r,n.prototype[hl]=r,n}function cs(n){return n[hl]}const Zs=hi(Ji("Inject",n=>({token:n})),-1),Wo=hi(Ji("Optional"),8),ea=hi(Ji("SkipSelf"),4);let ta,Vl;function ya(n){var r;return(null===(r=function lc(){if(void 0===ta&&(ta=null,yn.trustedTypes))try{ta=yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ta}())||void 0===r?void 0:r.createHTML(n))||n}function pl(n){var r;return(null===(r=function Au(){if(void 0===Vl&&(Vl=null,yn.trustedTypes))try{Vl=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vl}())||void 0===r?void 0:r.createHTML(n))||n}class va{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class eh extends va{getTypeName(){return"HTML"}}class td extends va{getTypeName(){return"Style"}}class nd extends va{getTypeName(){return"Script"}}class dc extends va{getTypeName(){return"URL"}}class th extends va{getTypeName(){return"ResourceURL"}}function _a(n){return n instanceof va?n.changingThisBreaksApplicationSecurity:n}function gl(n,r){const s=hc(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function hc(n){return n instanceof va&&n.getTypeName()||null}function nh(n){return new eh(n)}function Bl(n){return new td(n)}function Nf(n){return new nd(n)}function rh(n){return new dc(n)}function rd(n){return new th(n)}class yl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(ya(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class ih{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=ya(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=ya(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let u=s.length-1;0<u;u--){const E=s.item(u).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Ja=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xa(n){return(n=String(n)).match(Ja)||n.match(sh)?n:"unsafe:"+n}function na(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Mu(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const vs=na("area,br,col,hr,img,wbr"),vl=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xu=na("rp,rt"),pc=Mu(vs,Mu(vl,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mu(xu,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mu(xu,vl)),gc=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_l=na("srcset"),Ou=Mu(gc,_l,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ah=na("script,style,template");class Pu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!pc.hasOwnProperty(s))return this.sanitizedSomething=!0,!ah.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let u=0;u<a.length;u++){const g=a.item(u),E=g.name,D=E.toLowerCase();if(!Ou.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let O=g.value;gc[D]&&(O=Xa(O)),_l[D]&&(n=O,O=(n=String(n)).split(",").map(r=>Xa(r.trim())).join(", ")),this.buf.push(" ",E,'="',_s(O),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();pc.hasOwnProperty(s)&&!vs.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(_s(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,id=/([^\#-~ |!])/g;function _s(n){return n.replace(/&/g,"&amp;").replace(Nu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(id,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cr;function $l(n,r){let s=null;try{Cr=Cr||function ml(n){const r=new ih(n);return function Ul(){try{return!!(new window.DOMParser).parseFromString(ya(""),"text/html")}catch(n){return!1}}()?new yl(r):r}(n);let a=r?String(r):"";s=Cr.getInertBodyElement(a);let u=5,g=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=g,g=s.innerHTML,s=Cr.getInertBodyElement(a)}while(a!==g);return ya((new Pu).sanitizeChildren(mc(s)||s))}finally{if(s){const a=mc(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function mc(n){return"content"in n&&function el(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function Gl(n){const r=Ru();return r?pl(r.sanitize(or.HTML,n)||""):gl(n,"HTML")?pl(_a(n)):$l(Bi(),We(n))}function mi(n){const r=Ru();return r?r.sanitize(or.URL,n)||"":gl(n,"URL")?_a(n):Xa(We(n))}function Ru(){const n=H();return n&&n[12]}const bl="__ngContext__";function Ps(n,r){n[bl]=r}function _c(n){const r=function Sa(n){return n[bl]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Vu(n){return n.ngOriginalError}function Wl(n,...r){n.error(...r)}class Ti{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function fh(n){return n&&n.ngErrorLogger||Wl}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Vu(r);for(;s&&Vu(s);)s=Vu(s);return s||null}}const kf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function cd(n){return n.ownerDocument}function m(n){return n instanceof Function?n():n}var it=(()=>((it=it||{})[it.Important=1]="Important",it[it.DashCase=2]="DashCase",it))();function pn(n,r){return undefined(n,r)}function es(n){const r=n[3];return Vr(r)?r[3]:r}function ju(n){return Ec(n[13])}function tl(n){return Ec(n[4])}function Ec(n){for(;null!==n&&!Vr(n);)n=n[4];return n}function nl(n,r,s,a,u){if(null!=a){let g,E=!1;Vr(a)?g=a:ti(a)&&(E=!0,a=a[0]);const D=L(a);0===n&&null!==s?null==u?at(r,s,D):Kl(r,s,D,u||null,!0):1===n&&null!==s?Kl(r,s,D,u||null,!0):2===n?function bh(n,r,s){const a=yh(n,r);a&&function Ba(n,r,s,a){rr(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,D,E):3===n&&r.destroyNode(D),null!=g&&function Eh(n,r,s,a,u){const g=s[7];g!==L(s)&&nl(r,n,a,g,u);for(let D=10;D<s.length;D++){const O=s[D];Dc(O[1],O,n,r,a,g)}}(r,n,g,s,u)}}function Ic(n,r,s){if(rr(n))return n.createElement(r,s);{const a=null!==s?function as(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Rg(n,r){const s=n[9],a=s.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,gi(u,-1)),s.splice(a,1)}function Bf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&Rg(u,a),r>0&&(n[s-1][4]=a[4]);const g=qs(n,10+r);!function Lf(n,r){Dc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const E=g[19];null!==E&&E.detachView(g[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function kg(n,r){if(!(256&r[2])){const s=r[11];rr(s)&&s.destroyNode&&Dc(n,r,s,3,null,null),function Sy(n){let r=n[13];if(!r)return mh(n[1],n);for(;r;){let s=null;if(ti(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)ti(r)&&mh(r[1],r),r=r[3];null===r&&(r=n),ti(r)&&mh(r[1],r),s=r&&r[4]}r=s}}(r)}}function mh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Fg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof zs)){const g=s[a+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const D=u[g[E]],O=g[E+1];try{O.call(D)}finally{}}else try{g.call(u)}finally{}}}}(n,r),function Oy(n,r){const s=n.cleanup,a=r[7];let u=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const E=s[g+1],D="function"==typeof E?E(r):L(r[E]),O=a[u=s[g+2]],q=s[g+3];"boolean"==typeof q?D.removeEventListener(s[g],O,q):q>=0?a[u=q]():a[u=-q].unsubscribe(),g+=2}else{const E=a[u=s[g+1]];s[g].call(E)}if(null!==a){for(let g=u+1;g<a.length;g++)a[g]();r[7]=null}}(n,r),1===r[1].type&&rr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Vr(r[3])){s!==r[3]&&Rg(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Lg(n,r,s){return function Uf(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===Dt.None||u===Dt.Emulated)return null}return Xe(a,s)}(n,r.parent,s)}function Kl(n,r,s,a,u){rr(n)?n.insertBefore(r,s,a,u):r.insertBefore(s,a,u)}function at(n,r,s){rr(n)?n.appendChild(r,s):r.appendChild(s)}function pd(n,r,s,a,u){null!==a?Kl(n,r,s,a,u):at(n,r,s)}function yh(n,r){return rr(n)?n.parentNode(r):r.parentNode}function Yl(n,r,s){return Ql(n,r,s)}let Ql=function Vg(n,r,s){return 40&n.type?Xe(n,s):null};function md(n,r,s,a){const u=Lg(n,a,r),g=r[11],D=Yl(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let O=0;O<s.length;O++)pd(g,u,s[O],D,!1);else pd(g,u,s,D,!1)}function Ls(n,r){if(null!==r){const s=r.type;if(3&s)return Xe(r,n);if(4&s)return yd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Ls(n,a);{const u=n[r.index];return Vr(u)?yd(-1,u):L(u)}}if(32&s)return pn(r,n)()||L(n[r.index]);{const a=wh(n,r);return null!==a?Array.isArray(a)?a[0]:Ls(es(n[16]),a):Ls(n,r.next)}}return null}function wh(n,r){return null!==r?n[16][6].projection[r.projection]:null}function yd(n,r){const s=10+n+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Ls(a,u)}return r[7]}function rl(n,r,s,a,u,g,E){for(;null!=s;){const D=a[s.index],O=s.type;if(E&&0===r&&(D&&Ps(L(D),a),s.flags|=4),64!=(64&s.flags))if(8&O)rl(n,r,s.child,a,u,g,!1),nl(r,n,u,D,g);else if(32&O){const q=pn(s,a);let Q;for(;Q=q();)nl(r,n,u,Q,g);nl(r,n,u,D,g)}else 16&O?jf(n,r,a,s,u,g):nl(r,n,u,D,g);s=E?s.projectionNext:s.next}}function Dc(n,r,s,a,u,g){rl(s,a,n.firstChild,r,u,g,!1)}function jf(n,r,s,a,u,g){const E=s[16],O=E[6].projection[a.projection];if(Array.isArray(O))for(let q=0;q<O.length;q++)nl(r,n,u,O[q],g);else rl(n,r,O,E[3],u,g,!0)}function Jl(n,r,s){rr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Xl(n,r,s){rr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Tc(n,r,s){let a=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const g=r.length;if(u+g===a||n.charCodeAt(u+g)<=32)return u}s=u+1}}const Ch="ng-template";function Hf(n,r,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==Tc(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function $f(n){return 4===n.type&&n.value!==Ch}function Ry(n,r,s){return r===(4!==n.type||s?n.value:Ch)}function Bg(n,r,s){let a=4;const u=n.attrs||[],g=function ky(n){for(let r=0;r<n.length;r++)if(Ms(n[r]))return r;return n.length}(u);let E=!1;for(let D=0;D<r.length;D++){const O=r[D];if("number"!=typeof O){if(!E)if(4&a){if(a=2|1&a,""!==O&&!Ry(n,O,s)||""===O&&1===r.length){if(xa(a))return!1;E=!0}}else{const q=8&a?O:r[++D];if(8&a&&null!==n.attrs){if(!Hf(n.attrs,q,s)){if(xa(a))return!1;E=!0}continue}const le=Gf(8&a?"class":O,u,$f(n),s);if(-1===le){if(xa(a))return!1;E=!0;continue}if(""!==q){let Te;Te=le>g?"":u[le+1].toLowerCase();const Ge=8&a?Te:null;if(Ge&&-1!==Tc(Ge,q,0)||2&a&&q!==Te){if(xa(a))return!1;E=!0}}}}else{if(!E&&!xa(a)&&!xa(O))return!1;if(E&&xa(O))continue;E=!1,a=O|1&a}}return xa(a)||E}function xa(n){return 0==(1&n)}function Gf(n,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let g=!1;for(;u<r.length;){const E=r[u];if(E===n)return u;if(3===E||6===E)g=!0;else{if(1===E||2===E){let D=r[++u];for(;"string"==typeof D;)D=r[++u];continue}if(4===E)break;if(0===E){u+=4;continue}}u+=g?1:2}return-1}return function Ug(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ac(n,r,s=!1){for(let a=0;a<r.length;a++)if(Bg(n,r[a],s))return!0;return!1}function Fy(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let u=0;u<n.length;u++)if(n[u]!==a[u])continue e;return!0}}return!1}function jg(n,r){return n?":not("+r.trim()+")":r}function Ly(n){let r=n[0],s=1,a=2,u="",g=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&a){const D=n[++s];u+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?u+="."+E:4&a&&(u+=" "+E);else""!==u&&!xa(E)&&(r+=jg(g,u),u=""),a=E,g=g||!xa(a);s++}return""!==u&&(r+=jg(g,u)),r}const Un={};function zf(n){Hg(He(),H(),si()+n,Lo())}function Hg(n,r,s,a){if(!a)if(3==(3&r[2])){const g=n.preOrderCheckHooks;null!==g&&Ss(r,g,s)}else{const g=n.preOrderHooks;null!==g&&Co(r,g,0,s)}Gs(s)}function Sc(n,r){return n<<17|r<<2}function Po(n){return n>>17&32767}function Gu(n){return 2|n}function Oa(n){return(131068&n)>>2}function Mc(n,r){return-131069&n|r<<2}function No(n){return 1|n}function Jg(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],g=s[a+1];if(-1!==g){const E=n.data[g];Ea(u),E.contentQueries(2,r[g],g)}}}function sl(n,r,s,a,u,g,E,D,O,q){const Q=r.blueprint.slice();return Q[0]=u,Q[2]=140|a,Qi(Q),Q[3]=Q[15]=n,Q[8]=s,Q[10]=E||n&&n[10],Q[11]=D||n&&n[11],Q[12]=O||n&&n[12]||null,Q[9]=q||n&&n[9]||null,Q[6]=g,Q[16]=2==r.type?n[16]:Q,Q}function ja(n,r,s,a,u){let g=n.data[r];if(null===g)g=function bd(n,r,s,a,u){const g=ri(),E=to(),O=n.data[r]=function Wy(n,r,s,a,u,g){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,s,r,a,u);return null===n.firstChild&&(n.firstChild=O),null!==g&&(E?null==g.child&&null!==O.parent&&(g.child=O):null===g.next&&(g.next=O)),O}(n,r,s,a,u),function ro(){return cn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=a,g.attrs=u;const E=function ii(){const n=cn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return Qr(g,!0),g}function Dl(n,r,s,a){if(0===s)return-1;const u=r.length;for(let g=0;g<s;g++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function Pc(n,r,s){Hs(r);try{const a=n.viewQuery;null!==a&&dp(1,a,s);const u=n.template;null!==u&&tm(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Jg(n,r),n.staticViewQueries&&dp(2,n.viewQuery,s);const g=n.components;null!==g&&function qy(n,r){for(let s=0;s<r.length;s++)lp(n,r[s])}(r,g)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,io()}}function Wu(n,r,s,a){const u=r[2];if(256==(256&u))return;Hs(r);const g=Lo();try{Qi(r),function go(n){return cn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&tm(n,r,s,2,a);const E=3==(3&u);if(!g)if(E){const q=n.preOrderCheckHooks;null!==q&&Ss(r,q,null)}else{const q=n.preOrderHooks;null!==q&&Co(r,q,0,null),Xr(r,0)}if(function ap(n){for(let r=ju(n);null!==r;r=tl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],g=u[3];0==(1024&u[2])&&gi(g,1),u[2]|=1024}}}(r),function Nc(n){for(let r=ju(n);null!==r;r=tl(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];Dr(a)&&Wu(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&Jg(n,r),!g)if(E){const q=n.contentCheckHooks;null!==q&&Ss(r,q)}else{const q=n.contentHooks;null!==q&&Co(r,q,1),Xr(r,1)}!function Qg(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Gs(~u);else{const g=u,E=s[++a],D=s[++a];mo(E,g),D(2,r[g])}}}finally{Gs(-1)}}(n,r);const D=n.components;null!==D&&function Xg(n,r){for(let s=0;s<r.length;s++)Uh(n,r[s])}(r,D);const O=n.viewQuery;if(null!==O&&dp(2,O,a),!g)if(E){const q=n.viewCheckHooks;null!==q&&Ss(r,q)}else{const q=n.viewHooks;null!==q&&Co(r,q,2),Xr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),g||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,gi(r[3],-1))}finally{io()}}function em(n,r,s,a){const u=r[10],g=!Lo(),E=An(r);try{g&&!E&&u.begin&&u.begin(),E&&Pc(n,r,a),Wu(n,r,s,a)}finally{g&&!E&&u.end&&u.end()}}function tm(n,r,s,a,u){const g=si(),E=2&a;try{Gs(-1),E&&r.length>20&&Hg(n,r,20,Lo()),s(a,u)}finally{Gs(g)}}function Nh(n,r,s){if(fs(r)){const u=r.directiveEnd;for(let g=r.directiveStart;g<u;g++){const E=n.data[g];E.contentQueries&&E.contentQueries(1,s[g],g)}}}function Qf(n,r,s){!B()||(function lm(n,r,s,a){const u=s.directiveStart,g=s.directiveEnd;n.firstCreatePass||To(s,r),Ps(a,r);const E=s.initialInputs;for(let D=u;D<g;D++){const O=n.data[D],q=yi(O);q&&Jy(r,s,O);const Q=lt(r,n,D,s);Ps(Q,r),null!==E&&Xy(0,D-u,Q,O,0,E),q&&(Cn(s.index,r)[8]=Q)}}(n,r,s,Xe(s,r)),128==(128&s.flags)&&function Yy(n,r,s){const a=s.directiveStart,u=s.directiveEnd,E=s.index,D=function Jr(){return cn.lFrame.currentDirectiveIndex}();try{Gs(E);for(let O=a;O<u;O++){const q=n.data[O],Q=r[O];yo(O),(null!==q.hostBindings||0!==q.hostVars||null!==q.hostAttrs)&&um(q,Q)}}finally{Gs(-1),yo(D)}}(n,r,s))}function Ed(n,r,s=Xe){const a=r.localNames;if(null!==a){let u=r.index+1;for(let g=0;g<a.length;g+=2){const E=a[g+1],D=-1===E?s(r,n):n[E];n[u++]=D}}}function nm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Rh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Rh(n,r,s,a,u,g,E,D,O,q){const Q=20+a,le=Q+u,Te=function Jf(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Un);return s}(Q,le),Ge="function"==typeof q?q():q;return Te[1]={type:n,blueprint:Te,template:s,queries:null,viewQuery:D,declTNode:r,data:Te.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:O,consts:Ge,incompleteFirstPass:!1}}function im(n,r,s,a){const u=Gh(r);null===s?u.push(a):(u.push(s),n.firstCreatePass&&hp(n).push(a,u.length-1))}function sm(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function ia(n,r,s,a,u,g,E,D){const O=Xe(r,s);let Q,q=r.inputs;!D&&null!=q&&(Q=q[a])?(hm(n,s,Q,a,u),fi(r)&&function om(n,r){const s=Cn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Xf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=E?E(u,r.value||"",a):u,rr(g)?g.setProperty(O,a,u):A(a)||(O.setProperty?O.setProperty(a,u):O[a]=u))}function Id(n,r,s,a){let u=!1;if(B()){const g=function Qy(n,r,s){const a=n.directiveRegistry;let u=null;if(a)for(let g=0;g<a.length;g++){const E=a[g];Ac(s,E.selectors,!1)&&(u||(u=[]),c(To(s,r),n,E.type),yi(E)?(ip(n,s),u.unshift(E)):u.push(E))}return u}(n,r,s),E=null===a?null:{"":-1};if(null!==g){u=!0,Lh(s,n.data.length,g.length);for(let Q=0;Q<g.length;Q++){const le=g[Q];le.providersResolver&&le.providersResolver(le)}let D=!1,O=!1,q=Dl(n,r,g.length,null);for(let Q=0;Q<g.length;Q++){const le=g[Q];s.mergedAttrs=M(s.mergedAttrs,le.hostAttrs),sp(n,s,r,q,le),Dd(q,le,E),null!==le.contentQueries&&(s.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(s.flags|=128);const Te=le.type.prototype;!D&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),D=!0),!O&&(Te.ngOnChanges||Te.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),O=!0),q++}!function Zy(n,r){const a=r.directiveEnd,u=n.data,g=r.attrs,E=[];let D=null,O=null;for(let q=r.directiveStart;q<a;q++){const Q=u[q],le=Q.inputs,Te=null===g||$f(r)?null:ev(le,g);E.push(Te),D=sm(le,q,D),O=sm(Q.outputs,q,O)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=D,r.outputs=O}(n,s)}E&&function Fh(n,r,s){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const g=s[r[u+1]];if(null==g)throw new ot(-301,!1);a.push(r[u],g)}}}(s,a,E)}return s.mergedAttrs=M(s.mergedAttrs,s.attrs),u}function rp(n,r,s,a,u,g){const E=g.hostBindings;if(E){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const O=~r.index;(function Ky(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=O&&D.push(O),D.push(a,u,E)}}function um(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ip(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Dd(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;yi(r)&&(s[""]=n)}}function Lh(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function sp(n,r,s,a,u){n.data[a]=u;const g=u.factory||(u.factory=ni(u.type)),E=new zs(g,yi(u),null);n.blueprint[a]=E,s[a]=E,rp(n,r,0,a,Dl(n,s,u.hostVars,Un),u)}function Jy(n,r,s){const a=Xe(r,n),u=nm(s),g=n[10],E=Rc(n,sl(n,u,null,s.onPush?64:16,a,r,g,g.createRenderer(a,s),null,null));n[r.index]=E}function ol(n,r,s,a,u,g){const E=Xe(n,r);!function op(n,r,s,a,u,g,E){if(null==g)rr(n)?n.removeAttribute(r,u,s):r.removeAttribute(u);else{const D=null==E?We(g):E(g,a||"",u);rr(n)?n.setAttribute(r,u,D,s):s?r.setAttributeNS(s,u,D):r.setAttribute(u,D)}}(r[11],E,g,n.value,s,a,u)}function Xy(n,r,s,a,u,g){const E=g[r];if(null!==E){const D=a.setInput;for(let O=0;O<E.length;){const q=E[O++],Q=E[O++],le=E[O++];null!==D?a.setInput(s,le,q,Q):s[Q]=le}}}function ev(n,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Bh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Uh(n,r){const s=Cn(r,n);if(Dr(s)){const a=s[1];80&s[2]?Wu(a,s,a.template,s[8]):s[5]>0&&Zu(s)}}function Zu(n){for(let a=ju(n);null!==a;a=tl(a))for(let u=10;u<a.length;u++){const g=a[u];if(1024&g[2]){const E=g[1];Wu(E,g,E.template,g[8])}else g[5]>0&&Zu(g)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Cn(s[a],n);Dr(u)&&u[5]>0&&Zu(u)}}function lp(n,r){const s=Cn(r,n),a=s[1];(function cm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Pc(a,s,s[8])}function Rc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Td(n){for(;n;){n[2]|=64;const r=es(n);if(Zi(n)&&!r)return n;n=r}return null}function up(n,r,s){const a=r[10];a.begin&&a.begin();try{Wu(n,r,n.template,s)}catch(u){throw zh(r,u),u}finally{a.end&&a.end()}}function Hh(n){!function jh(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=_c(s),u=a[1];em(u,a,u.template,s)}}(n[8])}function dp(n,r,s){Ea(0),r(n,s)}const $h=(()=>Promise.resolve(null))();function Gh(n){return n[7]||(n[7]=[])}function hp(n){return n.cleanup||(n.cleanup=[])}function zh(n,r){const s=n[9],a=s?s.get(Ti,null):null;a&&a.handleError(r)}function hm(n,r,s,a,u){for(let g=0;g<s.length;){const E=s[g++],D=s[g++],O=r[E],q=n.data[E];null!==q.setInput?q.setInput(O,u,a,D):O[D]=u}}function Tl(n,r,s){const a=Je(r,n);!function dd(n,r,s){rr(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Ad(n,r,s){let a=s?n.styles:null,u=s?n.classes:null,g=0;if(null!==r)for(let E=0;E<r.length;E++){const D=r[E];"number"==typeof D?g=D:1==g?u=Ne(u,D):2==g&&(a=Ne(a,D+": "+r[++E]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const fp=new zt("INJECTOR",-1);class qh{get(r,s=Aa){if(s===Aa){const a=new Error(`NullInjectorError: No provider for ${Pe(r)}!`);throw a.name="NullInjectorError",a}return s}}const pp=new zt("Set Injector scope."),Yu={},rv={};let Sd;function gp(){return void 0===Sd&&(Sd=new qh),Sd}function Wh(n,r=null,s=null,a){const u=Zh(n,r,s,a);return u._resolveInjectorDefTypes(),u}function Zh(n,r=null,s=null,a){return new mp(n,s,r||gp(),a)}class mp{constructor(r,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];s&&Xi(s,D=>this.processProvider(D,r,s)),Xi([r],D=>this.processInjectorType(D,[],g)),this.records.set(fp,Ha(void 0,this));const E=this.records.get(pp);this.scope=null!=E?E.value:null,this.source=u||("object"==typeof r?null:Pe(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Aa,a=St.Default){this.assertNotDestroyed();const u=It(this),g=rn(void 0);try{if(!(a&St.SkipSelf)){let D=this.records.get(r);if(void 0===D){const O=function Ep(n){return"function"==typeof n||"object"==typeof n&&n instanceof zt}(r)&&wn(r);D=O&&this.injectableDefInScope(O)?Ha(iu(r),Yu):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&St.Self?gp():this.parent).get(r,s=a&St.Optional&&s===Aa?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Eu]=E[Eu]||[]).unshift(Pe(r)),u)throw E;return function Qa(n,r,s,a){const u=n[Eu];throw r[ye]&&u.unshift(r[ye]),n.message=function fl(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=Pe(r);if(Array.isArray(r))u=r.map(Pe).join(" -> ");else if("object"==typeof r){let g=[];for(let E in r)if(r.hasOwnProperty(E)){let D=r[E];g.push(E+":"+("string"==typeof D?JSON.stringify(D):Pe(D)))}u=`{${g.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(j,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[Eu]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{rn(g),It(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(Pe(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processInjectorType(r,s,a){if(!(r=Oe(r)))return!1;let u=zn(r);const g=null==u&&r.ngModule||void 0,E=void 0===g?r:g,D=-1!==a.indexOf(E);if(void 0!==g&&(u=zn(g)),null==u)return!1;if(null!=u.imports&&!D){let Q;a.push(E);try{Xi(u.imports,le=>{this.processInjectorType(le,s,a)&&(void 0===Q&&(Q=[]),Q.push(le))})}finally{}if(void 0!==Q)for(let le=0;le<Q.length;le++){const{ngModule:Te,providers:Ge}=Q[le];Xi(Ge,ut=>this.processProvider(ut,Te,Ge||Gt))}}this.injectorDefTypes.add(E);const O=ni(E)||(()=>new E);this.records.set(E,Ha(O,Yu));const q=u.providers;if(null!=q&&!D){const Q=r;Xi(q,le=>this.processProvider(le,Q,q))}return void 0!==g&&void 0!==r.providers}processProvider(r,s,a){let u=Fc(r=Oe(r))?r:Oe(r&&r.provide);const g=function yp(n,r,s){return vp(n)?Ha(void 0,n.useValue):Ha(Qu(n),Yu)}(r);if(Fc(r)||!0!==r.multi)this.records.get(u);else{let E=this.records.get(u);E||(E=Ha(void 0,Yu,!0),E.factory=()=>Gn(E.multi),this.records.set(u,E)),u=r,E.multi.push(r)}this.records.set(u,g)}hydrate(r,s){return s.value===Yu&&(s.value=rv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function bp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Oe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function iu(n){const r=wn(n),s=null!==r?r.factory:ni(n);if(null!==s)return s;if(n instanceof zt)throw new ot(204,!1);if(n instanceof Function)return function su(n){const r=n.length;if(r>0)throw Ri(r,"?"),new ot(204,!1);const s=function jn(n){const r=n&&(n[ar]||n[Ar]);if(r){const s=function Gr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ot(204,!1)}function Qu(n,r,s){let a;if(Fc(n)){const u=Oe(n);return ni(u)||iu(u)}if(vp(n))a=()=>Oe(n.useValue);else if(function iv(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Gn(n.deps||[]));else if(function kc(n){return!(!n||!n.useExisting)}(n))a=()=>fn(Oe(n.useExisting));else{const u=Oe(n&&(n.useClass||n.provide));if(!function wp(n){return!!n.deps}(n))return ni(u)||iu(u);a=()=>new u(...Gn(n.deps))}return a}function Ha(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function vp(n){return null!==n&&"object"==typeof n&&Re in n}function Fc(n){return"function"==typeof n}let al=(()=>{class n{static create(s,a){var u;if(Array.isArray(s))return Wh({name:""},a,s,"");{const g=null!==(u=s.name)&&void 0!==u?u:"";return Wh({name:g},s.parent,s.providers,g)}}}return n.THROW_IF_NOT_FOUND=Aa,n.NULL=new qh,n.\u0275prov=Ot({token:n,providedIn:"any",factory:()=>fn(fp)}),n.__NG_ELEMENT_ID__=-1,n})();function Tp(n,r){ls(_c(n)[1],vn())}function Ap(n){let r=function Xh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let u;if(yi(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ot(903,"");u=r.\u0275dir}if(u){if(s){a.push(u);const E=n;E.inputs=xd(n.inputs),E.declaredInputs=xd(n.declaredInputs),E.outputs=xd(n.outputs);const D=u.hostBindings;D&&Am(n,D);const O=u.viewQuery,q=u.contentQueries;if(O&&Mp(n,O),q&&Lc(n,q),Le(n.inputs,u.inputs),Le(n.declaredInputs,u.declaredInputs),Le(n.outputs,u.outputs),yi(u)&&u.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(u.data.animation)}}const g=u.features;if(g)for(let E=0;E<g.length;E++){const D=g[E];D&&D.ngInherit&&D(n),D===Ap&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sp(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=r+=u.hostVars,u.hostAttrs=M(u.hostAttrs,s=M(s,u.hostAttrs))}}(a)}function xd(n){return n===qn?{}:n===Gt?[]:n}function Mp(n,r){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{r(a,u),s(a,u)}:r}function Lc(n,r){const s=n.contentQueries;n.contentQueries=s?(a,u,g)=>{r(a,u,g),s(a,u,g)}:r}function Am(n,r){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{r(a,u),s(a,u)}:r}let Na=null;function ou(){if(!Na){const n=yn.Symbol;if(n&&n.iterator)Na=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Na=a)}}}return Na}function Ju(n){return!!Od(n)&&(Array.isArray(n)||!(n instanceof Map)&&ou()in n)}function Od(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ll(n,r,s){return n[r]=s}function Ro(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function tf(n,r,s,a){const u=H();return Ro(u,ms(),r)&&(He(),ol(qr(),u,n,r,s,a)),tf}function Pm(n,r,s,a,u,g,E,D){const O=H(),q=He(),Q=n+20,le=q.firstCreatePass?function pv(n,r,s,a,u,g,E,D,O){const q=r.consts,Q=ja(r,n,4,E||null,sr(q,D));Id(r,s,Q,sr(q,O)),ls(r,Q);const le=Q.tViews=Rh(2,Q,a,u,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,q);return null!==r.queries&&(r.queries.template(r,Q),le.queries=r.queries.embeddedTView(Q)),Q}(Q,q,O,r,s,a,u,g,E):q.data[Q];Qr(le,!1);const Te=O[11].createComment("");md(q,O,Te,le),Ps(Te,O),Rc(O,O[Q]=Bh(Te,O,Te,le)),ps(le)&&Qf(q,O,le),null!=E&&Ed(O,le,D)}function rf(n){return Zn(function la(){return cn.lFrame.contextLView}(),20+n)}function tc(n,r=St.Default){const s=H();return null===s?fn(n,r):T(vn(),s,Oe(n),r)}function Bm(){throw new Error("invalid")}function Wp(n,r,s){const a=H();return Ro(a,ms(),r)&&ia(He(),qr(),a,n,r,a[11],s,!1),Wp}function zi(n,r,s,a,u){const E=u?"class":"style";hm(n,s,r.inputs[E],E,a)}function Zp(n,r,s,a){const u=H(),g=He(),E=20+n,D=u[11],O=u[E]=Ic(D,r,function ka(){return cn.lFrame.currentNamespace}()),q=g.firstCreatePass?function J_(n,r,s,a,u,g,E){const D=r.consts,q=ja(r,n,2,u,sr(D,g));return Id(r,s,q,sr(D,E)),null!==q.attrs&&Ad(q,q.attrs,!1),null!==q.mergedAttrs&&Ad(q,q.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,q),q}(E,g,u,0,r,s,a):g.data[E];Qr(q,!0);const Q=q.mergedAttrs;null!==Q&&Io(D,O,Q);const le=q.classes;null!==le&&Xl(D,O,le);const Te=q.styles;return null!==Te&&Jl(D,O,Te),64!=(64&q.flags)&&md(g,u,O,q),0===function bi(){return cn.lFrame.elementDepthCount}()&&Ps(O,u),function js(){cn.lFrame.elementDepthCount++}(),ps(q)&&(Qf(g,u,q),Nh(g,q,u)),null!==a&&Ed(u,q),Zp}function ws(){let n=vn();to()?As():(n=n.parent,Qr(n,!1));const r=n;!function Ts(){cn.lFrame.elementDepthCount--}();const s=He();return s.firstCreatePass&&(ls(s,n),fs(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Jo(n){return 0!=(16&n.flags)}(r)&&zi(s,r,H(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ua(n){return 0!=(32&n.flags)}(r)&&zi(s,r,H(),r.stylesWithoutHost,!1),ws}function uf(n,r,s,a){return Zp(n,r,s,a),ws(),uf}function Ld(n,r,s){const a=H(),u=He(),g=n+20,E=u.firstCreatePass?function Ev(n,r,s,a,u){const g=r.consts,E=sr(g,a),D=ja(r,n,8,"ng-container",E);return null!==E&&Ad(D,E,!0),Id(r,s,D,sr(g,u)),null!==r.queries&&r.queries.elementStart(r,D),D}(g,u,a,r,s):u.data[g];Qr(E,!0);const D=a[g]=a[11].createComment("");return md(u,a,D,E),Ps(D,a),ps(E)&&(Qf(u,a,E),Nh(u,E,a)),null!=s&&Ed(a,E),Ld}function cf(){let n=vn();const r=He();return to()?As():(n=n.parent,Qr(n,!1)),r.firstCreatePass&&(ls(r,n),fs(n)&&r.queries.elementEnd(n)),cf}function jm(){return H()}function Kp(n){return!!n&&"function"==typeof n.then}function Cv(n){return!!n&&"function"==typeof n.subscribe}const Hm=Cv;function Yp(n,r,s,a){const u=H(),g=He(),E=vn();return function Iv(n,r,s,a,u,g,E,D){const O=ps(a),Q=n.firstCreatePass&&hp(n),le=r[8],Te=Gh(r);let Ge=!0;if(3&a.type||D){const Kt=Xe(a,r),_n=D?D(Kt):Kt,vt=Te.length,Ln=D?$r=>D(L($r[a.index])):a.index;if(rr(s)){let $r=null;if(!D&&O&&($r=function Sl(n,r,s,a){const u=n.cleanup;if(null!=u)for(let g=0;g<u.length-1;g+=2){const E=u[g];if(E===s&&u[g+1]===a){const D=r[7],O=u[g+2];return D.length>O?D[O]:null}"string"==typeof E&&(g+=2)}return null}(n,r,u,a.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=g,$r.__ngLastListenerFn__=g,Ge=!1;else{g=Ml(a,r,le,g,!1);const Si=s.listen(_n,u,g);Te.push(g,Si),Q&&Q.push(u,Ln,vt,vt+1)}}else g=Ml(a,r,le,g,!0),_n.addEventListener(u,g,E),Te.push(g),Q&&Q.push(u,Ln,vt,E)}else g=Ml(a,r,le,g,!1);const ut=a.outputs;let Rt;if(Ge&&null!==ut&&(Rt=ut[u])){const Kt=Rt.length;if(Kt)for(let _n=0;_n<Kt;_n+=2){const Ka=r[Rt[_n]][Rt[_n+1]].subscribe(g),Zd=Te.length;Te.push(g,Ka),Q&&Q.push(u,a.index,Zd,-(Zd+1))}}}(g,u,u[11],E,n,r,!!s,a),Yp}function Ga(n,r,s,a){try{return!1!==s(a)}catch(u){return zh(n,u),!1}}function Ml(n,r,s,a,u){return function g(E){if(E===Function)return a;const D=2&n.flags?Cn(n.index,r):r;0==(32&r[2])&&Td(D);let O=Ga(r,0,a,E),q=g.__ngNextListenerFn__;for(;q;)O=Ga(r,0,q,E)&&O,q=q.__ngNextListenerFn__;return u&&!1===O&&(E.preventDefault(),E.returnValue=!1),O}}function Vd(n=1){return function Ra(n){return(cn.lFrame.contextLView=function Bo(n,r){for(;n>0;)r=r[15],n--;return r}(n,cn.lFrame.contextLView))[8]}(n)}function Dv(n,r){let s=null;const a=function $u(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let u=0;u<r.length;u++){const g=r[u];if("*"!==g){if(null===a?Ac(n,g,!0):Fy(a,g))return u}else s=u}return s}function $m(n){const r=H()[16][6];if(!r.projection){const a=r.projection=Ri(n?n.length:1,null),u=a.slice();let g=r.child;for(;null!==g;){const E=n?Dv(g,n):0;null!==E&&(u[E]?u[E].projectionNext=g:a[E]=g,u[E]=g),g=g.next}}}function Jp(n,r=0,s){const a=H(),u=He(),g=ja(u,20+n,16,null,s||null);null===g.projection&&(g.projection=r),As(),64!=(64&g.flags)&&function Py(n,r,s){jf(r[11],0,r,s,Lg(n,s,r),Yl(s.parent||r[6],s,r))}(u,a,g)}function rg(n,r,s,a,u){const g=n[s+1],E=null===r;let D=a?Po(g):Oa(g),O=!1;for(;0!==D&&(!1===O||E);){const Q=n[D+1];nc(n[D],r)&&(O=!0,n[D+1]=a?No(Q):Gu(Q)),D=a?Po(Q):Oa(Q)}O&&(n[s+1]=a?Gu(g):No(g))}function nc(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Xo(n,r)>=0}const Ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ig(n){return n.substring(Ys.key,Ys.keyEnd)}function Wm(n,r){const s=Ys.textEnd;return s===r?-1:(r=Ys.keyEnd=function Tv(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,Ys.key=r,s),ul(n,r,s))}function ul(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function lg(n,r,s){return qa(n,r,s,!1),lg}function pf(n,r){return qa(n,r,null,!0),pf}function Ol(n){!function Wa(n,r,s,a){const u=He(),g=Oi(2);u.firstUpdatePass&&ug(u,null,g,a);const E=H();if(s!==Un&&Ro(E,g,s)){const D=u.data[si()];if($d(D,a)&&!Zm(u,g)){let O=a?D.classesWithoutHost:D.stylesWithoutHost;null!==O&&(s=Ne(O,s||"")),zi(u,D,E,s,a)}else!function Qm(n,r,s,a,u,g,E,D){u===Un&&(u=Gt);let O=0,q=0,Q=0<u.length?u[0]:null,le=0<g.length?g[0]:null;for(;null!==Q||null!==le;){const Te=O<u.length?u[O+1]:void 0,Ge=q<g.length?g[q+1]:void 0;let Rt,ut=null;Q===le?(O+=2,q+=2,Te!==Ge&&(ut=le,Rt=Ge)):null===le||null!==Q&&Q<le?(O+=2,ut=Q):(q+=2,ut=le,Rt=Ge),null!==ut&&dg(n,r,s,a,ut,Rt,E,D),Q=O<u.length?u[O]:null,le=q<g.length?g[q]:null}}(u,D,E,E[11],E[g+1],E[g+1]=function xv(n,r,s){if(null==s||""===s)return Gt;const a=[],u=_a(s);if(Array.isArray(u))for(let g=0;g<u.length;g++)n(a,u[g],!0);else if("object"==typeof u)for(const g in u)u.hasOwnProperty(g)&&n(a,g,u[g]);else"string"==typeof u&&r(a,u);return a}(n,r,s),a,g)}}(ys,cl,n,!0)}function cl(n,r){for(let s=function og(n){return function ag(n){Ys.key=0,Ys.keyEnd=0,Ys.value=0,Ys.valueEnd=0,Ys.textEnd=n.length}(n),Wm(n,ul(n,0,Ys.textEnd))}(r);s>=0;s=Wm(r,s))ys(n,ig(r),!0)}function qa(n,r,s,a){const u=H(),g=He(),E=Oi(2);g.firstUpdatePass&&ug(g,n,E,a),r!==Un&&Ro(u,E,r)&&dg(g,g.data[si()],u,u[11],n,u[E+1]=function fg(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Pe(_a(n)))),n}(r,s),a,E)}function Zm(n,r){return r>=n.expandoStartIndex}function ug(n,r,s,a){const u=n.data;if(null===u[s+1]){const g=u[si()],E=Zm(n,s);$d(g,a)&&null===r&&!E&&(r=!1),r=function Av(n,r,s,a){const u=Vo(n);let g=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(s=zc(s=cg(null,n,r,s,a),r.attrs,a),g=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==u)if(s=cg(u,n,r,s,a),null===g){let O=function Sv(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Oa(a))return n[Po(a)]}(n,r,a);void 0!==O&&Array.isArray(O)&&(O=cg(null,n,r,O[1],a),O=zc(O,r.attrs,a),function Km(n,r,s,a){n[Po(s?r.classBindings:r.styleBindings)]=a}(n,r,a,O))}else g=function Mv(n,r,s){let a;const u=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<u;g++)a=zc(a,n[g].hostAttrs,s);return zc(a,r.attrs,s)}(n,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),s}(u,g,r,a),function tg(n,r,s,a,u,g){let E=g?r.classBindings:r.styleBindings,D=Po(E),O=Oa(E);n[a]=s;let Q,q=!1;if(Array.isArray(s)){const le=s;Q=le[1],(null===Q||Xo(le,Q)>0)&&(q=!0)}else Q=s;if(u)if(0!==O){const Te=Po(n[D+1]);n[a+1]=Sc(Te,D),0!==Te&&(n[Te+1]=Mc(n[Te+1],a)),n[D+1]=function zg(n,r){return 131071&n|r<<17}(n[D+1],a)}else n[a+1]=Sc(D,0),0!==D&&(n[D+1]=Mc(n[D+1],a)),D=a;else n[a+1]=Sc(O,0),0===D?D=a:n[O+1]=Mc(n[O+1],a),O=a;q&&(n[a+1]=Gu(n[a+1])),rg(n,Q,a,!0),rg(n,Q,a,!1),function ng(n,r,s,a,u){const g=u?n.residualClasses:n.residualStyles;null!=g&&"string"==typeof r&&Xo(g,r)>=0&&(s[a+1]=No(s[a+1]))}(r,Q,n,a,g),E=Sc(D,O),g?r.classBindings=E:r.styleBindings=E}(u,g,r,s,E,a)}}function cg(n,r,s,a,u){let g=null;const E=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<E&&(g=r[D],a=zc(a,g.hostAttrs,u),g!==n);)D++;return null!==n&&(s.directiveStylingLast=D),a}function zc(n,r,s){const a=s?1:2;let u=-1;if(null!==r)for(let g=0;g<r.length;g++){const E=r[g];"number"==typeof E?u=E:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ys(n,E,!!s||r[++g]))}return void 0===n?null:n}function dg(n,r,s,a,u,g,E,D){if(!(3&r.type))return;const O=n.data,q=O[D+1];Hd(function qf(n){return 1==(1&n)}(q)?hg(O,r,s,u,Oa(q),E):void 0)||(Hd(g)||function Gg(n){return 2==(2&n)}(q)&&(g=hg(O,null,s,u,D,E)),function Hu(n,r,s,a,u){const g=rr(n);if(r)u?g?n.addClass(s,a):s.classList.add(a):g?n.removeClass(s,a):s.classList.remove(a);else{let E=-1===a.indexOf("-")?void 0:it.DashCase;if(null==u)g?n.removeStyle(s,a,E):s.style.removeProperty(a);else{const D="string"==typeof u&&u.endsWith("!important");D&&(u=u.slice(0,-10),E|=it.Important),g?n.setStyle(s,a,u,E):s.style.setProperty(a,u,D?"important":"")}}}(a,E,Je(si(),s),u,g))}function hg(n,r,s,a,u,g){const E=null===r;let D;for(;u>0;){const O=n[u],q=Array.isArray(O),Q=q?O[1]:O,le=null===Q;let Te=s[u+1];Te===Un&&(Te=le?Gt:void 0);let Ge=le?zo(Te,a):Q===a?Te:void 0;if(q&&!Hd(Ge)&&(Ge=zo(O,a)),Hd(Ge)&&(D=Ge,E))return D;const ut=n[u+1];u=E?Po(ut):Oa(ut)}if(null!==r){let O=g?r.residualClasses:r.residualStyles;null!=O&&(D=zo(O,a))}return D}function Hd(n){return void 0!==n}function $d(n,r){return 0!=(n.flags&(r?16:32))}function Jm(n,r=""){const s=H(),a=He(),u=n+20,g=a.firstCreatePass?ja(a,u,1,r,null):a.data[u],E=s[u]=function Cc(n,r){return rr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);md(a,s,E,g),Qr(g,!1)}function gf(n){return Za("",n,""),gf}function Za(n,r,s){const a=H(),u=function ec(n,r,s,a){return Ro(n,ms(),s)?r+We(s)+a:Un}(a,n,r,s);return u!==Un&&Tl(a,si(),u),Za}function _g(n,r,s){const a=H();if(Ro(a,ms(),r)){const g=He(),E=qr();ia(g,E,a,n,r,function Ku(n,r,s){return(null===n||yi(n))&&(s=function ee(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[r.index])),s[11]}(Vo(g.data),E,a),s,!0)}return _g}const mu=void 0;var ic=["en",[["a","p"],["AM","PM"],mu],[["AM","PM"],mu,mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mu,"{1} 'at' {0}",mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let fo={};function vf(n){const r=function wg(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Kc(r);if(s)return s;const a=r.split("-")[0];if(s=Kc(a),s)return s;if("en"===a)return ic;throw new Error(`Missing locale data for the locale "${n}".`)}function Zc(n){return vf(n)[Bn.PluralCase]}function Kc(n){return n in fo||(fo[n]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[n]),fo[n]}var Bn=(()=>((Bn=Bn||{})[Bn.LocaleId=0]="LocaleId",Bn[Bn.DayPeriodsFormat=1]="DayPeriodsFormat",Bn[Bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bn[Bn.DaysFormat=3]="DaysFormat",Bn[Bn.DaysStandalone=4]="DaysStandalone",Bn[Bn.MonthsFormat=5]="MonthsFormat",Bn[Bn.MonthsStandalone=6]="MonthsStandalone",Bn[Bn.Eras=7]="Eras",Bn[Bn.FirstDayOfWeek=8]="FirstDayOfWeek",Bn[Bn.WeekendRange=9]="WeekendRange",Bn[Bn.DateFormat=10]="DateFormat",Bn[Bn.TimeFormat=11]="TimeFormat",Bn[Bn.DateTimeFormat=12]="DateTimeFormat",Bn[Bn.NumberSymbols=13]="NumberSymbols",Bn[Bn.NumberFormats=14]="NumberFormats",Bn[Bn.CurrencyCode=15]="CurrencyCode",Bn[Bn.CurrencySymbol=16]="CurrencySymbol",Bn[Bn.CurrencyName=17]="CurrencyName",Bn[Bn.Currencies=18]="Currencies",Bn[Bn.Directionality=19]="Directionality",Bn[Bn.PluralCase=20]="PluralCase",Bn[Bn.ExtraData=21]="ExtraData",Bn))();const Qc="en-US";let hy=Qc;function Yv(n,r,s,a,u){if(n=Oe(n),Array.isArray(n))for(let g=0;g<n.length;g++)Yv(n[g],r,s,a,u);else{const g=He(),E=H();let D=Fc(n)?n:Oe(n.provide),O=Qu(n);const q=vn(),Q=1048575&q.providerIndexes,le=q.directiveStart,Te=q.providerIndexes>>20;if(Fc(n)||!n.multi){const Ge=new zs(O,u,tc),ut=Jv(D,r,u?Q:Q+Te,le);-1===ut?(c(To(q,E),g,D),Qv(g,n,r.length),r.push(D),q.directiveStart++,q.directiveEnd++,u&&(q.providerIndexes+=1048576),s.push(Ge),E.push(Ge)):(s[ut]=Ge,E[ut]=Ge)}else{const Ge=Jv(D,r,Q+Te,le),ut=Jv(D,r,Q,Q+Te),Rt=Ge>=0&&s[Ge],Kt=ut>=0&&s[ut];if(u&&!Kt||!u&&!Rt){c(To(q,E),g,D);const _n=function ib(n,r,s,a,u){const g=new zs(n,s,tc);return g.multi=[],g.index=r,g.componentProviders=0,f0(g,u,a&&!s),g}(u?rb:nb,s.length,u,a,O);!u&&Kt&&(s[ut].providerFactory=_n),Qv(g,n,r.length,0),r.push(D),q.directiveStart++,q.directiveEnd++,u&&(q.providerIndexes+=1048576),s.push(_n),E.push(_n)}else Qv(g,n,Ge>-1?Ge:ut,f0(s[u?ut:Ge],O,!u&&a));!u&&a&&Kt&&s[ut].componentProviders++}}}function Qv(n,r,s,a){const u=Fc(r),g=function _p(n){return!!n.useClass}(r);if(u||g){const O=(g?Oe(r.useClass):r).prototype.ngOnDestroy;if(O){const q=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const Q=q.indexOf(s);-1===Q?q.push(s,[a,O]):q[Q+1].push(a,O)}else q.push(s,O)}}}function f0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Jv(n,r,s,a){for(let u=s;u<a;u++)if(r[u]===n)return u;return-1}function nb(n,r,s,a){return Xv(this.multi,[])}function rb(n,r,s,a){const u=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=lt(s,s[1],this.providerFactory.index,a);g=D.slice(0,E),Xv(u,g);for(let O=E;O<D.length;O++)g.push(D[O])}else g=[],Xv(u,g);return g}function Xv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function p0(n,r=[]){return s=>{s.providersResolver=(a,u)=>function tb(n,r,s){const a=He();if(a.firstCreatePass){const u=yi(n);Yv(s,a.data,a.blueprint,u,!0),Yv(r,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,r)}}class g0{}class ab{resolveComponentFactory(r){throw function ob(n){const r=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let _y=(()=>{class n{}return n.NULL=new ab,n})();function lb(){return If(vn(),H())}function If(n,r){return new Dg(Xe(n,r))}let Dg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=lb,n})();function ub(n){return n instanceof Dg?n.nativeElement:n}class y0{}let cb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hb(){const n=H(),s=Cn(vn().index,n);return function db(n){return n[11]}(ti(s)?s:n)}(),n})(),fb=(()=>{class n{}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const _0=new v0("13.3.3"),e_={};function wy(n,r,s,a,u=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&a.push(L(g)),Vr(g))for(let D=10;D<g.length;D++){const O=g[D],q=O[1].firstChild;null!==q&&wy(O[1],O,q,a)}const E=s.type;if(8&E)wy(n,r,s.child,a);else if(32&E){const D=pn(s,r);let O;for(;O=D();)a.push(O)}else if(16&E){const D=wh(r,s);if(Array.isArray(D))a.push(...D);else{const O=es(r[16]);wy(O[1],O,D,a,!0)}}s=u?s.projectionNext:s.next}return a}class Tg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return wy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Vr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Bf(r,a),qs(s,a))}this._attachedToViewContainer=!1}kg(this._lView[1],this._lView)}onDestroy(r){im(this._lView[1],this._lView,null,r)}markForCheck(){Td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){up(this._lView[1],this._lView,this.context)}checkNoChanges(){!function tv(n,r,s){no(!0);try{up(n,r,s)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ot(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vf(n,r){Dc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ot(902,"");this._appRef=r}}class pb extends Tg{constructor(r){super(r),this._view=r}detectChanges(){Hh(this._view)}checkNoChanges(){!function cp(n){no(!0);try{Hh(n)}finally{no(!1)}}(this._view)}get context(){return null}}class w0 extends _y{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Se(r);return new t_(s,this.ngModule)}}function b0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class t_ extends g0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function vd(n){return n.map(Ly).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return b0(this.componentDef.inputs)}get outputs(){return b0(this.componentDef.outputs)}create(r,s,a,u){const g=(u=u||this.ngModule)?function mb(n,r){return{get:(s,a,u)=>{const g=n.get(s,e_,u);return g!==e_||a===e_?g:r.get(s,a,u)}}}(r,u.injector):r,E=g.get(y0,V),D=g.get(fb,null),O=E.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",Q=a?function rm(n,r,s){if(rr(n))return n.selectRootElement(r,s===Dt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(O,a,this.componentDef.encapsulation):Ic(E.createRenderer(null,this.componentDef),q,function gb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(q)),le=this.componentDef.onPush?576:528,Te=function Tm(n,r){return{components:[],scheduler:n||kf,clean:$h,playerHandler:r||null,flags:0}}(),Ge=Rh(0,null,null,1,0,null,null,null,null,null),ut=sl(null,Ge,Te,le,null,null,E,O,D,g);let Rt,Kt;Hs(ut);try{const _n=function Dm(n,r,s,a,u,g){const E=s[1];s[20]=n;const O=ja(E,20,2,"#host",null),q=O.mergedAttrs=r.hostAttrs;null!==q&&(Ad(O,q,!0),null!==n&&(Io(u,n,q),null!==O.classes&&Xl(u,n,O.classes),null!==O.styles&&Jl(u,n,O.styles)));const Q=a.createRenderer(n,r),le=sl(s,nm(r),null,r.onPush?64:16,s[20],O,a,Q,g||null,null);return E.firstCreatePass&&(c(To(O,s),E,r.type),ip(E,O),Lh(O,s.length,1)),Rc(s,le),s[20]=le}(Q,this.componentDef,ut,E,O);if(Q)if(a)Io(O,Q,["ng-version",_0.full]);else{const{attrs:vt,classes:Ln}=function eu(n){const r=[],s=[];let a=1,u=2;for(;a<n.length;){let g=n[a];if("string"==typeof g)2===u?""!==g&&r.push(g,n[++a]):8===u&&s.push(g);else{if(!xa(u))break;u=g}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);vt&&Io(O,Q,vt),Ln&&Ln.length>0&&Xl(O,Q,Ln.join(" "))}if(Kt=$n(Ge,20),void 0!==s){const vt=Kt.projection=[];for(let Ln=0;Ln<this.ngContentSelectors.length;Ln++){const $r=s[Ln];vt.push(null!=$r?Array.from($r):null)}}Rt=function Jh(n,r,s,a,u){const g=s[1],E=function np(n,r,s){const a=vn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sp(n,a,r,Dl(n,r,1,null),s));const u=lt(r,n,a.directiveStart,a);Ps(u,r);const g=Xe(a,r);return g&&Ps(g,r),u}(g,s,r);if(a.components.push(E),n[8]=E,u&&u.forEach(O=>O(E,r)),r.contentQueries){const O=vn();r.contentQueries(1,E,O.directiveStart)}const D=vn();return!g.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Gs(D.index),rp(s[1],D,0,D.directiveStart,D.directiveEnd,r),um(r,E)),E}(_n,this.componentDef,ut,Te,[Tp]),Pc(Ge,ut,null)}finally{io()}return new vb(this.componentType,Rt,If(Kt,ut),ut,Kt)}}class vb extends class sb{}{constructor(r,s,a,u,g){super(),this.location=a,this._rootLView=u,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new pb(u),this.componentType=r}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Df{}class E0{}const Tf=new Map;class D0 extends Df{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w0(this);const a=en(r);this._bootstrapComponents=m(a.bootstrap),this._r3Injector=Zh(r,s,[{provide:Df,useValue:this},{provide:_y,useValue:this.componentFactoryResolver}],Pe(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=al.THROW_IF_NOT_FOUND,a=St.Default){return r===al||r===Df||r===fp?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class n_ extends E0{constructor(r){super(),this.moduleType=r,null!==en(r)&&function wb(n){const r=new Set;!function s(a){const u=en(a,!0),g=u.id;null!==g&&(function C0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Pe(r)} vs ${Pe(r.name)}`)}(g,Tf.get(g),a),Tf.set(g,a));const E=m(u.imports);for(const D of E)r.has(D)||(r.add(D),s(D))}(n)}(r)}create(r){return new D0(this.moduleType,r)}}function T0(n,r,s){const a=Ei()+n,u=H();return u[a]===Un?ll(u,a,s?r.call(s):r()):function Xu(n,r){return n[r]}(u,a)}function A0(n,r,s,a,u,g){const E=r+s;return Ro(n,E,u)?ll(n,E+1,g?a.call(g,u):a(u)):function Ag(n,r){const s=n[r];return s===Un?void 0:s}(n,E+1)}function P0(n,r){const s=He();let a;const u=n+20;s.firstCreatePass?(a=function xb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const g=a.factory||(a.factory=ni(a.type)),E=rn(tc);try{const D=Fr(!1),O=g();return Fr(D),function Nm(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,H(),u,O),O}finally{rn(E)}}function N0(n,r,s){const a=n+20,u=H(),g=Zn(u,a);return function Sg(n,r){return n[1].data[r].pure}(u,a)?A0(u,Ei(),r,g.transform,s,g):g.transform(s)}function r_(n){return r=>{setTimeout(n,void 0,r)}}const vu=class kb extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var u,g,E;let D=r,O=s||(()=>null),q=a;if(r&&"object"==typeof r){const le=r;D=null===(u=le.next)||void 0===u?void 0:u.bind(le),O=null===(g=le.error)||void 0===g?void 0:g.bind(le),q=null===(E=le.complete)||void 0===E?void 0:E.bind(le)}this.__isAsync&&(O=r_(O),D&&(D=r_(D)),q&&(q=r_(q)));const Q=super.subscribe({next:D,error:O,complete:q});return r instanceof S.w0&&r.add(Q),Q}};function Fb(){return this._results[ou()]()}class i_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ou(),a=i_.prototype;a[s]||(a[s]=Fb)}get changes(){return this._changes||(this._changes=new vu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=xr(r);(this._changesDetected=!function Go(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],g=r[a];if(s&&(u=s(u),g=s(g)),g!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Mg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bb,n})();const Lb=Mg,Vb=class extends Lb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=sl(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(a[19]=g.createEmbeddedView(s)),Pc(s,a,r),new Tg(a)}};function Bb(){return by(vn(),H())}function by(n,r){return 4&n.type?new Vb(r,n,If(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ub,n})();function Ub(){return F0(vn(),H())}const jb=Ey,R0=class extends jb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return If(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const r=_(this._hostTNode,this._hostLView);if(ve(r)){const s=fr(r,this._hostLView),a=rt(r);return new tn(s[1].data[a+8],s)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=k0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const u=r.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(r,s,a,u,g){const E=r&&!function pr(n){return"function"==typeof n}(r);let D;if(E)D=s;else{const le=s||{};D=le.index,a=le.injector,u=le.projectableNodes,g=le.ngModuleRef}const O=E?r:new t_(Se(r)),q=a||this.parentInjector;if(!g&&null==O.ngModule){const Te=(E?q:this.parentInjector).get(Df,null);Te&&(g=Te)}const Q=O.create(q,u,void 0,g);return this.insert(Q.hostView,D),Q}insert(r,s){const a=r._lView,u=a[1];if(function ir(n){return Vr(n[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const le=a[3],Te=new R0(le,le[6],le[3]);Te.detach(Te.indexOf(r))}}const g=this._adjustIndex(s),E=this._lContainer;!function My(n,r,s,a){const u=10+a,g=s.length;a>0&&(s[u-1][4]=r),a<g-10?(r[4]=s[u],ao(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function xy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(E,r);const D=r[19];null!==D&&D.insertView(n),r[2]|=128}(u,a,E,g);const D=yd(g,E),O=a[11],q=yh(O,E[7]);return null!==q&&function fd(n,r,s,a,u,g){a[0]=u,a[6]=r,Dc(n,a,s,1,u,g)}(u,E[6],O,a,q,D),r.attachToViewContainerRef(),ao(s_(E),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=k0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Bf(this._lContainer,s);a&&(qs(s_(this._lContainer),s),kg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Bf(this._lContainer,s);return a&&null!=qs(s_(this._lContainer),s)?new Tg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function k0(n){return n[8]}function s_(n){return n[8]||(n[8]=[])}function F0(n,r){let s;const a=r[n.index];if(Vr(a))s=a;else{let u;if(8&n.type)u=L(a);else{const g=r[11];u=g.createComment("");const E=Xe(n,r);Kl(g,yh(g,E),u,function gd(n,r){return rr(n)?n.nextSibling(r):r.nextSibling}(g,E),!1)}r[n.index]=s=Bh(a,r,u,n),Rc(r,s)}return new R0(s,n,r)}class o_{constructor(r){this.queryList=r,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class a_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let g=0;g<a;g++){const E=s.getByIndex(g);u.push(this.queries[E.indexInDeclarationView].clone())}return new a_(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==z0(r,s).matches&&this.queries[s].setDirty()}}class L0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class l_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,g=this.getByIndex(a).embeddedTView(r,u);g&&(g.indexInDeclarationView=a,null!==s?s.push(g):s=[g])}return null!==s?new l_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class u_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new u_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const g=a[u];this.matchTNodeWithReadOption(r,s,Gb(s,g)),this.matchTNodeWithReadOption(r,s,Ae(s,r,g,!1,!1))}else a===Mg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ae(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Dg||u===Ey||u===Mg&&4&s.type)this.addMatch(s.index,-2);else{const g=Ae(s,r,u,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Gb(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function qb(n,r,s,a){return-1===s?function zb(n,r){return 11&n.type?If(n,r):4&n.type?by(n,r):null}(r,n):-2===s?function Wb(n,r,s){return s===Dg?If(r,n):s===Mg?by(r,n):s===Ey?F0(r,n):void 0}(n,r,a):lt(n,n[1],s,r)}function V0(n,r,s,a){const u=r[19].queries[a];if(null===u.matches){const g=n.data,E=s.matches,D=[];for(let O=0;O<E.length;O+=2){const q=E[O];D.push(q<0?null:qb(r,g[q],E[O+1],s.metadata.read))}u.matches=D}return u.matches}function c_(n,r,s,a){const u=n.queries.getByIndex(s),g=u.matches;if(null!==g){const E=V0(n,r,u,s);for(let D=0;D<g.length;D+=2){const O=g[D];if(O>0)a.push(E[D/2]);else{const q=g[D+1],Q=r[-O];for(let le=10;le<Q.length;le++){const Te=Q[le];Te[17]===Te[3]&&c_(Te[1],Te,q,a)}if(null!==Q[9]){const le=Q[9];for(let Te=0;Te<le.length;Te++){const Ge=le[Te];c_(Ge[1],Ge,q,a)}}}}}return a}function B0(n){const r=H(),s=He(),a=vo();Ea(a+1);const u=z0(s,a);if(n.dirty&&An(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const g=u.crossesNgTemplate?c_(s,r,a,[]):V0(s,r,u,a);n.reset(g,ub),n.notifyOnChanges()}return!0}return!1}function U0(n,r,s){const a=He();a.firstCreatePass&&(G0(a,new L0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),$0(a,H(),r)}function j0(n,r,s,a){const u=He();if(u.firstCreatePass){const g=vn();G0(u,new L0(r,s,a),g.index),function Kb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}$0(u,H(),s)}function H0(){return function Zb(n,r){return n[19].queries[r].queryList}(H(),vo())}function $0(n,r,s){const a=new i_(4==(4&s));im(n,r,a,a.destroy),null===r[19]&&(r[19]=new a_),r[19].queries.push(new o_(a))}function G0(n,r,s){null===n.queries&&(n.queries=new l_),n.queries.track(new u_(r,s))}function z0(n,r){return n.queries.getByIndex(r)}function Dy(...n){}const lw=new zt("Application Initializer");let m_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Dy,this.reject=Dy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const g=this.appInits[u]();if(Kp(g))s.push(g);else if(Hm(g)){const E=new Promise((D,O)=>{g.subscribe({complete:D,error:O})});s.push(E)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(fn(lw,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uw=new zt("AppId",{providedIn:"root",factory:function cw(){return`${y_()}${y_()}${y_()}`}});function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dw=new zt("Platform Initializer"),fE=new zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hw=new zt("appBootstrapListener");let pE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const v_=new zt("LocaleId",{providedIn:"root",factory:()=>Er(v_,St.Optional|St.SkipSelf)||function gE(){return"undefined"!=typeof $localize&&$localize.locale||Qc}()}),mE=new zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yE{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let vE=(()=>{class n{compileModuleSync(s){return new n_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),g=m(en(s).declarations).reduce((E,D)=>{const O=Se(D);return O&&E.push(new t_(O)),E},[]);return new yE(a,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wE=(()=>Promise.resolve(0))();function __(n){"undefined"==typeof Zone?wE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pl{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function bE(){let n=yn.requestAnimationFrame,r=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function IE(n){const r=()=>{!function CE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,b_(n),n.isCheckStableRunning=!0,w_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),b_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,g,E,D)=>{try{return fw(n),s.invokeTask(u,g,E,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||n.shouldCoalesceRunChangeDetection)&&r(),pw(n)}},onInvoke:(s,a,u,g,E,D,O)=>{try{return fw(n),s.invoke(u,g,E,D,O)}finally{n.shouldCoalesceRunChangeDetection&&r(),pw(n)}},onHasTask:(s,a,u,g)=>{s.hasTask(u,g),a===u&&("microTask"==g.change?(n._hasPendingMicrotasks=g.microTask,b_(n),w_(n)):"macroTask"==g.change&&(n.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,u,g)=>(s.handleError(u,g),n.runOutsideAngular(()=>n.onError.emit(g)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+u,r,EE,Dy,Dy);try{return g.runTask(E,s,a)}finally{g.cancelTask(E)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const EE={};function w_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function b_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pw(n){n._nesting--,w_(n)}class DE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}let gw=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pl.assertNotInAngularZone(),__(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())__(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(fn(Pl))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})(),TE=(()=>{class n{constructor(){this._applications=new Map,E_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return E_.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class AE{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function SE(n){E_=n}let Nl,E_=new AE;const mw=new zt("AllowMultipleToken");class OE{constructor(r,s){this.name=r,this.token=s}}function yw(n,r,s=[]){const a=`Platform: ${r}`,u=new zt(a);return(g=[])=>{let E=vw();if(!E||E.injector.get(mw,!1))if(n)n(s.concat(g).concat({provide:u,useValue:!0}));else{const D=s.concat(g).concat({provide:u,useValue:!0},{provide:pp,useValue:"platform"});!function PE(n){if(Nl&&!Nl.destroyed&&!Nl.injector.get(mw,!1))throw new ot(400,"");Nl=n.get(RE);const r=n.get(dw,null);r&&r.forEach(s=>s())}(al.create({providers:D,name:a}))}return function NE(n){const r=vw();if(!r)throw new ot(401,"");return r}()}}function vw(){return Nl&&!Nl.destroyed?Nl:null}let RE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const D=function kE(n,r){let s;return s="noop"===n?new DE:("zone.js"===n?void 0:n)||new Pl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:Pl,useValue:D}];return D.run(()=>{const q=al.create({providers:O,parent:this.injector,name:s.moduleType.name}),Q=s.create(q),le=Q.injector.get(Ti,null);if(!le)throw new ot(402,"");return D.runOutsideAngular(()=>{const Te=D.onError.subscribe({next:Ge=>{le.handleError(Ge)}});Q.onDestroy(()=>{I_(this._modules,Q),Te.unsubscribe()})}),function FE(n,r,s){try{const a=s();return Kp(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(le,D,()=>{const Te=Q.injector.get(m_);return Te.runInitializers(),Te.donePromise.then(()=>(function $v(n){Ct(n,"Expected localeId to be defined"),"string"==typeof n&&(hy=n.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(v_,Qc)||Qc),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(s,a=[]){const u=_w({},a);return function ME(n,r,s){const a=new n_(s);return Promise.resolve(a)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,u))}_moduleDoBootstrap(s){const a=s.injector.get(C_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new ot(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(fn(al))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function _w(n,r){return Array.isArray(r)?r.reduce(_w,n):Object.assign(Object.assign({},n),r)}let C_=(()=>{class n{constructor(s,a,u,g){this._zone=s,this._injector=a,this._exceptionHandler=u,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new X.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),D=new X.y(O=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Pl.assertNotInAngularZone(),__(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Pl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{q.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,ae.T)(E,D.pipe((0,ce.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new ot(405,"");let u;u=s instanceof g0?s:this._injector.get(_y).resolveComponentFactory(s),this.componentTypes.push(u.componentType);const g=function xE(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Df),D=u.create(al.NULL,[],a||u.selector,g),O=D.location.nativeElement,q=D.injector.get(gw,null),Q=q&&D.injector.get(TE);return q&&Q&&Q.registerApplication(O,q),D.onDestroy(()=>{this.detachView(D.hostView),I_(this.components,D),Q&&Q.unregisterApplication(O)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new ot(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;I_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(hw,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(fn(Pl),fn(al),fn(Ti),fn(m_))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let bw=!0,Ew=!1;function VE(){return Ew=!0,bw}function BE(){if(Ew)throw new Error("Cannot enable prod mode after platform setup.");bw=!1}let UE=(()=>{class n{}return n.__NG_ELEMENT_ID__=jE,n})();function jE(n){return function HE(n,r,s){if(fi(n)&&!s){const a=Cn(n.index,r);return new Tg(a,a)}return 47&n.type?new Tg(r[16],r):null}(vn(),H(),16==(16&n))}class Tw{constructor(){}supports(r){return Ju(r)}create(r){return new ZE(r)}}const WE=(n,r)=>r;class ZE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||WE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,g=null;for(;s||a;){const E=!a||s&&s.currentIndex<Sw(a,u,g)?s:a,D=Sw(E,u,g),O=E.currentIndex;if(E===a)u--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)u++;else{g||(g=[]);const q=D-u,Q=O-u;if(q!=Q){for(let Te=0;Te<q;Te++){const Ge=Te<g.length?g[Te]:g[Te]=0,ut=Ge+Te;Q<=ut&&ut<q&&(g[Te]=Ge+1)}g[E.previousIndex]=Q-q}}D!==O&&r(E,D,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ju(r))throw new ot(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,g,E,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)g=r[D],E=this._trackByFn(D,g),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,g,E,D)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,E,D),a=!0),s=s._next}else u=0,function fv(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[ou()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{E=this._trackByFn(u,D),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,D,E,u)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,E,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,u)):r=this._addAfter(new KE(s,a),g,u),r}_verifyReinsertion(r,s,a,u){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,g=r._nextRemoved;return null===u?this._removalsHead=g:u._nextRemoved=g,null===g?this._removalsTail=u:g._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class KE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Aw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new YE,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(n,r,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class Mw{constructor(){}supports(r){return r instanceof Map||Od(r)}create(){return new QE}}class QE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Od(r)))throw new ot(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const g=u._prev,E=u._next;return g&&(g._next=E),E&&(E._prev=g),u._next=null,u._prev=null,u}const a=new JE(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class JE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xw(){return new M_([new Tw])}let M_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||xw()),deps:[[n,new ea,new Wo]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new ot(901,"")}}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:xw}),n})();function Ow(){return new x_([new Mw])}let x_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ow()),deps:[[n,new ea,new Wo]]}}find(s){const a=this.factories.find(g=>g.supports(s));if(a)return a;throw new ot(901,"")}}return n.\u0275prov=Ot({token:n,providedIn:"root",factory:Ow}),n})();const tC=yw(null,"core",[]);let nC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(fn(C_))},n.\u0275mod=Fe({type:n}),n.\u0275inj=ln({}),n})()},2382:(Nt,ze,$)=>{"use strict";$.d(ze,{Fj:()=>ie,qu:()=>js,u:()=>Yi,sg:()=>vi,u5:()=>cn,JJ:()=>un,JL:()=>mr,YN:()=>pi,wV:()=>Ie,UX:()=>Ui,EJ:()=>Wr,kI:()=>de,_Y:()=>Xs,Kr:()=>ks});var y=$(5e3),S=$(9808),X=$(8306),ae=$(4742),ce=$(8421),De=$(7669),Le=$(5403),Pe=$(3268),Ne=$(1810),pe=$(8996),Oe=$(4004);let dt=(()=>{class B{constructor(N,H){this._renderer=N,this._elementRef=H,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(N,H){this._renderer.setProperty(this._elementRef.nativeElement,N,H)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(y.Qsj),y.Y36(y.SBq))},B.\u0275dir=y.lG2({type:B}),B})(),Qe=(()=>{class B extends dt{}return B.\u0275fac=function(){let F;return function(H){return(F||(F=y.n5z(B)))(H||B)}}(),B.\u0275dir=y.lG2({type:B,features:[y.qOj]}),B})();const ot=new y.OlP("NgValueAccessor"),nt={provide:ot,useExisting:(0,y.Gpc)(()=>ie),multi:!0},Et=new y.OlP("CompositionEventMode");let ie=(()=>{class B extends dt{constructor(N,H,He){super(N,H),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function At(){const B=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Et,8))},B.\u0275dir=y.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,H){1&N&&y.NdJ("input",function($t){return H._handleInput($t.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function($t){return H._compositionEnd($t.target.value)})},features:[y._Bn([nt]),y.qOj]}),B})();function se(B){return null==B||0===B.length}function Be(B){return null!=B&&"number"==typeof B.length}const qe=new y.OlP("NgValidators"),Ke=new y.OlP("NgAsyncValidators"),ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class de{static min(F){return function oe(B){return F=>{if(se(F.value)||se(B))return null;const N=parseFloat(F.value);return!isNaN(N)&&N<B?{min:{min:B,actual:F.value}}:null}}(F)}static max(F){return function me(B){return F=>{if(se(F.value)||se(B))return null;const N=parseFloat(F.value);return!isNaN(N)&&N>B?{max:{max:B,actual:F.value}}:null}}(F)}static required(F){return function ge(B){return se(B.value)?{required:!0}:null}(F)}static requiredTrue(F){return function Ue(B){return!0===B.value?null:{required:!0}}(F)}static email(F){return function je(B){return se(B.value)||ne.test(B.value)?null:{email:!0}}(F)}static minLength(F){return function qt(B){return F=>se(F.value)||!Be(F.value)?null:F.value.length<B?{minlength:{requiredLength:B,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Ft(B){return F=>Be(F.value)&&F.value.length>B?{maxlength:{requiredLength:B,actualLength:F.value.length}}:null}(F)}static pattern(F){return function nn(B){if(!B)return Ct;let F,N;return"string"==typeof B?(N="","^"!==B.charAt(0)&&(N+="^"),N+=B,"$"!==B.charAt(B.length-1)&&(N+="$"),F=new RegExp(N)):(N=B.toString(),F=B),H=>{if(se(H.value))return null;const He=H.value;return F.test(He)?null:{pattern:{requiredPattern:N,actualValue:He}}}}(F)}static nullValidator(F){return null}static compose(F){return ln(F)}static composeAsync(F){return In(F)}}function Ct(B){return null}function ht(B){return null!=B}function Wt(B){const F=(0,y.QGY)(B)?(0,pe.D)(B):B;return(0,y.CqO)(F),F}function kt(B){let F={};return B.forEach(N=>{F=null!=N?Object.assign(Object.assign({},F),N):F}),0===Object.keys(F).length?null:F}function Rn(B,F){return F.map(N=>N(B))}function mn(B){return B.map(F=>function Ot(B){return!B.validate}(F)?F:N=>F.validate(N))}function ln(B){if(!B)return null;const F=B.filter(ht);return 0==F.length?null:function(N){return kt(Rn(N,F))}}function wn(B){return null!=B?ln(mn(B)):null}function In(B){if(!B)return null;const F=B.filter(ht);return 0==F.length?null:function(N){return function he(...B){const F=(0,De.jO)(B),{args:N,keys:H}=(0,ae.D)(B),He=new X.y($t=>{const{length:vn}=N;if(!vn)return void $t.complete();const ri=new Array(vn);let ii=vn,Qr=vn;for(let to=0;to<vn;to++){let As=!1;(0,ce.Xf)(N[to]).subscribe((0,Le.x)($t,po=>{As||(As=!0,Qr--),ri[to]=po},()=>ii--,void 0,()=>{(!ii||!As)&&(Qr||$t.next(H?(0,Ne.n)(H,ri):ri),$t.complete())}))}});return F?He.pipe((0,Pe.Z)(F)):He}(Rn(N,F).map(Wt)).pipe((0,Oe.U)(kt))}}function jn(B){return null!=B?In(mn(B)):null}function Gr(B,F){return null===B?[F]:Array.isArray(B)?[...B,F]:[B,F]}function zn(B){return B._rawValidators}function ar(B){return B._rawAsyncValidators}function Tn(B){return B?Array.isArray(B)?B:[B]:[]}function Ar(B,F){return Array.isArray(B)?B.includes(F):B===F}function Vn(B,F){const N=Tn(F);return Tn(B).forEach(He=>{Ar(N,He)||N.push(He)}),N}function St(B,F){return Tn(F).filter(N=>!Ar(B,N))}class Yt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=wn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=jn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,N){return!!this.control&&this.control.hasError(F,N)}getError(F,N){return this.control?this.control.getError(F,N):null}}class xn extends Yt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn extends Yt{get formDirective(){return null}get path(){return null}}class Sr{constructor(F){this._cd=F}is(F){var N,H,He;return"submitted"===F?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(He=null===(H=this._cd)||void 0===H?void 0:H.control)||void 0===He?void 0:He[F])}}let un=(()=>{class B extends Sr{constructor(N){super(N)}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(xn,2))},B.\u0275dir=y.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,H){2&N&&y.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[y.qOj]}),B})(),mr=(()=>{class B extends Sr{constructor(N){super(N)}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(rn,10))},B.\u0275dir=y.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,H){2&N&&y.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))("ng-submitted",H.is("submitted"))},features:[y.qOj]}),B})();function En(B,F){Ce(B,F),F.valueAccessor.writeValue(B.value),function Fe(B,F){F.valueAccessor.registerOnChange(N=>{B._pendingValue=N,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&Ee(B,F)})}(B,F),function _e(B,F){const N=(H,He)=>{F.valueAccessor.writeValue(H),He&&F.viewToModelUpdate(H)};B.registerOnChange(N),F._registerOnDestroy(()=>{B._unregisterOnChange(N)})}(B,F),function _t(B,F){F.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&Ee(B,F),"submit"!==B.updateOn&&B.markAsTouched()})}(B,F),function ue(B,F){if(F.valueAccessor.setDisabledState){const N=H=>{F.valueAccessor.setDisabledState(H)};B.registerOnDisabledChange(N),F._registerOnDestroy(()=>{B._unregisterOnDisabledChange(N)})}}(B,F)}function Ht(B,F,N=!0){const H=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(H),F.valueAccessor.registerOnTouched(H)),Ye(B,F),B&&(F._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function we(B,F){B.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(F)})}function Ce(B,F){const N=zn(B);null!==F.validator?B.setValidators(Gr(N,F.validator)):"function"==typeof N&&B.setValidators([N]);const H=ar(B);null!==F.asyncValidator?B.setAsyncValidators(Gr(H,F.asyncValidator)):"function"==typeof H&&B.setAsyncValidators([H]);const He=()=>B.updateValueAndValidity();we(F._rawValidators,He),we(F._rawAsyncValidators,He)}function Ye(B,F){let N=!1;if(null!==B){if(null!==F.validator){const He=zn(B);if(Array.isArray(He)&&He.length>0){const $t=He.filter(vn=>vn!==F.validator);$t.length!==He.length&&(N=!0,B.setValidators($t))}}if(null!==F.asyncValidator){const He=ar(B);if(Array.isArray(He)&&He.length>0){const $t=He.filter(vn=>vn!==F.asyncValidator);$t.length!==He.length&&(N=!0,B.setAsyncValidators($t))}}}const H=()=>{};return we(F._rawValidators,H),we(F._rawAsyncValidators,H),N}function Ee(B,F){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function wr(B,F){const N=B.indexOf(F);N>-1&&B.splice(N,1)}const pt="VALID",Zt="INVALID",gn="PENDING",gr="DISABLED";function hr(B){return(cr(B)?B.validators:B)||null}function li(B){return Array.isArray(B)?wn(B):B||null}function kn(B,F){return(cr(F)?F.asyncValidators:B)||null}function Ir(B){return Array.isArray(B)?jn(B):B||null}function cr(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}const bn=B=>B instanceof Nr,ui=B=>B instanceof Rr,rs=B=>B instanceof Yn;function Wi(B){return bn(B)?B.value:B.getRawValue()}function Kr(B,F){const N=ui(B),H=B.controls;if(!(N?Object.keys(H):H).length)throw new y.vHH(1e3,"");if(!H[F])throw new y.vHH(1001,"")}function Pr(B,F){ui(B),B._forEachChild((H,He)=>{if(void 0===F[He])throw new y.vHH(1002,"")})}class br{constructor(F,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=N,this._composedValidatorFn=li(this._rawValidators),this._composedAsyncValidatorFn=Ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===pt}get invalid(){return this.status===Zt}get pending(){return this.status==gn}get disabled(){return this.status===gr}get enabled(){return this.status!==gr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=li(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Ir(F)}addValidators(F){this.setValidators(Vn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Vn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(St(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(St(F,this._rawAsyncValidators))}hasValidator(F){return Ar(this._rawValidators,F)}hasAsyncValidator(F){return Ar(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=gn,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=gr,this.errors=null,this._forEachChild(H=>{H.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:N})),this._onDisabledChange.forEach(H=>H(!0))}enable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=pt,this._forEachChild(H=>{H.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:N})),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pt||this.status===gn)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gr:pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;const N=Wt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,N={}){this.errors=F,this._updateControlsErrors(!1!==N.emitEvent)}get(F){return function Li(B,F,N){if(null==F||(Array.isArray(F)||(F=F.split(N)),Array.isArray(F)&&0===F.length))return null;let H=B;return F.forEach(He=>{H=ui(H)?H.controls.hasOwnProperty(He)?H.controls[He]:null:rs(H)&&H.at(He)||null}),H}(this,F,".")}getError(F,N){const H=N?this.get(N):this;return H&&H.errors?H.errors[F]:null}hasError(F,N){return!!this.getError(F,N)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?gr:this.errors?Zt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(Zt)?Zt:pt}_anyControlsHaveStatus(F){return this._anyControls(N=>N.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){cr(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nr extends br{constructor(F=null,N,H){super(hr(N),kn(H,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cr(N)&&N.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(F)?F.value:F)}setValue(F,N={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(F,N={}){this.setValue(F,N)}reset(F=this.defaultValue,N={}){this._applyFormState(F),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){wr(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){wr(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class Rr extends br{constructor(F,N,H){super(hr(N),kn(H,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,N){return this.controls[F]?this.controls[F]:(this.controls[F]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(F,N,H={}){this.registerControl(F,N),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(F,N={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(F,N,H={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],N&&this.registerControl(F,N),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,N={}){Pr(this,F),Object.keys(F).forEach(H=>{Kr(this,H),this.controls[H].setValue(F[H],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(Object.keys(F).forEach(H=>{this.controls[H]&&this.controls[H].patchValue(F[H],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F={},N={}){this._forEachChild((H,He)=>{H.reset(F[He],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(F,N,H)=>(F[H]=Wi(N),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(N,H)=>!!H._syncPendingControls()||N);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(N=>{const H=this.controls[N];H&&F(H,N)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const N of Object.keys(this.controls)){const H=this.controls[N];if(this.contains(N)&&F(H))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,N,H)=>((N.enabled||this.disabled)&&(F[H]=N.value),F))}_reduceChildren(F,N){let H=F;return this._forEachChild((He,$t)=>{H=N(H,He,$t)}),H}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Yn extends br{constructor(F,N,H){super(hr(N),kn(H,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,N={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(F,N,H={}){this.controls.splice(F,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(F,N={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(F,N,H={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),N&&(this.controls.splice(F,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,N={}){Pr(this,F),F.forEach((H,He)=>{Kr(this,He),this.at(He).setValue(H,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(F.forEach((H,He)=>{this.at(He)&&this.at(He).patchValue(H,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F=[],N={}){this._forEachChild((H,He)=>{H.reset(F[He],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(F=>Wi(F))}clear(F={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((N,H)=>!!H._syncPendingControls()||N,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((N,H)=>{F(N,H)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(N=>N.enabled&&F(N))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}let Xs=(()=>{class B{}return B.\u0275fac=function(N){return new(N||B)},B.\u0275dir=y.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})();const xe={provide:ot,useExisting:(0,y.Gpc)(()=>Ie),multi:!0};let Ie=(()=>{class B extends Qe{writeValue(N){this.setProperty("value",null==N?"":N)}registerOnChange(N){this.onChange=H=>{N(""==H?null:parseFloat(H))}}}return B.\u0275fac=function(){let F;return function(H){return(F||(F=y.n5z(B)))(H||B)}}(),B.\u0275dir=y.lG2({type:B,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,H){1&N&&y.NdJ("input",function($t){return H.onChange($t.target.value)})("blur",function(){return H.onTouched()})},features:[y._Bn([xe]),y.qOj]}),B})(),wt=(()=>{class B{}return B.\u0275fac=function(N){return new(N||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({}),B})();const Mi=new y.OlP("NgModelWithFormControlWarning"),ss={provide:rn,useExisting:(0,y.Gpc)(()=>vi)};let vi=(()=>{class B extends rn{constructor(N,H){super(),this.validators=N,this.asyncValidators=H,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(N),this._setAsyncValidators(H)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ye(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const H=this.form.get(N.path);return En(H,N),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),H}getControl(N){return this.form.get(N.path)}removeControl(N){Ht(N.control||null,N,!1),wr(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,H){this.form.get(N.path).setValue(H)}onSubmit(N){return this.submitted=!0,function oi(B,F){B._syncPendingControls(),F.forEach(N=>{const H=N.control;"submit"===H.updateOn&&H._pendingChange&&(N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const H=N.control,He=this.form.get(N.path);H!==He&&(Ht(H||null,N),bn(He)&&(En(He,N),N.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const H=this.form.get(N.path);(function re(B,F){Ce(B,F)})(H,N),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const H=this.form.get(N.path);H&&function Se(B,F){return Ye(B,F)}(H,N)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ce(this.form,this),this._oldForm&&Ye(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(qe,10),y.Y36(Ke,10))},B.\u0275dir=y.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(N,H){1&N&&y.NdJ("submit",function($t){return H.onSubmit($t)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ss]),y.qOj,y.TTD]}),B})();const gs={provide:xn,useExisting:(0,y.Gpc)(()=>Yi)};let Yi=(()=>{class B extends xn{constructor(N,H,He,$t,vn){super(),this._ngModelWarningConfig=vn,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(H),this._setAsyncValidators(He),this.valueAccessor=function Xn(B,F){if(!F)return null;let N,H,He;return Array.isArray(F),F.forEach($t=>{$t.constructor===ie?N=$t:function Fi(B){return Object.getPrototypeOf(B.constructor)===Qe}($t)?H=$t:He=$t}),He||H||N||null}(0,$t)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),function _r(B,F){if(!B.hasOwnProperty("model"))return!1;const N=B.model;return!!N.isFirstChange()||!Object.is(F,N.currentValue)}(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return function Xt(B,F){return[...F.path,B]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(N){return new(N||B)(y.Y36(rn,13),y.Y36(qe,10),y.Y36(Ke,10),y.Y36(ot,10),y.Y36(Mi,8))},B.\u0275dir=y.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([gs]),y.qOj,y.TTD]}),B})();const Bs={provide:ot,useExisting:(0,y.Gpc)(()=>Wr),multi:!0};function os(B,F){return null==B?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${B}: ${F}`.slice(0,50))}let Wr=(()=>{class B extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const He=os(this._getOptionId(N),N);this.setProperty("value",He)}registerOnChange(N){this.onChange=H=>{this.value=this._getOptionValue(H),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const H of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(H),N))return H;return null}_getOptionValue(N){const H=function Is(B){return B.split(":")[0]}(N);return this._optionMap.has(H)?this._optionMap.get(H):N}}return B.\u0275fac=function(){let F;return function(H){return(F||(F=y.n5z(B)))(H||B)}}(),B.\u0275dir=y.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(N,H){1&N&&y.NdJ("change",function($t){return H.onChange($t.target.value)})("blur",function(){return H.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Bs]),y.qOj]}),B})(),pi=(()=>{class B{constructor(N,H,He){this._element=N,this._renderer=H,this._select=He,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(os(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(Wr,9))},B.\u0275dir=y.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})();const Ds={provide:ot,useExisting:(0,y.Gpc)(()=>_i),multi:!0};function Us(B,F){return null==B?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${B}: ${F}`.slice(0,50))}let _i=(()=>{class B extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let H;if(this.value=N,Array.isArray(N)){const He=N.map($t=>this._getOptionId($t));H=($t,vn)=>{$t._setSelected(He.indexOf(vn.toString())>-1)}}else H=(He,$t)=>{He._setSelected(!1)};this._optionMap.forEach(H)}registerOnChange(N){this.onChange=H=>{const He=[],$t=H.selectedOptions;if(void 0!==$t){const vn=$t;for(let ri=0;ri<vn.length;ri++){const Qr=this._getOptionValue(vn[ri].value);He.push(Qr)}}else{const vn=H.options;for(let ri=0;ri<vn.length;ri++){const ii=vn[ri];if(ii.selected){const Qr=this._getOptionValue(ii.value);He.push(Qr)}}}this.value=He,N(He)}}_registerOption(N){const H=(this._idCounter++).toString();return this._optionMap.set(H,N),H}_getOptionId(N){for(const H of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(H)._value,N))return H;return null}_getOptionValue(N){const H=function Br(B){return B.split(":")[0]}(N);return this._optionMap.has(H)?this._optionMap.get(H)._value:N}}return B.\u0275fac=function(){let F;return function(H){return(F||(F=y.n5z(B)))(H||B)}}(),B.\u0275dir=y.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(N,H){1&N&&y.NdJ("change",function($t){return H.onChange($t.target)})("blur",function(){return H.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([Ds]),y.qOj]}),B})(),ks=(()=>{class B{constructor(N,H,He){this._element=N,this._renderer=H,this._select=He,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(Us(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(Us(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(N){return new(N||B)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(_i,9))},B.\u0275dir=y.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})(),gi=(()=>{class B{}return B.\u0275fac=function(N){return new(N||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({imports:[[wt]]}),B})(),cn=(()=>{class B{}return B.\u0275fac=function(N){return new(N||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({imports:[gi]}),B})(),Ui=(()=>{class B{static withConfig(N){return{ngModule:B,providers:[{provide:Mi,useValue:N.warnOnNgModelWithFormControl}]}}}return B.\u0275fac=function(N){return new(N||B)},B.\u0275mod=y.oAB({type:B}),B.\u0275inj=y.cJS({imports:[gi]}),B})(),js=(()=>{class B{group(N,H=null){const He=this._reduceControls(N);let ri,$t=null,vn=null;return null!=H&&(function bi(B){return void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn}(H)?($t=null!=H.validators?H.validators:null,vn=null!=H.asyncValidators?H.asyncValidators:null,ri=null!=H.updateOn?H.updateOn:void 0):($t=null!=H.validator?H.validator:null,vn=null!=H.asyncValidator?H.asyncValidator:null)),new Rr(He,{asyncValidators:vn,updateOn:ri,validators:$t})}control(N,H,He){return new Nr(N,H,He)}array(N,H,He){const $t=N.map(vn=>this._createControl(vn));return new Yn($t,H,He)}_reduceControls(N){const H={};return Object.keys(N).forEach(He=>{H[He]=this._createControl(N[He])}),H}_createControl(N){return bn(N)||ui(N)||rs(N)?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return B.\u0275fac=function(N){return new(N||B)},B.\u0275prov=y.Yz7({token:B,factory:B.\u0275fac,providedIn:Ui}),B})()},2313:(Nt,ze,$)=>{"use strict";$.d(ze,{H7:()=>Ce,b2:()=>Ar,q6:()=>ar,se:()=>Ue});var y=$(9808),S=$(5e3);class X extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends X{static makeCurrent(){(0,y.HT)(new ae)}onAndCancel(_e,re,Se){return _e.addEventListener(re,Se,!1),()=>{_e.removeEventListener(re,Se,!1)}}dispatchEvent(_e,re){_e.dispatchEvent(re)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,re){return(re=re||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,re){return"window"===re?window:"document"===re?_e:"body"===re?_e.body:null}getBaseHref(_e){const re=function De(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==re?null:function Pe(Ee){Le=Le||document.createElement("a"),Le.setAttribute("href",Ee);const _e=Le.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(re)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,y.Mx)(document.cookie,_e)}}let Le,ce=null;const Ne=new S.OlP("TRANSITION_ID"),pe=[{provide:S.ip1,useFactory:function he(Ee,_e,re){return()=>{re.get(S.CZH).donePromise.then(()=>{const Se=(0,y.q)(),tt=_e.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let mt=0;mt<tt.length;mt++)Se.remove(tt[mt])})}},deps:[Ne,y.K0,S.zs3],multi:!0}];class Oe{static init(){(0,S.VLi)(new Oe)}addToWindow(_e){S.dqk.getAngularTestability=(Se,tt=!0)=>{const mt=_e.findTestabilityInTree(Se,tt);if(null==mt)throw new Error("Could not find testability for element.");return mt},S.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),S.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),S.dqk.frameworkStabilizers||(S.dqk.frameworkStabilizers=[]),S.dqk.frameworkStabilizers.push(Se=>{const tt=S.dqk.getAllAngularTestabilities();let mt=tt.length,en=!1;const Hn=function(_r){en=en||_r,mt--,0==mt&&Se(en)};tt.forEach(function(_r){_r.whenStable(Hn)})})}findTestabilityInTree(_e,re,Se){if(null==re)return null;const tt=_e.getTestability(re);return null!=tt?tt:Se?(0,y.q)().isShadowRoot(re)?this.findTestabilityInTree(_e,re.host,!0):this.findTestabilityInTree(_e,re.parentElement,!0):null}}let dt=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(re){return new(re||Ee)},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Qe=new S.OlP("EventManagerPlugins");let ot=(()=>{class Ee{constructor(re,Se){this._zone=Se,this._eventNameToPlugin=new Map,re.forEach(tt=>tt.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Se,tt){return this._findPluginFor(Se).addEventListener(re,Se,tt)}addGlobalEventListener(re,Se,tt){return this._findPluginFor(Se).addGlobalEventListener(re,Se,tt)}getZone(){return this._zone}_findPluginFor(re){const Se=this._eventNameToPlugin.get(re);if(Se)return Se;const tt=this._plugins;for(let mt=0;mt<tt.length;mt++){const en=tt[mt];if(en.supports(re))return this._eventNameToPlugin.set(re,en),en}throw new Error(`No event manager plugin found for event ${re}`)}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(Qe),S.LFG(S.R0b))},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class ft{constructor(_e){this._doc=_e}addGlobalEventListener(_e,re,Se){const tt=(0,y.q)().getGlobalEventTarget(this._doc,_e);if(!tt)throw new Error(`Unsupported event target ${tt} for event ${re}`);return this.addEventListener(tt,re,Se)}}let We=(()=>{class Ee{constructor(){this._stylesSet=new Set}addStyles(re){const Se=new Set;re.forEach(tt=>{this._stylesSet.has(tt)||(this._stylesSet.add(tt),Se.add(tt))}),this.onStylesAdded(Se)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return Ee.\u0275fac=function(re){return new(re||Ee)},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),nt=(()=>{class Ee extends We{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Se,tt){re.forEach(mt=>{const en=this._doc.createElement("style");en.textContent=mt,tt.push(Se.appendChild(en))})}addHost(re){const Se=[];this._addStylesToHost(this._stylesSet,re,Se),this._hostNodes.set(re,Se)}removeHost(re){const Se=this._hostNodes.get(re);Se&&Se.forEach(At),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Se,tt)=>{this._addStylesToHost(re,tt,Se)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(At))}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(y.K0))},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function At(Ee){(0,y.q)().remove(Ee)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ie=/%COMP%/g;function oe(Ee,_e,re){for(let Se=0;Se<_e.length;Se++){let tt=_e[Se];Array.isArray(tt)?oe(Ee,tt,re):(tt=tt.replace(ie,Ee),re.push(tt))}return re}function me(Ee){return _e=>{if("__ngUnwrap__"===_e)return Ee;!1===Ee(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let Ue=(()=>{class Ee{constructor(re,Se,tt){this.eventManager=re,this.sharedStylesHost=Se,this.appId=tt,this.rendererByCompId=new Map,this.defaultRenderer=new je(re)}createRenderer(re,Se){if(!re||!Se)return this.defaultRenderer;switch(Se.encapsulation){case S.ifc.Emulated:{let tt=this.rendererByCompId.get(Se.id);return tt||(tt=new nn(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,tt)),tt.applyToHost(re),tt}case 1:case S.ifc.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,re,Se);default:if(!this.rendererByCompId.has(Se.id)){const tt=oe(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(tt),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(ot),S.LFG(nt),S.LFG(S.AFp))},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class je{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,re){return re?document.createElementNS(Et[re]||re,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,re){_e.appendChild(re)}insertBefore(_e,re,Se){_e&&_e.insertBefore(re,Se)}removeChild(_e,re){_e&&_e.removeChild(re)}selectRootElement(_e,re){let Se="string"==typeof _e?document.querySelector(_e):_e;if(!Se)throw new Error(`The selector "${_e}" did not match any elements`);return re||(Se.textContent=""),Se}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,re,Se,tt){if(tt){re=tt+":"+re;const mt=Et[tt];mt?_e.setAttributeNS(mt,re,Se):_e.setAttribute(re,Se)}else _e.setAttribute(re,Se)}removeAttribute(_e,re,Se){if(Se){const tt=Et[Se];tt?_e.removeAttributeNS(tt,re):_e.removeAttribute(`${Se}:${re}`)}else _e.removeAttribute(re)}addClass(_e,re){_e.classList.add(re)}removeClass(_e,re){_e.classList.remove(re)}setStyle(_e,re,Se,tt){tt&(S.JOm.DashCase|S.JOm.Important)?_e.style.setProperty(re,Se,tt&S.JOm.Important?"important":""):_e.style[re]=Se}removeStyle(_e,re,Se){Se&S.JOm.DashCase?_e.style.removeProperty(re):_e.style[re]=""}setProperty(_e,re,Se){_e[re]=Se}setValue(_e,re){_e.nodeValue=re}listen(_e,re,Se){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,re,me(Se)):this.eventManager.addEventListener(_e,re,me(Se))}}class nn extends je{constructor(_e,re,Se,tt){super(_e),this.component=Se;const mt=oe(tt+"-"+Se.id,Se.styles,[]);re.addStyles(mt),this.contentAttr=function ne(Ee){return"_ngcontent-%COMP%".replace(ie,Ee)}(tt+"-"+Se.id),this.hostAttr=function de(Ee){return"_nghost-%COMP%".replace(ie,Ee)}(tt+"-"+Se.id)}applyToHost(_e){super.setAttribute(_e,this.hostAttr,"")}createElement(_e,re){const Se=super.createElement(_e,re);return super.setAttribute(Se,this.contentAttr,""),Se}}class Ct extends je{constructor(_e,re,Se,tt){super(_e),this.sharedStylesHost=re,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mt=oe(tt.id,tt.styles,[]);for(let en=0;en<mt.length;en++){const Hn=document.createElement("style");Hn.textContent=mt[en],this.shadowRoot.appendChild(Hn)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_e,re){return super.appendChild(this.nodeOrShadowRoot(_e),re)}insertBefore(_e,re,Se){return super.insertBefore(this.nodeOrShadowRoot(_e),re,Se)}removeChild(_e,re){return super.removeChild(this.nodeOrShadowRoot(_e),re)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}}let ht=(()=>{class Ee extends ft{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Se,tt){return re.addEventListener(Se,tt,!1),()=>this.removeEventListener(re,Se,tt)}removeEventListener(re,Se,tt){return re.removeEventListener(Se,tt)}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(y.K0))},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Wt=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mn={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let ln=(()=>{class Ee extends ft{constructor(re){super(re)}supports(re){return null!=Ee.parseEventName(re)}addEventListener(re,Se,tt){const mt=Ee.parseEventName(Se),en=Ee.eventCallback(mt.fullKey,tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(re,mt.domEventName,en))}static parseEventName(re){const Se=re.toLowerCase().split("."),tt=Se.shift();if(0===Se.length||"keydown"!==tt&&"keyup"!==tt)return null;const mt=Ee._normalizeKey(Se.pop());let en="";if(Wt.forEach(_r=>{const Fi=Se.indexOf(_r);Fi>-1&&(Se.splice(Fi,1),en+=_r+".")}),en+=mt,0!=Se.length||0===mt.length)return null;const Hn={};return Hn.domEventName=tt,Hn.fullKey=en,Hn}static getEventFullKey(re){let Se="",tt=function wn(Ee){let _e=Ee.key;if(null==_e){if(_e=Ee.keyIdentifier,null==_e)return"Unidentified";_e.startsWith("U+")&&(_e=String.fromCharCode(parseInt(_e.substring(2),16)),3===Ee.location&&Ot.hasOwnProperty(_e)&&(_e=Ot[_e]))}return Rn[_e]||_e}(re);return tt=tt.toLowerCase()," "===tt?tt="space":"."===tt&&(tt="dot"),Wt.forEach(mt=>{mt!=tt&&mn[mt](re)&&(Se+=mt+".")}),Se+=tt,Se}static eventCallback(re,Se,tt){return mt=>{Ee.getEventFullKey(mt)===re&&tt.runGuarded(()=>Se(mt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(y.K0))},Ee.\u0275prov=S.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const ar=(0,S.eFA)(S._c5,"browser",[{provide:S.Lbi,useValue:y.bD},{provide:S.g9A,useValue:function In(){ae.makeCurrent(),Oe.init()},multi:!0},{provide:y.K0,useFactory:function Gr(){return(0,S.RDi)(document),document},deps:[]}]),Tn=[{provide:S.zSh,useValue:"root"},{provide:S.qLn,useFactory:function jn(){return new S.qLn},deps:[]},{provide:Qe,useClass:ht,multi:!0,deps:[y.K0,S.R0b,S.Lbi]},{provide:Qe,useClass:ln,multi:!0,deps:[y.K0]},{provide:Ue,useClass:Ue,deps:[ot,nt,S.AFp]},{provide:S.FYo,useExisting:Ue},{provide:We,useExisting:nt},{provide:nt,useClass:nt,deps:[y.K0]},{provide:S.dDg,useClass:S.dDg,deps:[S.R0b]},{provide:ot,useClass:ot,deps:[Qe,S.R0b]},{provide:y.JF,useClass:dt,deps:[]}];let Ar=(()=>{class Ee{constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:Ee,providers:[{provide:S.AFp,useValue:re.appId},{provide:Ne,useExisting:S.AFp},pe]}}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(Ee,12))},Ee.\u0275mod=S.oAB({type:Ee}),Ee.\u0275inj=S.cJS({providers:Tn,imports:[y.ez,S.hGG]}),Ee})();"undefined"!=typeof window&&window;let Ce=(()=>{class Ee{}return Ee.\u0275fac=function(re){return new(re||Ee)},Ee.\u0275prov=S.Yz7({token:Ee,factory:function(re){let Se=null;return Se=re?new(re||Ee):S.LFG(Fe),Se},providedIn:"root"}),Ee})(),Fe=(()=>{class Ee extends Ce{constructor(re){super(),this._doc=re}sanitize(re,Se){if(null==Se)return null;switch(re){case S.q3G.NONE:return Se;case S.q3G.HTML:return(0,S.qzn)(Se,"HTML")?(0,S.z3N)(Se):(0,S.EiD)(this._doc,String(Se)).toString();case S.q3G.STYLE:return(0,S.qzn)(Se,"Style")?(0,S.z3N)(Se):Se;case S.q3G.SCRIPT:if((0,S.qzn)(Se,"Script"))return(0,S.z3N)(Se);throw new Error("unsafe value used in a script context");case S.q3G.URL:return(0,S.yhl)(Se),(0,S.qzn)(Se,"URL")?(0,S.z3N)(Se):(0,S.mCW)(String(Se));case S.q3G.RESOURCE_URL:if((0,S.qzn)(Se,"ResourceURL"))return(0,S.z3N)(Se);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,S.JVY)(re)}bypassSecurityTrustStyle(re){return(0,S.L6k)(re)}bypassSecurityTrustScript(re){return(0,S.eBb)(re)}bypassSecurityTrustUrl(re){return(0,S.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,S.pB0)(re)}}return Ee.\u0275fac=function(re){return new(re||Ee)(S.LFG(y.K0))},Ee.\u0275prov=S.Yz7({token:Ee,factory:function(re){let Se=null;return Se=re?new re:function Ye(Ee){return new Fe(Ee.get(y.K0))}(S.LFG(S.zs3)),Se},providedIn:"root"}),Ee})()},441:(Nt,ze,$)=>{"use strict";$.d(ze,{F0:()=>ci,rH:()=>zs,yS:()=>co,Bz:()=>rt,lC:()=>as});var y=$(5e3),S=$(8306),X=$(4742),ae=$(8996),ce=$(4671),De=$(3268),Le=$(7669),Pe=$(1810),Ne=$(5403),he=$(9672);function dt(c,p,f){c?(0,he.f)(f,c,p):p()}var Qe=$(576);function ot(c,p){const f=(0,Qe.m)(c)?c:()=>c,C=T=>T.error(f());return new S.y(p?T=>p.schedule(C,0,T):C)}var ft=$(8421);function We(c){return new S.y(p=>{(0,ft.Xf)(c()).subscribe(p)})}var nt=$(727),At=$(4482);function Et(){return(0,At.e)((c,p)=>{let f=null;c._refCount++;const C=(0,Ne.x)(p,void 0,void 0,void 0,()=>{if(!c||c._refCount<=0||0<--c._refCount)return void(f=null);const T=c._connection,P=f;f=null,T&&(!P||T===P)&&T.unsubscribe(),p.unsubscribe()});c.subscribe(C),C.closed||(f=c.connect())})}class ie extends S.y{constructor(p,f){super(),this.source=p,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,At.A)(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,null==p||p.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new nt.w0;const f=this.getSubject();p.add(this.source.subscribe((0,Ne.x)(f,void 0,()=>{this._teardown(),f.complete()},C=>{this._teardown(),f.error(C)},()=>this._teardown()))),p.closed&&(this._connection=null,p=nt.w0.EMPTY)}return p}refCount(){return Et()(this)}}var se=$(9646),Be=$(1135),qe=$(6805),Ke=$(7272),ne=$(515),de=$(7579);function oe(c){return(0,At.e)((p,f)=>{let P,C=null,T=!1;C=p.subscribe((0,Ne.x)(f,void 0,void 0,U=>{P=(0,ft.Xf)(c(U,oe(c)(p))),C?(C.unsubscribe(),C=null,P.subscribe(f)):T=!0})),T&&(C.unsubscribe(),C=null,P.subscribe(f))})}var me=$(5577);function ge(c,p){return(0,Qe.m)(p)?(0,me.z)(c,p,1):(0,me.z)(c,1)}var Ue=$(9300);function je(c){return c<=0?()=>ne.E:(0,At.e)((p,f)=>{let C=[];p.subscribe((0,Ne.x)(f,T=>{C.push(T),c<C.length&&C.shift()},()=>{for(const T of C)f.next(T);f.complete()},void 0,()=>{C=null}))})}var qt=$(8068),Ft=$(6590),ht=$(4004),Wt=$(3900),kt=$(5698),Rn=$(8675),Ot=$(5026),mn=$(590),ln=$(8505),wn=$(8189),In=$(9808);class jn{constructor(p,f){this.id=p,this.url=f}}class Gr extends jn{constructor(p,f,C="imperative",T=null){super(p,f),this.navigationTrigger=C,this.restoredState=T}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zn extends jn{constructor(p,f,C){super(p,f),this.urlAfterRedirects=C}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ar extends jn{constructor(p,f,C){super(p,f),this.reason=C}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends jn{constructor(p,f,C){super(p,f),this.error=C}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ar extends jn{constructor(p,f,C,T){super(p,f),this.urlAfterRedirects=C,this.state=T}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends jn{constructor(p,f,C,T){super(p,f),this.urlAfterRedirects=C,this.state=T}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends jn{constructor(p,f,C,T,P){super(p,f),this.urlAfterRedirects=C,this.state=T,this.shouldActivate=P}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yt extends jn{constructor(p,f,C,T){super(p,f),this.urlAfterRedirects=C,this.state=T}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends jn{constructor(p,f,C,T){super(p,f),this.urlAfterRedirects=C,this.state=T}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zr{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(p,f,C){this.routerEvent=p,this.position=f,this.anchor=C}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Tt{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f[0]:f}return null}getAll(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Mt(c){return new Tt(c)}const ur="ngNavigationCancelingError";function Or(c){const p=Error("NavigationCancelingError: "+c);return p[ur]=!0,p}function ki(c,p,f){const C=f.path.split("/");if(C.length>c.length||"full"===f.pathMatch&&(p.hasChildren()||C.length<c.length))return null;const T={};for(let P=0;P<C.length;P++){const U=C[P],K=c[P];if(U.startsWith(":"))T[U.substring(1)]=K;else if(U!==K.path)return null}return{consumed:c.slice(0,C.length),posParams:T}}function qn(c,p){const f=c?Object.keys(c):void 0,C=p?Object.keys(p):void 0;if(!f||!C||f.length!=C.length)return!1;let T;for(let P=0;P<f.length;P++)if(T=f[P],!Gt(c[T],p[T]))return!1;return!0}function Gt(c,p){if(Array.isArray(c)&&Array.isArray(p)){if(c.length!==p.length)return!1;const f=[...c].sort(),C=[...p].sort();return f.every((T,P)=>C[P]===T)}return c===p}function vr(c){return Array.prototype.concat.apply([],c)}function Dn(c){return c.length>0?c[c.length-1]:null}function Ve(c,p){for(const f in c)c.hasOwnProperty(f)&&p(c[f],f)}function xt(c){return(0,y.CqO)(c)?c:(0,y.QGY)(c)?(0,ae.D)(Promise.resolve(c)):(0,se.of)(c)}const En={exact:function Ce(c,p,f){if(!mt(c.segments,p.segments)||!Ee(c.segments,p.segments,f)||c.numberOfChildren!==p.numberOfChildren)return!1;for(const C in p.children)if(!c.children[C]||!Ce(c.children[C],p.children[C],f))return!1;return!0},subset:Fe},Ht={exact:function ue(c,p){return qn(c,p)},subset:function Ye(c,p){return Object.keys(p).length<=Object.keys(c).length&&Object.keys(p).every(f=>Gt(c[f],p[f]))},ignored:()=>!0};function we(c,p,f){return En[f.paths](c.root,p.root,f.matrixParams)&&Ht[f.queryParams](c.queryParams,p.queryParams)&&!("exact"===f.fragment&&c.fragment!==p.fragment)}function Fe(c,p,f){return _t(c,p,p.segments,f)}function _t(c,p,f,C){if(c.segments.length>f.length){const T=c.segments.slice(0,f.length);return!(!mt(T,f)||p.hasChildren()||!Ee(T,f,C))}if(c.segments.length===f.length){if(!mt(c.segments,f)||!Ee(c.segments,f,C))return!1;for(const T in p.children)if(!c.children[T]||!Fe(c.children[T],p.children[T],C))return!1;return!0}{const T=f.slice(0,c.segments.length),P=f.slice(c.segments.length);return!!(mt(c.segments,T)&&Ee(c.segments,T,C)&&c.children[Dt])&&_t(c.children[Dt],p,P,C)}}function Ee(c,p,f){return p.every((C,T)=>Ht[f](c[T].parameters,C.parameters))}class _e{constructor(p,f,C){this.root=p,this.queryParams=f,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mt(this.queryParams)),this._queryParamMap}toString(){return Fi.serialize(this)}}class re{constructor(p,f){this.segments=p,this.children=f,this.parent=null,Ve(f,(C,T)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oi(this)}}class Se{constructor(p,f){this.path=p,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Mt(this.parameters)),this._parameterMap}toString(){return gr(this)}}function mt(c,p){return c.length===p.length&&c.every((f,C)=>f.path===p[C].path)}class Hn{}class _r{parse(p){const f=new rs(p);return new _e(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(p){const f=`/${Xn(p.root,!0)}`,C=function hr(c){const p=Object.keys(c).map(f=>{const C=c[f];return Array.isArray(C)?C.map(T=>`${ai(f)}=${ai(T)}`).join("&"):`${ai(f)}=${ai(C)}`}).filter(f=>!!f);return p.length?`?${p.join("&")}`:""}(p.queryParams);return`${f}${C}${"string"==typeof p.fragment?`#${function sn(c){return encodeURI(c)}(p.fragment)}`:""}`}}const Fi=new _r;function oi(c){return c.segments.map(p=>gr(p)).join("/")}function Xn(c,p){if(!c.hasChildren())return oi(c);if(p){const f=c.children[Dt]?Xn(c.children[Dt],!1):"",C=[];return Ve(c.children,(T,P)=>{P!==Dt&&C.push(`${P}:${Xn(T,!1)}`)}),C.length>0?`${f}(${C.join("//")})`:f}{const f=function en(c,p){let f=[];return Ve(c.children,(C,T)=>{T===Dt&&(f=f.concat(p(C,T)))}),Ve(c.children,(C,T)=>{T!==Dt&&(f=f.concat(p(C,T)))}),f}(c,(C,T)=>T===Dt?[Xn(c.children[Dt],!1)]:[`${T}:${Xn(C,!1)}`]);return 1===Object.keys(c.children).length&&null!=c.children[Dt]?`${oi(c)}/${f[0]}`:`${oi(c)}/(${f.join("//")})`}}function wr(c){return encodeURIComponent(c).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ai(c){return wr(c).replace(/%3B/gi,";")}function pt(c){return wr(c).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(c){return decodeURIComponent(c)}function gn(c){return Zt(c.replace(/\+/g,"%20"))}function gr(c){return`${pt(c.path)}${function Li(c){return Object.keys(c).map(p=>`;${pt(p)}=${pt(c[p])}`).join("")}(c.parameters)}`}const li=/^[^\/()?;=#]+/;function kn(c){const p=c.match(li);return p?p[0]:""}const Ir=/^[^=?&#]+/,bn=/^[^&#]+/;class rs{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(p.length>0||Object.keys(f).length>0)&&(C[Dt]=new re(p,f)),C}parseSegment(){const p=kn(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new Se(Zt(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const f=kn(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const T=kn(this.remaining);T&&(C=T,this.capture(C))}p[Zt(f)]=Zt(C)}parseQueryParam(p){const f=function cr(c){const p=c.match(Ir);return p?p[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const U=function ui(c){const p=c.match(bn);return p?p[0]:""}(this.remaining);U&&(C=U,this.capture(C))}const T=gn(f),P=gn(C);if(p.hasOwnProperty(T)){let U=p[T];Array.isArray(U)||(U=[U],p[T]=U),U.push(P)}else p[T]=P}parseParens(p){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=kn(this.remaining),T=this.remaining[C.length];if("/"!==T&&")"!==T&&";"!==T)throw new Error(`Cannot parse url '${this.url}'`);let P;C.indexOf(":")>-1?(P=C.substr(0,C.indexOf(":")),this.capture(P),this.capture(":")):p&&(P=Dt);const U=this.parseChildren();f[P]=1===Object.keys(U).length?U[Dt]:new re([],U),this.consumeOptional("//")}return f}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class Wi{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const f=this.pathFromRoot(p);return f.length>1?f[f.length-2]:null}children(p){const f=Kr(p,this._root);return f?f.children.map(C=>C.value):[]}firstChild(p){const f=Kr(p,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(p){const f=Pr(p,this._root);return f.length<2?[]:f[f.length-2].children.map(T=>T.value).filter(T=>T!==p)}pathFromRoot(p){return Pr(p,this._root).map(f=>f.value)}}function Kr(c,p){if(c===p.value)return p;for(const f of p.children){const C=Kr(c,f);if(C)return C}return null}function Pr(c,p){if(c===p.value)return[p];for(const f of p.children){const C=Pr(c,f);if(C.length)return C.unshift(p),C}return[]}class br{constructor(p,f){this.value=p,this.children=f}toString(){return`TreeNode(${this.value})`}}function Nr(c){const p={};return c&&c.children.forEach(f=>p[f.value.outlet]=f),p}class Rr extends Wi{constructor(p,f){super(p),this.snapshot=f,ps(this,p)}toString(){return this.snapshot.toString()}}function Yn(c,p){const f=function hs(c,p){const U=new fs([],{},{},"",{},Dt,p,null,c.root,-1,{});return new fi("",new br(U,[]))}(c,p),C=new Be.X([new Se("",{})]),T=new Be.X({}),P=new Be.X({}),U=new Be.X({}),K=new Be.X(""),Ae=new Lr(C,T,U,K,P,Dt,p,f.root);return Ae.snapshot=f.root,new Rr(new br(Ae,[]),f)}class Lr{constructor(p,f,C,T,P,U,K,Ae){this.url=p,this.params=f,this.queryParams=C,this.fragment=T,this.data=P,this.outlet=U,this.component=K,this._futureSnapshot=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(p=>Mt(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(p=>Mt(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ti(c,p="emptyOnly"){const f=c.pathFromRoot;let C=0;if("always"!==p)for(C=f.length-1;C>=1;){const T=f[C],P=f[C-1];if(T.routeConfig&&""===T.routeConfig.path)C--;else{if(P.component)break;C--}}return function Vr(c){return c.reduce((p,f)=>({params:Object.assign(Object.assign({},p.params),f.params),data:Object.assign(Object.assign({},p.data),f.data),resolve:Object.assign(Object.assign({},p.resolve),f._resolvedData)}),{params:{},data:{},resolve:{}})}(f.slice(C))}class fs{constructor(p,f,C,T,P,U,K,Ae,lt,Vt,ct){this.url=p,this.params=f,this.queryParams=C,this.fragment=T,this.data=P,this.outlet=U,this.component=K,this.routeConfig=Ae,this._urlSegment=lt,this._lastPathIndex=Vt,this._resolve=ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fi extends Wi{constructor(p,f){super(f),this.url=p,ps(this,f)}toString(){return yi(this._root)}}function ps(c,p){p.value._routerState=c,p.children.forEach(f=>ps(c,f))}function yi(c){const p=c.children.length>0?` { ${c.children.map(yi).join(", ")} } `:"";return`${c.value}${p}`}function Zi(c){if(c.snapshot){const p=c.snapshot,f=c._futureSnapshot;c.snapshot=f,qn(p.queryParams,f.queryParams)||c.queryParams.next(f.queryParams),p.fragment!==f.fragment&&c.fragment.next(f.fragment),qn(p.params,f.params)||c.params.next(f.params),function yr(c,p){if(c.length!==p.length)return!1;for(let f=0;f<c.length;++f)if(!qn(c[f],p[f]))return!1;return!0}(p.url,f.url)||c.url.next(f.url),qn(p.data,f.data)||c.data.next(f.data)}else c.snapshot=c._futureSnapshot,c.data.next(c._futureSnapshot.data)}function Ki(c,p){const f=qn(c.params,p.params)&&function tt(c,p){return mt(c,p)&&c.every((f,C)=>qn(f.parameters,p[C].parameters))}(c.url,p.url);return f&&!(!c.parent!=!p.parent)&&(!c.parent||Ki(c.parent,p.parent))}function Qn(c,p,f){if(f&&c.shouldReuseRoute(p.value,f.value.snapshot)){const C=f.value;C._futureSnapshot=p.value;const T=function Es(c,p,f){return p.children.map(C=>{for(const T of f.children)if(c.shouldReuseRoute(C.value,T.value.snapshot))return Qn(c,C,T);return Qn(c,C)})}(c,p,f);return new br(C,T)}{if(c.shouldAttach(p.value)){const P=c.retrieve(p.value);if(null!==P){const U=P.route;return U.value._futureSnapshot=p.value,U.children=p.children.map(K=>Qn(c,K)),U}}const C=function Xs(c){return new Lr(new Be.X(c.url),new Be.X(c.params),new Be.X(c.queryParams),new Be.X(c.fragment),new Be.X(c.data),c.outlet,c.component,c)}(p.value),T=p.children.map(P=>Qn(c,P));return new br(C,T)}}function Ie(c){return"object"==typeof c&&null!=c&&!c.outlets&&!c.segmentPath}function $e(c){return"object"==typeof c&&null!=c&&c.outlets}function st(c,p,f,C,T){let P={};if(C&&Ve(C,(K,Ae)=>{P[Ae]=Array.isArray(K)?K.map(lt=>`${lt}`):`${K}`}),c===p)return new _e(f,P,T);const U=wt(c,p,f);return new _e(U,P,T)}function wt(c,p,f){const C={};return Ve(c.children,(T,P)=>{C[P]=T===p?f:wt(T,p,f)}),new re(c.segments,C)}class Qt{constructor(p,f,C){if(this.isAbsolute=p,this.numberOfDoubleDots=f,this.commands=C,p&&C.length>0&&Ie(C[0]))throw new Error("Root segment cannot have matrix parameters");const T=C.find($e);if(T&&T!==Dn(C))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nr{constructor(p,f,C){this.segmentGroup=p,this.processChildren=f,this.index=C}}function Vi(c,p,f){if(c||(c=new re([],{})),0===c.segments.length&&c.hasChildren())return ss(c,p,f);const C=function vi(c,p,f){let C=0,T=p;const P={match:!1,pathIndex:0,commandIndex:0};for(;T<c.segments.length;){if(C>=f.length)return P;const U=c.segments[T],K=f[C];if($e(K))break;const Ae=`${K}`,lt=C<f.length-1?f[C+1]:null;if(T>0&&void 0===Ae)break;if(Ae&&lt&&"object"==typeof lt&&void 0===lt.outlets){if(!ni(Ae,lt,U))return P;C+=2}else{if(!ni(Ae,{},U))return P;C++}T++}return{match:!0,pathIndex:T,commandIndex:C}}(c,p,f),T=f.slice(C.commandIndex);if(C.match&&C.pathIndex<c.segments.length){const P=new re(c.segments.slice(0,C.pathIndex),{});return P.children[Dt]=new re(c.segments.slice(C.pathIndex),c.children),ss(P,0,T)}return C.match&&0===T.length?new re(c.segments,{}):C.match&&!c.hasChildren()?Vs(c,p,f):C.match?ss(c,0,T):Vs(c,p,f)}function ss(c,p,f){if(0===f.length)return new re(c.segments,{});{const C=function is(c){return $e(c[0])?c[0].outlets:{[Dt]:c}}(f),T={};return Ve(C,(P,U)=>{"string"==typeof P&&(P=[P]),null!==P&&(T[U]=Vi(c.children[U],p,P))}),Ve(c.children,(P,U)=>{void 0===C[U]&&(T[U]=P)}),new re(c.segments,T)}}function Vs(c,p,f){const C=c.segments.slice(0,p);let T=0;for(;T<f.length;){const P=f[T];if($e(P)){const Ae=Cs(P.outlets);return new re(C,Ae)}if(0===T&&Ie(f[0])){C.push(new Se(c.segments[p].path,xi(f[0]))),T++;continue}const U=$e(P)?P.outlets[Dt]:`${P}`,K=T<f.length-1?f[T+1]:null;U&&K&&Ie(K)?(C.push(new Se(U,xi(K))),T+=2):(C.push(new Se(U,{})),T++)}return new re(C,{})}function Cs(c){const p={};return Ve(c,(f,C)=>{"string"==typeof f&&(f=[f]),null!==f&&(p[C]=Vs(new re([],{}),0,f))}),p}function xi(c){const p={};return Ve(c,(f,C)=>p[C]=`${f}`),p}function ni(c,p,f){return c==f.path&&qn(p,f.parameters)}class gs{constructor(p,f,C,T){this.routeReuseStrategy=p,this.futureState=f,this.currState=C,this.forwardEvent=T}activate(p){const f=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,C,p),Zi(this.futureState.root),this.activateChildRoutes(f,C,p)}deactivateChildRoutes(p,f,C){const T=Nr(f);p.children.forEach(P=>{const U=P.value.outlet;this.deactivateRoutes(P,T[U],C),delete T[U]}),Ve(T,(P,U)=>{this.deactivateRouteAndItsChildren(P,C)})}deactivateRoutes(p,f,C){const T=p.value,P=f?f.value:null;if(T===P)if(T.component){const U=C.getContext(T.outlet);U&&this.deactivateChildRoutes(p,f,U.children)}else this.deactivateChildRoutes(p,f,C);else P&&this.deactivateRouteAndItsChildren(f,C)}deactivateRouteAndItsChildren(p,f){p.value.component&&this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,f):this.deactivateRouteAndOutlet(p,f)}detachAndStoreRouteSubtree(p,f){const C=f.getContext(p.value.outlet),T=C&&p.value.component?C.children:f,P=Nr(p);for(const U of Object.keys(P))this.deactivateRouteAndItsChildren(P[U],T);if(C&&C.outlet){const U=C.outlet.detach(),K=C.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:U,route:p,contexts:K})}}deactivateRouteAndOutlet(p,f){const C=f.getContext(p.value.outlet),T=C&&p.value.component?C.children:f,P=Nr(p);for(const U of Object.keys(P))this.deactivateRouteAndItsChildren(P[U],T);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(p,f,C){const T=Nr(f);p.children.forEach(P=>{this.activateRoutes(P,T[P.value.outlet],C),this.forwardEvent(new mr(P.value.snapshot))}),p.children.length&&this.forwardEvent(new tr(p.value.snapshot))}activateRoutes(p,f,C){const T=p.value,P=f?f.value:null;if(Zi(T),T===P)if(T.component){const U=C.getOrCreateContext(T.outlet);this.activateChildRoutes(p,f,U.children)}else this.activateChildRoutes(p,f,C);else if(T.component){const U=C.getOrCreateContext(T.outlet);if(this.routeReuseStrategy.shouldAttach(T.snapshot)){const K=this.routeReuseStrategy.retrieve(T.snapshot);this.routeReuseStrategy.store(T.snapshot,null),U.children.onOutletReAttached(K.contexts),U.attachRef=K.componentRef,U.route=K.route.value,U.outlet&&U.outlet.attach(K.componentRef,K.route.value),Zi(K.route.value),this.activateChildRoutes(p,null,U.children)}else{const K=function Yi(c){for(let p=c.parent;p;p=p.parent){const f=p.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig;if(f&&f.component)return null}return null}(T.snapshot),Ae=K?K.module.componentFactoryResolver:null;U.attachRef=null,U.route=T,U.resolver=Ae,U.outlet&&U.outlet.activateWith(T,Ae),this.activateChildRoutes(p,null,U.children)}}else this.activateChildRoutes(p,null,C)}}class Bs{constructor(p,f){this.routes=p,this.module=f}}function os(c){return"function"==typeof c}function Wr(c){return c instanceof _e}const kr=Symbol("INITIAL_VALUE");function _i(){return(0,Wt.w)(c=>function pe(...c){const p=(0,Le.yG)(c),f=(0,Le.jO)(c),{args:C,keys:T}=(0,X.D)(c);if(0===C.length)return(0,ae.D)([],p);const P=new S.y(function Oe(c,p,f=ce.y){return C=>{dt(p,()=>{const{length:T}=c,P=new Array(T);let U=T,K=T;for(let Ae=0;Ae<T;Ae++)dt(p,()=>{const lt=(0,ae.D)(c[Ae],p);let Vt=!1;lt.subscribe((0,Ne.x)(C,ct=>{P[Ae]=ct,Vt||(Vt=!0,K--),K||C.next(f(P.slice()))},()=>{--U||C.complete()}))},C)},C)}}(C,p,T?U=>(0,Pe.n)(T,U):ce.y));return f?P.pipe((0,De.Z)(f)):P}(c.map(p=>p.pipe((0,kt.q)(1),(0,Rn.O)(kr)))).pipe((0,Ot.R)((p,f)=>{let C=!1;return f.reduce((T,P,U)=>T!==kr?T:(P===kr&&(C=!0),C||!1!==P&&U!==f.length-1&&!Wr(P)?T:P),p)},kr),(0,Ue.h)(p=>p!==kr),(0,ht.U)(p=>Wr(p)?p:!0===p),(0,kt.q)(1)))}class ks{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yr,this.attachRef=null}}class Yr{constructor(){this.contexts=new Map}onChildOutletCreated(p,f){const C=this.getOrCreateContext(p);C.outlet=f,this.contexts.set(p,C)}onChildOutletDestroyed(p){const f=this.getContext(p);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let f=this.getContext(p);return f||(f=new ks,this.contexts.set(p,f)),f}getContext(p){return this.contexts.get(p)||null}}let as=(()=>{class c{constructor(f,C,T,P,U){this.parentContexts=f,this.location=C,this.resolver=T,this.changeDetector=U,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=P||Dt,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,C){this.activated=f,this._activatedRoute=C,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;const U=(C=C||this.resolver).resolveComponentFactory(f._futureSnapshot.routeConfig.component),K=this.parentContexts.getOrCreateContext(this.name).children,Ae=new wi(f,K,this.location.injector);this.activated=this.location.createComponent(U,this.location.length,Ae),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return c.\u0275fac=function(f){return new(f||c)(y.Y36(Yr),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},c.\u0275dir=y.lG2({type:c,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),c})();class wi{constructor(p,f,C){this.route=p,this.childContexts=f,this.parent=C}get(p,f){return p===Lr?this.route:p===Yr?this.childContexts:this.parent.get(p,f)}}let zr=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275cmp=y.Xpm({type:c,selectors:[["ng-component"]],decls:1,vars:0,template:function(f,C){1&f&&y._UZ(0,"router-outlet")},directives:[as],encapsulation:2}),c})();function Bi(c,p=""){for(let f=0;f<c.length;f++){const C=c[f];eo(C,rr(p,C))}}function eo(c,p){c.children&&Bi(c.children,p)}function rr(c,p){return p?c||p.path?c&&!p.path?`${c}/`:!c&&p.path?p.path:`${c}/${p.path}`:"":c}function V(c){const p=c.children&&c.children.map(V),f=p?Object.assign(Object.assign({},c),{children:p}):Object.assign({},c);return!f.component&&(p||f.loadChildren)&&f.outlet&&f.outlet!==Dt&&(f.component=zr),f}function Z(c){return c.outlet||Dt}function L(c,p){const f=c.filter(C=>Z(C)===p);return f.push(...c.filter(C=>Z(C)!==p)),f}const ee={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function be(c,p,f){var C;if(""===p.path)return"full"===p.pathMatch&&(c.hasChildren()||f.length>0)?Object.assign({},ee):{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const P=(p.matcher||ki)(f,c,p);if(!P)return Object.assign({},ee);const U={};Ve(P.posParams,(Ae,lt)=>{U[lt]=Ae.path});const K=P.consumed.length>0?Object.assign(Object.assign({},U),P.consumed[P.consumed.length-1].parameters):U;return{matched:!0,consumedSegments:P.consumed,remainingSegments:f.slice(P.consumed.length),parameters:K,positionalParamSegments:null!==(C=P.posParams)&&void 0!==C?C:{}}}function Je(c,p,f,C,T="corrected"){if(f.length>0&&function $n(c,p,f){return f.some(C=>Cn(c,p,C)&&Z(C)!==Dt)}(c,f,C)){const U=new re(p,function bt(c,p,f,C){const T={};T[Dt]=C,C._sourceSegment=c,C._segmentIndexShift=p.length;for(const P of f)if(""===P.path&&Z(P)!==Dt){const U=new re([],{});U._sourceSegment=c,U._segmentIndexShift=p.length,T[Z(P)]=U}return T}(c,p,C,new re(f,c.children)));return U._sourceSegment=c,U._segmentIndexShift=p.length,{segmentGroup:U,slicedSegments:[]}}if(0===f.length&&function Zn(c,p,f){return f.some(C=>Cn(c,p,C))}(c,f,C)){const U=new re(c.segments,function Xe(c,p,f,C,T,P){const U={};for(const K of C)if(Cn(c,f,K)&&!T[Z(K)]){const Ae=new re([],{});Ae._sourceSegment=c,Ae._segmentIndexShift="legacy"===P?c.segments.length:p.length,U[Z(K)]=Ae}return Object.assign(Object.assign({},T),U)}(c,p,f,C,c.children,T));return U._sourceSegment=c,U._segmentIndexShift=p.length,{segmentGroup:U,slicedSegments:f}}const P=new re(c.segments,c.children);return P._sourceSegment=c,P._segmentIndexShift=p.length,{segmentGroup:P,slicedSegments:f}}function Cn(c,p,f){return(!(c.hasChildren()||p.length>0)||"full"!==f.pathMatch)&&""===f.path}function An(c,p,f,C){return!!(Z(c)===C||C!==Dt&&Cn(p,f,c))&&("**"===c.path||be(p,c,f).matched)}function Dr(c,p,f){return 0===p.length&&!c.children[f]}class ir{constructor(p){this.segmentGroup=p||null}}class sr{constructor(p){this.urlTree=p}}function Qi(c){return ot(new ir(c))}function gi(c){return ot(new sr(c))}class js{constructor(p,f,C,T,P){this.configLoader=f,this.urlSerializer=C,this.urlTree=T,this.config=P,this.allowRedirects=!0,this.ngModule=p.get(y.h0i)}apply(){const p=Je(this.urlTree.root,[],[],this.config).segmentGroup,f=new re(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,f,Dt).pipe((0,ht.U)(P=>this.createUrlTree(B(P),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oe(P=>{if(P instanceof sr)return this.allowRedirects=!1,this.match(P.urlTree);throw P instanceof ir?this.noMatchError(P):P}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Dt).pipe((0,ht.U)(T=>this.createUrlTree(B(T),p.queryParams,p.fragment))).pipe(oe(T=>{throw T instanceof ir?this.noMatchError(T):T}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,f,C){const T=p.segments.length>0?new re([],{[Dt]:p}):p;return new _e(T,f,C)}expandSegmentGroup(p,f,C,T){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(p,f,C).pipe((0,ht.U)(P=>new re([],P))):this.expandSegment(p,C,f,C.segments,T,!0)}expandChildren(p,f,C){const T=[];for(const P of Object.keys(C.children))"primary"===P?T.unshift(P):T.push(P);return(0,ae.D)(T).pipe(ge(P=>{const U=C.children[P],K=L(f,P);return this.expandSegmentGroup(p,K,U,P).pipe((0,ht.U)(Ae=>({segment:Ae,outlet:P})))}),(0,Ot.R)((P,U)=>(P[U.outlet]=U.segment,P),{}),function nn(c,p){const f=arguments.length>=2;return C=>C.pipe(c?(0,Ue.h)((T,P)=>c(T,P,C)):ce.y,je(1),f?(0,Ft.d)(p):(0,qt.T)(()=>new qe.K))}())}expandSegment(p,f,C,T,P,U){return(0,ae.D)(C).pipe(ge(K=>this.expandSegmentAgainstRoute(p,f,C,K,T,P,U).pipe(oe(lt=>{if(lt instanceof ir)return(0,se.of)(null);throw lt}))),(0,mn.P)(K=>!!K),oe((K,Ae)=>{if(K instanceof qe.K||"EmptyError"===K.name)return Dr(f,T,P)?(0,se.of)(new re([],{})):Qi(f);throw K}))}expandSegmentAgainstRoute(p,f,C,T,P,U,K){return An(T,f,P,U)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(p,f,T,P,U):K&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,f,C,T,P,U):Qi(f):Qi(f)}expandSegmentAgainstRouteUsingRedirect(p,f,C,T,P,U){return"**"===T.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,C,T,U):this.expandRegularSegmentAgainstRouteUsingRedirect(p,f,C,T,P,U)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,f,C,T){const P=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?gi(P):this.lineralizeSegments(C,P).pipe((0,me.z)(U=>{const K=new re(U,{});return this.expandSegment(p,K,f,U,T,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,f,C,T,P,U){const{matched:K,consumedSegments:Ae,remainingSegments:lt,positionalParamSegments:Vt}=be(f,T,P);if(!K)return Qi(f);const ct=this.applyRedirectCommands(Ae,T.redirectTo,Vt);return T.redirectTo.startsWith("/")?gi(ct):this.lineralizeSegments(T,ct).pipe((0,me.z)(jt=>this.expandSegment(p,f,C,jt.concat(lt),U,!1)))}matchSegmentAgainstRoute(p,f,C,T,P){if("**"===C.path)return C.loadChildren?(C._loadedConfig?(0,se.of)(C._loadedConfig):this.configLoader.load(p.injector,C)).pipe((0,ht.U)(ct=>(C._loadedConfig=ct,new re(T,{})))):(0,se.of)(new re(T,{}));const{matched:U,consumedSegments:K,remainingSegments:Ae}=be(f,C,T);return U?this.getChildConfig(p,C,T).pipe((0,me.z)(Vt=>{const ct=Vt.module,jt=Vt.routes,{segmentGroup:tn,slicedSegments:Mr}=Je(f,K,Ae,jt),Tr=new re(tn.segments,tn.children);if(0===Mr.length&&Tr.hasChildren())return this.expandChildren(ct,jt,Tr).pipe((0,ht.U)(Ii=>new re(K,Ii)));if(0===jt.length&&0===Mr.length)return(0,se.of)(new re(K,{}));const Ci=Z(C)===P;return this.expandSegment(ct,Tr,jt,Mr,Ci?Dt:P,!0).pipe((0,ht.U)(Ur=>new re(K.concat(Ur.segments),Ur.children)))})):Qi(f)}getChildConfig(p,f,C){return f.children?(0,se.of)(new Bs(f.children,p)):f.loadChildren?void 0!==f._loadedConfig?(0,se.of)(f._loadedConfig):this.runCanLoadGuards(p.injector,f,C).pipe((0,me.z)(T=>T?this.configLoader.load(p.injector,f).pipe((0,ht.U)(P=>(f._loadedConfig=P,P))):function Ui(c){return ot(Or(`Cannot load children because the guard of the route "path: '${c.path}'" returned false`))}(f))):(0,se.of)(new Bs([],p))}runCanLoadGuards(p,f,C){const T=f.canLoad;if(!T||0===T.length)return(0,se.of)(!0);const P=T.map(U=>{const K=p.get(U);let Ae;if(function pi(c){return c&&os(c.canLoad)}(K))Ae=K.canLoad(f,C);else{if(!os(K))throw new Error("Invalid CanLoad guard");Ae=K(f,C)}return xt(Ae)});return(0,se.of)(P).pipe(_i(),(0,ln.b)(U=>{if(!Wr(U))return;const K=Or(`Redirecting to "${this.urlSerializer.serialize(U)}"`);throw K.url=U,K}),(0,ht.U)(U=>!0===U))}lineralizeSegments(p,f){let C=[],T=f.root;for(;;){if(C=C.concat(T.segments),0===T.numberOfChildren)return(0,se.of)(C);if(T.numberOfChildren>1||!T.children[Dt])return ot(new Error(`Only absolute redirects can have named outlets. redirectTo: '${p.redirectTo}'`));T=T.children[Dt]}}applyRedirectCommands(p,f,C){return this.applyRedirectCreatreUrlTree(f,this.urlSerializer.parse(f),p,C)}applyRedirectCreatreUrlTree(p,f,C,T){const P=this.createSegmentGroup(p,f.root,C,T);return new _e(P,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(p,f){const C={};return Ve(p,(T,P)=>{if("string"==typeof T&&T.startsWith(":")){const K=T.substring(1);C[P]=f[K]}else C[P]=T}),C}createSegmentGroup(p,f,C,T){const P=this.createSegments(p,f.segments,C,T);let U={};return Ve(f.children,(K,Ae)=>{U[Ae]=this.createSegmentGroup(p,K,C,T)}),new re(P,U)}createSegments(p,f,C,T){return f.map(P=>P.path.startsWith(":")?this.findPosParam(p,P,T):this.findOrReturn(P,C))}findPosParam(p,f,C){const T=C[f.path.substring(1)];if(!T)throw new Error(`Cannot redirect to '${p}'. Cannot find '${f.path}'.`);return T}findOrReturn(p,f){let C=0;for(const T of f){if(T.path===p.path)return f.splice(C),T;C++}return p}}function B(c){const p={};for(const C of Object.keys(c.children)){const P=B(c.children[C]);(P.segments.length>0||P.hasChildren())&&(p[C]=P)}return function Ts(c){if(1===c.numberOfChildren&&c.children[Dt]){const p=c.children[Dt];return new re(c.segments.concat(p.segments),p.children)}return c}(new re(c.segments,p))}class N{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class H{constructor(p,f){this.component=p,this.route=f}}function He(c,p,f){const C=c._root;return ii(C,p?p._root:null,f,[C.value])}function vn(c,p,f){const C=function ri(c){if(!c)return null;for(let p=c.parent;p;p=p.parent){const f=p.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig}return null}(p);return(C?C.module.injector:f).get(c)}function ii(c,p,f,C,T={canDeactivateChecks:[],canActivateChecks:[]}){const P=Nr(p);return c.children.forEach(U=>{(function Qr(c,p,f,C,T={canDeactivateChecks:[],canActivateChecks:[]}){const P=c.value,U=p?p.value:null,K=f?f.getContext(c.value.outlet):null;if(U&&P.routeConfig===U.routeConfig){const Ae=function to(c,p,f){if("function"==typeof f)return f(c,p);switch(f){case"pathParamsChange":return!mt(c.url,p.url);case"pathParamsOrQueryParamsChange":return!mt(c.url,p.url)||!qn(c.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ki(c,p)||!qn(c.queryParams,p.queryParams);default:return!Ki(c,p)}}(U,P,P.routeConfig.runGuardsAndResolvers);Ae?T.canActivateChecks.push(new N(C)):(P.data=U.data,P._resolvedData=U._resolvedData),ii(c,p,P.component?K?K.children:null:f,C,T),Ae&&K&&K.outlet&&K.outlet.isActivated&&T.canDeactivateChecks.push(new H(K.outlet.component,U))}else U&&As(p,K,T),T.canActivateChecks.push(new N(C)),ii(c,null,P.component?K?K.children:null:f,C,T)})(U,P[U.value.outlet],f,C.concat([U.value]),T),delete P[U.value.outlet]}),Ve(P,(U,K)=>As(U,f.getContext(K),T)),T}function As(c,p,f){const C=Nr(c),T=c.value;Ve(C,(P,U)=>{As(P,T.component?p?p.children.getContext(U):null:p,f)}),f.canDeactivateChecks.push(new H(T.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,T))}class Oi{}function ro(c){return new S.y(p=>p.error(c))}class mo{constructor(p,f,C,T,P,U){this.rootComponentType=p,this.config=f,this.urlTree=C,this.url=T,this.paramsInheritanceStrategy=P,this.relativeLinkResolution=U}recognize(){const p=Je(this.urlTree.root,[],[],this.config.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution).segmentGroup,f=this.processSegmentGroup(this.config,p,Dt);if(null===f)return null;const C=new fs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),T=new br(C,f),P=new fi(this.url,T);return this.inheritParamsAndData(P._root),P}inheritParamsAndData(p){const f=p.value,C=ti(f,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data),p.children.forEach(T=>this.inheritParamsAndData(T))}processSegmentGroup(p,f,C){return 0===f.segments.length&&f.hasChildren()?this.processChildren(p,f):this.processSegment(p,f,f.segments,C)}processChildren(p,f){const C=[];for(const P of Object.keys(f.children)){const U=f.children[P],K=L(p,P),Ae=this.processSegmentGroup(K,U,P);if(null===Ae)return null;C.push(...Ae)}const T=vo(C);return function Jr(c){c.sort((p,f)=>p.value.outlet===Dt?-1:f.value.outlet===Dt?1:p.value.outlet.localeCompare(f.value.outlet))}(T),T}processSegment(p,f,C,T){for(const P of p){const U=this.processSegmentAgainstRoute(P,f,C,T);if(null!==U)return U}return Dr(f,C,T)?[]:null}processSegmentAgainstRoute(p,f,C,T){if(p.redirectTo||!An(p,f,C,T))return null;let P,U=[],K=[];if("**"===p.path){const tn=C.length>0?Dn(C).parameters:{};P=new fs(C,tn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(p),Z(p),p.component,p,_o(f),ho(f)+C.length,wo(p))}else{const tn=be(f,p,C);if(!tn.matched)return null;U=tn.consumedSegments,K=tn.remainingSegments,P=new fs(U,tn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(p),Z(p),p.component,p,_o(f),ho(f)+U.length,wo(p))}const Ae=function yo(c){return c.children?c.children:c.loadChildren?c._loadedConfig.routes:[]}(p),{segmentGroup:lt,slicedSegments:Vt}=Je(f,U,K,Ae.filter(tn=>void 0===tn.redirectTo),this.relativeLinkResolution);if(0===Vt.length&&lt.hasChildren()){const tn=this.processChildren(Ae,lt);return null===tn?null:[new br(P,tn)]}if(0===Ae.length&&0===Vt.length)return[new br(P,[])];const ct=Z(p)===T,jt=this.processSegment(Ae,lt,Vt,ct?Dt:T);return null===jt?null:[new br(P,jt)]}}function Vo(c){const p=c.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function vo(c){const p=[],f=new Set;for(const C of c){if(!Vo(C)){p.push(C);continue}const T=p.find(P=>C.value.routeConfig===P.value.routeConfig);void 0!==T?(T.children.push(...C.children),f.add(T)):p.push(C)}for(const C of f){const T=vo(C.children);p.push(new br(C.value,T))}return p.filter(C=>!f.has(C))}function _o(c){let p=c;for(;p._sourceSegment;)p=p._sourceSegment;return p}function ho(c){let p=c,f=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,f+=p._segmentIndexShift?p._segmentIndexShift:0;return f-1}function Hs(c){return c.data||{}}function wo(c){return c.resolve||{}}function Ra(c){return[...Object.keys(c),...Object.getOwnPropertySymbols(c)]}function si(c){return(0,Wt.w)(p=>{const f=c(p);return f?(0,ae.D)(f).pipe((0,ht.U)(()=>p)):(0,se.of)(p)})}class bo extends class qr{shouldDetach(p){return!1}store(p,f){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,f){return p.routeConfig===f.routeConfig}}{}const Ca=new y.OlP("ROUTES");class Ia{constructor(p,f,C,T){this.injector=p,this.compiler=f,this.onLoadStartListener=C,this.onLoadEndListener=T}load(p,f){if(f._loader$)return f._loader$;this.onLoadStartListener&&this.onLoadStartListener(f);const T=this.loadModuleFactory(f.loadChildren).pipe((0,ht.U)(P=>{this.onLoadEndListener&&this.onLoadEndListener(f);const U=P.create(p);return new Bs(vr(U.injector.get(Ca,void 0,y.XFs.Self|y.XFs.Optional)).map(V),U)}),oe(P=>{throw f._loader$=void 0,P}));return f._loader$=new ie(T,()=>new de.x).pipe(Et()),f._loader$}loadModuleFactory(p){return xt(p()).pipe((0,me.z)(f=>f instanceof y.YKP?(0,se.of)(f):(0,ae.D)(this.compiler.compileModuleAsync(f))))}}class ka{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,f){return p}}function Uo(c){throw c}function ls(c,p,f){return p.parse("/")}function Ss(c,p){return(0,se.of)(null)}const Co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class c{constructor(f,C,T,P,U,K,Ae){this.rootComponentType=f,this.urlSerializer=C,this.rootContexts=T,this.location=P,this.config=Ae,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new de.x,this.errorHandler=Uo,this.malformedUriErrorHandler=ls,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ss,afterPreactivation:Ss},this.urlHandlingStrategy=new ka,this.routeReuseStrategy=new bo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=U.get(y.h0i),this.console=U.get(y.c2e);const ct=U.get(y.R0b);this.isNgZoneEnabled=ct instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(Ae),this.currentUrlTree=function Xt(){return new _e(new re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ia(U,K,jt=>this.triggerEvent(new rn(jt)),jt=>this.triggerEvent(new Sr(jt))),this.routerState=Yn(this.currentUrlTree,this.rootComponentType),this.transitions=new Be.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var f;return null===(f=this.location.getState())||void 0===f?void 0:f.\u0275routerPageId}setupNavigations(f){const C=this.events;return f.pipe((0,Ue.h)(T=>0!==T.id),(0,ht.U)(T=>Object.assign(Object.assign({},T),{extractedUrl:this.urlHandlingStrategy.extract(T.rawUrl)})),(0,Wt.w)(T=>{let P=!1,U=!1;return(0,se.of)(T).pipe((0,ln.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.currentRawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Wt.w)(K=>{const Ae=this.browserUrlTree.toString(),lt=!this.navigated||K.extractedUrl.toString()!==Ae||Ae!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||lt)&&this.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return us(K.source)&&(this.browserUrlTree=K.extractedUrl),(0,se.of)(K).pipe((0,Wt.w)(ct=>{const jt=this.transitions.getValue();return C.next(new Gr(ct.id,this.serializeUrl(ct.extractedUrl),ct.source,ct.restoredState)),jt!==this.transitions.getValue()?ne.E:Promise.resolve(ct)}),function F(c,p,f,C){return(0,Wt.w)(T=>function bi(c,p,f,C,T){return new js(c,p,f,C,T).apply()}(c,p,f,T.extractedUrl,C).pipe((0,ht.U)(P=>Object.assign(Object.assign({},T),{urlAfterRedirects:P}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ln.b)(ct=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ct.urlAfterRedirects})}),function $s(c,p,f,C,T){return(0,me.z)(P=>function Hi(c,p,f,C,T="emptyOnly",P="legacy"){try{const U=new mo(c,p,f,C,T,P).recognize();return null===U?ro(new Oi):(0,se.of)(U)}catch(U){return ro(U)}}(c,p,P.urlAfterRedirects,f(P.urlAfterRedirects),C,T).pipe((0,ht.U)(U=>Object.assign(Object.assign({},P),{targetSnapshot:U}))))}(this.rootComponentType,this.config,ct=>this.serializeUrl(ct),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ln.b)(ct=>{if("eager"===this.urlUpdateStrategy){if(!ct.extras.skipLocationChange){const tn=this.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl);this.setBrowserUrl(tn,ct)}this.browserUrlTree=ct.urlAfterRedirects}const jt=new Ar(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);C.next(jt)}));if(lt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:jt,extractedUrl:tn,source:Mr,restoredState:Tr,extras:Ci}=K,ei=new Gr(jt,this.serializeUrl(tn),Mr,Tr);C.next(ei);const Ur=Yn(tn,this.rootComponentType).snapshot;return(0,se.of)(Object.assign(Object.assign({},K),{targetSnapshot:Ur,urlAfterRedirects:tn,extras:Object.assign(Object.assign({},Ci),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=K.rawUrl,K.resolve(null),ne.E}),si(K=>{const{targetSnapshot:Ae,id:lt,extractedUrl:Vt,rawUrl:ct,extras:{skipLocationChange:jt,replaceUrl:tn}}=K;return this.hooks.beforePreactivation(Ae,{navigationId:lt,appliedUrlTree:Vt,rawUrlTree:ct,skipLocationChange:!!jt,replaceUrl:!!tn})}),(0,ln.b)(K=>{const Ae=new Vn(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(Ae)}),(0,ht.U)(K=>Object.assign(Object.assign({},K),{guards:He(K.targetSnapshot,K.currentSnapshot,this.rootContexts)})),function po(c,p){return(0,me.z)(f=>{const{targetSnapshot:C,currentSnapshot:T,guards:{canActivateChecks:P,canDeactivateChecks:U}}=f;return 0===U.length&&0===P.length?(0,se.of)(Object.assign(Object.assign({},f),{guardsResult:!0})):function la(c,p,f,C){return(0,ae.D)(c).pipe((0,me.z)(T=>function ms(c,p,f,C,T){const P=p&&p.routeConfig?p.routeConfig.canDeactivate:null;if(!P||0===P.length)return(0,se.of)(!0);const U=P.map(K=>{const Ae=vn(K,p,T);let lt;if(function Br(c){return c&&os(c.canDeactivate)}(Ae))lt=xt(Ae.canDeactivate(c,p,f,C));else{if(!os(Ae))throw new Error("Invalid CanDeactivate guard");lt=xt(Ae(c,p,f,C))}return lt.pipe((0,mn.P)())});return(0,se.of)(U).pipe(_i())}(T.component,T.route,f,p,C)),(0,mn.P)(T=>!0!==T,!0))}(U,C,T,c).pipe((0,me.z)(K=>K&&function Is(c){return"boolean"==typeof c}(K)?function Lo(c,p,f,C){return(0,ae.D)(p).pipe(ge(T=>(0,Ke.z)(function Ei(c,p){return null!==c&&p&&p(new Zr(c)),(0,se.of)(!0)}(T.route.parent,C),function no(c,p){return null!==c&&p&&p(new un(c)),(0,se.of)(!0)}(T.route,C),function go(c,p,f){const C=p[p.length-1],P=p.slice(0,p.length-1).reverse().map(U=>function $t(c){const p=c.routeConfig?c.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:c,guards:p}:null}(U)).filter(U=>null!==U).map(U=>We(()=>{const K=U.guards.map(Ae=>{const lt=vn(Ae,U.node,f);let Vt;if(function Us(c){return c&&os(c.canActivateChild)}(lt))Vt=xt(lt.canActivateChild(C,c));else{if(!os(lt))throw new Error("Invalid CanActivateChild guard");Vt=xt(lt(C,c))}return Vt.pipe((0,mn.P)())});return(0,se.of)(K).pipe(_i())}));return(0,se.of)(P).pipe(_i())}(c,T.path,f),function ji(c,p,f){const C=p.routeConfig?p.routeConfig.canActivate:null;if(!C||0===C.length)return(0,se.of)(!0);const T=C.map(P=>We(()=>{const U=vn(P,p,f);let K;if(function Ds(c){return c&&os(c.canActivate)}(U))K=xt(U.canActivate(p,c));else{if(!os(U))throw new Error("Invalid CanActivate guard");K=xt(U(p,c))}return K.pipe((0,mn.P)())}));return(0,se.of)(T).pipe(_i())}(c,T.route,f))),(0,mn.P)(T=>!0!==T,!0))}(C,P,c,p):(0,se.of)(K)),(0,ht.U)(K=>Object.assign(Object.assign({},f),{guardsResult:K})))})}(this.ngModule.injector,K=>this.triggerEvent(K)),(0,ln.b)(K=>{if(Wr(K.guardsResult)){const lt=Or(`Redirecting to "${this.serializeUrl(K.guardsResult)}"`);throw lt.url=K.guardsResult,lt}const Ae=new St(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.triggerEvent(Ae)}),(0,Ue.h)(K=>!!K.guardsResult||(this.restoreHistory(K),this.cancelNavigationTransition(K,""),!1)),si(K=>{if(K.guards.canActivateChecks.length)return(0,se.of)(K).pipe((0,ln.b)(Ae=>{const lt=new Yt(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(lt)}),(0,Wt.w)(Ae=>{let lt=!1;return(0,se.of)(Ae).pipe(function Yo(c,p){return(0,me.z)(f=>{const{targetSnapshot:C,guards:{canActivateChecks:T}}=f;if(!T.length)return(0,se.of)(f);let P=0;return(0,ae.D)(T).pipe(ge(U=>function Fs(c,p,f,C){return function io(c,p,f,C){const T=Ra(c);if(0===T.length)return(0,se.of)({});const P={};return(0,ae.D)(T).pipe((0,me.z)(U=>function Bo(c,p,f,C){const T=vn(c,p,C);return xt(T.resolve?T.resolve(p,f):T(p,f))}(c[U],p,f,C).pipe((0,ln.b)(K=>{P[U]=K}))),je(1),(0,me.z)(()=>Ra(P).length===T.length?(0,se.of)(P):ne.E))}(c._resolve,c,p,C).pipe((0,ht.U)(P=>(c._resolvedData=P,c.data=Object.assign(Object.assign({},c.data),ti(c,f).resolve),null)))}(U.route,C,c,p)),(0,ln.b)(()=>P++),je(1),(0,me.z)(U=>P===T.length?(0,se.of)(f):ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ln.b)({next:()=>lt=!0,complete:()=>{lt||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"At least one route resolver didn't emit any value."))}}))}),(0,ln.b)(Ae=>{const lt=new xn(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(lt)}))}),si(K=>{const{targetSnapshot:Ae,id:lt,extractedUrl:Vt,rawUrl:ct,extras:{skipLocationChange:jt,replaceUrl:tn}}=K;return this.hooks.afterPreactivation(Ae,{navigationId:lt,appliedUrlTree:Vt,rawUrlTree:ct,skipLocationChange:!!jt,replaceUrl:!!tn})}),(0,ht.U)(K=>{const Ae=function Js(c,p,f){const C=Qn(c,p._root,f?f._root:void 0);return new Rr(C,p)}(this.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return Object.assign(Object.assign({},K),{targetRouterState:Ae})}),(0,ln.b)(K=>{this.currentUrlTree=K.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),this.routerState=K.targetRouterState,"deferred"===this.urlUpdateStrategy&&(K.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,K),this.browserUrlTree=K.urlAfterRedirects)}),((c,p,f)=>(0,ht.U)(C=>(new gs(p,C.targetRouterState,C.currentRouterState,f).activate(c),C)))(this.rootContexts,this.routeReuseStrategy,K=>this.triggerEvent(K)),(0,ln.b)({next(){P=!0},complete(){P=!0}}),function Ct(c){return(0,At.e)((p,f)=>{try{p.subscribe(f)}finally{f.add(c)}})}(()=>{var K;P||U||this.cancelNavigationTransition(T,`Navigation ID ${T.id} is not equal to the current navigation id ${this.navigationId}`),(null===(K=this.currentNavigation)||void 0===K?void 0:K.id)===T.id&&(this.currentNavigation=null)}),oe(K=>{if(U=!0,function yn(c){return c&&c[ur]}(K)){const Ae=Wr(K.url);Ae||(this.navigated=!0,this.restoreHistory(T,!0));const lt=new ar(T.id,this.serializeUrl(T.extractedUrl),K.message);C.next(lt),Ae?setTimeout(()=>{const Vt=this.urlHandlingStrategy.merge(K.url,this.rawUrlTree),ct={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||us(T.source)};this.scheduleNavigation(Vt,"imperative",null,ct,{resolve:T.resolve,reject:T.reject,promise:T.promise})},0):T.resolve(!1)}else{this.restoreHistory(T,!0);const Ae=new Tn(T.id,this.serializeUrl(T.extractedUrl),K);C.next(Ae);try{T.resolve(this.errorHandler(K))}catch(lt){T.reject(lt)}}return ne.E}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}setTransition(f){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),f))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const C="popstate"===f.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{var T;const P={replaceUrl:!0},U=(null===(T=f.state)||void 0===T?void 0:T.navigationId)?f.state:null;if(U){const Ae=Object.assign({},U);delete Ae.navigationId,delete Ae.\u0275routerPageId,0!==Object.keys(Ae).length&&(P.state=Ae)}const K=this.parseUrl(f.url);this.scheduleNavigation(K,C,U,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){Bi(f),this.config=f.map(V),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,C={}){const{relativeTo:T,queryParams:P,fragment:U,queryParamsHandling:K,preserveFragment:Ae}=C,lt=T||this.routerState.root,Vt=Ae?this.currentUrlTree.fragment:U;let ct=null;switch(K){case"merge":ct=Object.assign(Object.assign({},this.currentUrlTree.queryParams),P);break;case"preserve":ct=this.currentUrlTree.queryParams;break;default:ct=P||null}return null!==ct&&(ct=this.removeEmptyProps(ct)),function xe(c,p,f,C,T){if(0===f.length)return st(p.root,p.root,p.root,C,T);const P=function er(c){if("string"==typeof c[0]&&1===c.length&&"/"===c[0])return new Qt(!0,0,c);let p=0,f=!1;const C=c.reduce((T,P,U)=>{if("object"==typeof P&&null!=P){if(P.outlets){const K={};return Ve(P.outlets,(Ae,lt)=>{K[lt]="string"==typeof Ae?Ae.split("/"):Ae}),[...T,{outlets:K}]}if(P.segmentPath)return[...T,P.segmentPath]}return"string"!=typeof P?[...T,P]:0===U?(P.split("/").forEach((K,Ae)=>{0==Ae&&"."===K||(0==Ae&&""===K?f=!0:".."===K?p++:""!=K&&T.push(K))}),T):[...T,P]},[]);return new Qt(f,p,C)}(f);if(P.toRoot())return st(p.root,p.root,new re([],{}),C,T);const U=function Wn(c,p,f){if(c.isAbsolute)return new nr(p.root,!0,0);if(-1===f.snapshot._lastPathIndex){const P=f.snapshot._urlSegment;return new nr(P,P===p.root,0)}const C=Ie(c.commands[0])?0:1;return function Mi(c,p,f){let C=c,T=p,P=f;for(;P>T;){if(P-=T,C=C.parent,!C)throw new Error("Invalid number of '../'");T=C.segments.length}return new nr(C,!1,T-P)}(f.snapshot._urlSegment,f.snapshot._lastPathIndex+C,c.numberOfDoubleDots)}(P,p,c),K=U.processChildren?ss(U.segmentGroup,U.index,P.commands):Vi(U.segmentGroup,U.index,P.commands);return st(p.root,U.segmentGroup,K,C,T)}(lt,this.currentUrlTree,f,ct,null!=Vt?Vt:null)}navigateByUrl(f,C={skipLocationChange:!1}){const T=Wr(f)?f:this.parseUrl(f),P=this.urlHandlingStrategy.merge(T,this.rawUrlTree);return this.scheduleNavigation(P,"imperative",null,C)}navigate(f,C={skipLocationChange:!1}){return function Fa(c){for(let p=0;p<c.length;p++){const f=c[p];if(null==f)throw new Error(`The requested path contains ${f} segment at index ${p}`)}}(f),this.navigateByUrl(this.createUrlTree(f,C),C)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let C;try{C=this.urlSerializer.parse(f)}catch(T){C=this.malformedUriErrorHandler(T,this.urlSerializer,f)}return C}isActive(f,C){let T;if(T=!0===C?Object.assign({},Co):!1===C?Object.assign({},Xr):C,Wr(f))return we(this.currentUrlTree,f,T);const P=this.parseUrl(f);return we(this.currentUrlTree,P,T)}removeEmptyProps(f){return Object.keys(f).reduce((C,T)=>{const P=f[T];return null!=P&&(C[T]=P),C},{})}processNavigations(){this.navigations.subscribe(f=>{this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new zn(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,f.resolve(!0)},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}scheduleNavigation(f,C,T,P,U){var K,Ae;if(this.disposed)return Promise.resolve(!1);let lt,Vt,ct;U?(lt=U.resolve,Vt=U.reject,ct=U.promise):ct=new Promise((Mr,Tr)=>{lt=Mr,Vt=Tr});const jt=++this.navigationId;let tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(T=this.location.getState()),tn=T&&T.\u0275routerPageId?T.\u0275routerPageId:P.replaceUrl||P.skipLocationChange?null!==(K=this.browserPageId)&&void 0!==K?K:0:(null!==(Ae=this.browserPageId)&&void 0!==Ae?Ae:0)+1):tn=0,this.setTransition({id:jt,targetPageId:tn,source:C,restoredState:T,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:P,resolve:lt,reject:Vt,promise:ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ct.catch(Mr=>Promise.reject(Mr))}setBrowserUrl(f,C){const T=this.urlSerializer.serialize(f),P=Object.assign(Object.assign({},C.extras.state),this.generateNgRouterState(C.id,C.targetPageId));this.location.isCurrentPathEqualTo(T)||C.extras.replaceUrl?this.location.replaceState(T,"",P):this.location.go(T,"",P)}restoreHistory(f,C=!1){var T,P;if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(T=this.currentNavigation)||void 0===T?void 0:T.finalUrl)||0===U?this.currentUrlTree===(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)&&0===U&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,C){const T=new ar(f.id,this.serializeUrl(f.extractedUrl),C);this.triggerEvent(T),f.resolve(!1)}generateNgRouterState(f,C){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:C}:{navigationId:f}}}return c.\u0275fac=function(f){y.$Z()},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();function us(c){return"imperative"!==c}let zs=(()=>{class c{constructor(f,C,T,P,U){this.router=f,this.route=C,this.tabIndexAttribute=T,this.renderer=P,this.el=U,this.commands=null,this.onChanges=new de.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(f){if(null!=this.tabIndexAttribute)return;const C=this.renderer,T=this.el.nativeElement;null!==f?C.setAttribute(T,"tabindex",f):C.removeAttribute(T,"tabindex")}ngOnChanges(f){this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const f={skipLocationChange:di(this.skipLocationChange),replaceUrl:di(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:di(this.preserveFragment)})}}return c.\u0275fac=function(f){return new(f||c)(y.Y36(ci),y.Y36(Lr),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},c.\u0275dir=y.lG2({type:c,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,C){1&f&&y.NdJ("click",function(){return C.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),c})(),co=(()=>{class c{constructor(f,C,T){this.router=f,this.route=C,this.locationStrategy=T,this.commands=null,this.href=null,this.onChanges=new de.x,this.subscription=f.events.subscribe(P=>{P instanceof zn&&this.updateTargetUrlAndHref()})}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:null}ngOnChanges(f){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(f,C,T,P,U){if(0!==f||C||T||P||U||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const K={skipLocationChange:di(this.skipLocationChange),replaceUrl:di(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,K),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:di(this.preserveFragment)})}}return c.\u0275fac=function(f){return new(f||c)(y.Y36(ci),y.Y36(Lr),y.Y36(In.S$))},c.\u0275dir=y.lG2({type:c,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(f,C){1&f&&y.NdJ("click",function(P){return C.onClick(P.button,P.ctrlKey,P.shiftKey,P.altKey,P.metaKey)}),2&f&&y.uIk("target",C.target)("href",C.href,y.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[y.TTD]}),c})();function di(c){return""===c||!!c}class Jo{}class ca{preload(p,f){return(0,se.of)(null)}}let dr=(()=>{class c{constructor(f,C,T,P){this.router=f,this.injector=T,this.preloadingStrategy=P,this.loader=new Ia(T,C,Ae=>f.triggerEvent(new rn(Ae)),Ae=>f.triggerEvent(new Sr(Ae)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(f=>f instanceof zn),ge(()=>this.preload())).subscribe(()=>{})}preload(){const f=this.injector.get(y.h0i);return this.processRoutes(f,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,C){const T=[];for(const P of C)if(P.loadChildren&&!P.canLoad&&P._loadedConfig){const U=P._loadedConfig;T.push(this.processRoutes(U.module,U.routes))}else P.loadChildren&&!P.canLoad?T.push(this.preloadConfig(f,P)):P.children&&T.push(this.processRoutes(f,P.children));return(0,ae.D)(T).pipe((0,wn.J)(),(0,ht.U)(P=>{}))}preloadConfig(f,C){return this.preloadingStrategy.preload(C,()=>(C._loadedConfig?(0,se.of)(C._loadedConfig):this.loader.load(f.injector,C)).pipe((0,me.z)(P=>(C._loadedConfig=P,this.processRoutes(P.module,P.routes)))))}}return c.\u0275fac=function(f){return new(f||c)(y.LFG(ci),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Jo))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})(),Io=(()=>{class c{constructor(f,C,T={}){this.router=f,this.viewportScroller=C,this.options=T,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},T.scrollPositionRestoration=T.scrollPositionRestoration||"disabled",T.anchorScrolling=T.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof zn&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof lr&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,C){this.router.triggerEvent(new lr(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return c.\u0275fac=function(f){y.$Z()},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();const A=new y.OlP("ROUTER_CONFIGURATION"),M=new y.OlP("ROUTER_FORROOT_GUARD"),W=[In.Ye,{provide:Hn,useClass:_r},{provide:ci,useFactory:function jo(c,p,f,C,T,P,U={},K,Ae){const lt=new ci(null,c,p,f,C,T,vr(P));return K&&(lt.urlHandlingStrategy=K),Ae&&(lt.routeReuseStrategy=Ae),function Ho(c,p){c.errorHandler&&(p.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(p.malformedUriErrorHandler=c.malformedUriErrorHandler),c.onSameUrlNavigation&&(p.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.relativeLinkResolution&&(p.relativeLinkResolution=c.relativeLinkResolution),c.urlUpdateStrategy&&(p.urlUpdateStrategy=c.urlUpdateStrategy),c.canceledNavigationResolution&&(p.canceledNavigationResolution=c.canceledNavigationResolution)}(U,lt),U.enableTracing&&lt.events.subscribe(Vt=>{var ct,jt;null===(ct=console.group)||void 0===ct||ct.call(console,`Router Event: ${Vt.constructor.name}`),console.log(Vt.toString()),console.log(Vt),null===(jt=console.groupEnd)||void 0===jt||jt.call(console)}),lt},deps:[Hn,Yr,In.Ye,y.zs3,y.Sil,Ca,A,[class Eo{},new y.FiY],[class Gs{},new y.FiY]]},Yr,{provide:Lr,useFactory:function Pi(c){return c.routerState.root},deps:[ci]},dr,ca,class ua{preload(p,f){return f().pipe(oe(()=>(0,se.of)(null)))}},{provide:A,useValue:{enableTracing:!1}}];function ve(){return new y.PXZ("Router",ci)}let rt=(()=>{class c{constructor(f,C){}static forRoot(f,C){return{ngModule:c,providers:[W,Fr(f),{provide:M,useFactory:$i,deps:[[ci,new y.FiY,new y.tp0]]},{provide:A,useValue:C||{}},{provide:In.S$,useFactory:fr,deps:[In.lw,[new y.tBr(In.mr),new y.FiY],A]},{provide:Io,useFactory:hn,deps:[ci,In.EM,A]},{provide:Jo,useExisting:C&&C.preloadingStrategy?C.preloadingStrategy:ca},{provide:y.PXZ,multi:!0,useFactory:ve},[Do,{provide:y.ip1,multi:!0,useFactory:xs,deps:[Do]},{provide:k,useFactory:To,deps:[Do]},{provide:y.tb,multi:!0,useExisting:k}]]}}static forChild(f){return{ngModule:c,providers:[Fr(f)]}}}return c.\u0275fac=function(f){return new(f||c)(y.LFG(M,8),y.LFG(ci,8))},c.\u0275mod=y.oAB({type:c}),c.\u0275inj=y.cJS({}),c})();function hn(c,p,f){return f.scrollOffset&&p.setOffset(f.scrollOffset),new Io(c,p,f)}function fr(c,p,f={}){return f.useHash?new In.Do(c,p):new In.b0(c,p)}function $i(c){return"guarded"}function Fr(c){return[{provide:y.deG,multi:!0,useValue:c},{provide:Ca,multi:!0,useValue:c}]}let Do=(()=>{class c{constructor(f){this.injector=f,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new de.x}appInitializer(){return this.injector.get(In.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let C=null;const T=new Promise(K=>C=K),P=this.injector.get(ci),U=this.injector.get(A);return"disabled"===U.initialNavigation?(P.setUpLocationChangeListener(),C(!0)):"enabled"===U.initialNavigation||"enabledBlocking"===U.initialNavigation?(P.hooks.afterPreactivation=()=>this.initNavigation?(0,se.of)(null):(this.initNavigation=!0,C(!0),this.resultOfPreactivationDone),P.initialNavigation()):C(!0),T})}bootstrapListener(f){const C=this.injector.get(A),T=this.injector.get(dr),P=this.injector.get(Io),U=this.injector.get(ci),K=this.injector.get(y.z2F);f===K.components[0]&&(("enabledNonBlocking"===C.initialNavigation||void 0===C.initialNavigation)&&U.initialNavigation(),T.setUpPreloading(),P.init(),U.resetRootComponentType(K.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return c.\u0275fac=function(f){return new(f||c)(y.LFG(y.zs3))},c.\u0275prov=y.Yz7({token:c,factory:c.\u0275fac}),c})();function xs(c){return c.appInitializer.bind(c)}function To(c){return c.bootstrapListener.bind(c)}const k=new y.OlP("Router Initializer")},3942:(Nt,ze,$)=>{"use strict";$.d(ze,{Z:()=>ot});var y=$(2090),S=$(4859),X=$(9681),ae=$(1877);class ce{constructor(We,nt){this._delegate=We,this.firebase=nt,(0,X._addComponent)(We,new S.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(We,nt=X._DEFAULT_ENTRY_NAME){var At;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(We);return!Et.isInitialized()&&"EXPLICIT"===(null===(At=Et.getComponent())||void 0===At?void 0:At.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:nt})}_removeServiceInstance(We,nt=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(nt)}_addComponent(We){(0,X._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,X._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ne(){const ft=function Pe(ft){const We={},nt={__esModule:!0,initializeApp:function ie(Ke,ne={}){const de=X.initializeApp(Ke,ne);if((0,y.r3)(We,de.name))return We[de.name];const oe=new ft(de,nt);return We[de.name]=oe,oe},app:Et,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Be(Ke){const ne=Ke.name,de=ne.replace("-compat","");if(X._registerComponent(Ke)&&"PUBLIC"===Ke.type){const oe=(me=Et())=>{if("function"!=typeof me[de])throw Le.create("invalid-app-argument",{appName:ne});return me[de]()};void 0!==Ke.serviceProps&&(0,y.ZB)(oe,Ke.serviceProps),nt[de]=oe,ft.prototype[de]=function(...me){return this._getService.bind(this,ne).apply(this,Ke.multipleInstances?me:[])}}return"PUBLIC"===Ke.type?nt[de]:null},removeApp:function At(Ke){delete We[Ke]},useAsService:function qe(Ke,ne){return"serverAuth"===ne?null:ne},modularAPIs:X}};function Et(Ke){if(!(0,y.r3)(We,Ke=Ke||X._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:Ke});return We[Ke]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function se(){return Object.keys(We).map(Ke=>We[Ke])}}),Et.App=ft,nt}(ce);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function We(nt){(0,y.ZB)(ft,nt)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),ft}(),pe=new ae.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=he;!function Qe(ft){(0,X.registerVersion)("@firebase/app-compat","0.1.22",ft)}()},9681:(Nt,ze,$)=>{"use strict";$.r(ze),$.d(ze,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>zn,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>kt,_addOrOverwriteComponent:()=>Rn,_apps:()=>ht,_clearComponents:()=>wn,_components:()=>Wt,_getProvider:()=>mn,_registerComponent:()=>Ot,_removeServiceInstance:()=>ln,deleteApp:()=>Vn,getApp:()=>Tn,getApps:()=>Ar,initializeApp:()=>ar,onLog:()=>xn,registerVersion:()=>Yt,setLogLevel:()=>rn});var y=$(5861),S=$(4859),X=$(1877),ae=$(2090);class ce{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function De(Lt){const Ve=Lt.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(xt)){const Xt=xt.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(xt=>xt).join(" ")}}const Le="@firebase/app",Ne=new X.Yd("@firebase/app"),nn="[DEFAULT]",Ct={[Le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,Wt=new Map;function kt(Lt,Ve){try{Lt.container.addComponent(Ve)}catch(xt){Ne.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Lt.name}`,xt)}}function Rn(Lt,Ve){Lt.container.addOrOverwriteComponent(Ve)}function Ot(Lt){const Ve=Lt.name;if(Wt.has(Ve))return Ne.debug(`There were multiple attempts to register component ${Ve}.`),!1;Wt.set(Ve,Lt);for(const xt of ht.values())kt(xt,Lt);return!0}function mn(Lt,Ve){const xt=Lt.container.getProvider("heartbeat").getImmediate({optional:!0});return xt&&xt.triggerHeartbeat(),Lt.container.getProvider(Ve)}function ln(Lt,Ve,xt=nn){mn(Lt,Ve).clearInstance(xt)}function wn(){Wt.clear()}const jn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Gr{constructor(Ve,xt,Xt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new S.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const zn="9.6.11";function ar(Lt,Ve={}){"object"!=typeof Ve&&(Ve={name:Ve});const xt=Object.assign({name:nn,automaticDataCollectionEnabled:!1},Ve),Xt=xt.name;if("string"!=typeof Xt||!Xt)throw jn.create("bad-app-name",{appName:String(Xt)});const En=ht.get(Xt);if(En){if((0,ae.vZ)(Lt,En.options)&&(0,ae.vZ)(xt,En.config))return En;throw jn.create("duplicate-app",{appName:Xt})}const Ht=new S.H0(Xt);for(const ue of Wt.values())Ht.addComponent(ue);const we=new Gr(Lt,xt,Ht);return ht.set(Xt,we),we}function Tn(Lt=nn){const Ve=ht.get(Lt);if(!Ve)throw jn.create("no-app",{appName:Lt});return Ve}function Ar(){return Array.from(ht.values())}function Vn(Lt){return St.apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(Lt){const Ve=Lt.name;ht.has(Ve)&&(ht.delete(Ve),yield Promise.all(Lt.container.getProviders().map(xt=>xt.delete())),Lt.isDeleted=!0)})).apply(this,arguments)}function Yt(Lt,Ve,xt){var Xt;let En=null!==(Xt=Ct[Lt])&&void 0!==Xt?Xt:Lt;xt&&(En+=`-${xt}`);const Ht=En.match(/\s|\//),we=Ve.match(/\s|\//);if(Ht||we){const ue=[`Unable to register library "${En}" with version "${Ve}":`];return Ht&&ue.push(`library name "${En}" contains illegal characters (whitespace or "/")`),Ht&&we&&ue.push("and"),we&&ue.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void Ne.warn(ue.join(" "))}Ot(new S.wA(`${En}-version`,()=>({library:En,version:Ve}),"VERSION"))}function xn(Lt,Ve){if(null!==Lt&&"function"!=typeof Lt)throw jn.create("invalid-log-argument");(0,X.Am)(Lt,Ve)}function rn(Lt){(0,X.Ub)(Lt)}const tr="firebase-heartbeat-store";let un=null;function mr(){return un||(un=(0,ae.X3)("firebase-heartbeat-database",1,(Lt,Ve)=>{0===Ve&&Lt.createObjectStore(tr)}).catch(Lt=>{throw jn.create("storage-open",{originalErrorMessage:Lt.message})})),un}function Dt(){return(Dt=(0,y.Z)(function*(Lt){try{return(yield mr()).transaction(tr).objectStore(tr).get(ur(Lt))}catch(Ve){throw jn.create("storage-get",{originalErrorMessage:Ve.message})}})).apply(this,arguments)}function Tt(Lt,Ve){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(Lt,Ve){try{const Xt=(yield mr()).transaction(tr,"readwrite");return yield Xt.objectStore(tr).put(Ve,ur(Lt)),Xt.complete}catch(xt){throw jn.create("storage-set",{originalErrorMessage:xt.message})}})).apply(this,arguments)}function ur(Lt){return`${Lt.name}!${Lt.options.appId}`}class ki{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const xt=this.container.getProvider("app").getImmediate();this._storage=new Gt(xt),this._heartbeatsCachePromise=this._storage.read().then(Xt=>(this._heartbeatsCache=Xt,Xt))}triggerHeartbeat(){var Ve=this;return(0,y.Z)(function*(){const Xt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),En=yr();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==En&&!Ve._heartbeatsCache.heartbeats.some(Ht=>Ht.date===En))return Ve._heartbeatsCache.heartbeats.push({date:En,agent:Xt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(Ht=>{const we=new Date(Ht.date).valueOf();return Date.now()-we<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,y.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const xt=yr(),{heartbeatsToSend:Xt,unsentEntries:En}=function qn(Lt,Ve=1024){const xt=[];let Xt=Lt.slice();for(const En of Lt){const Ht=xt.find(we=>we.agent===En.agent);if(Ht){if(Ht.dates.push(En.date),vr(xt)>Ve){Ht.dates.pop();break}}else if(xt.push({agent:En.agent,dates:[En.date]}),vr(xt)>Ve){xt.pop();break}Xt=Xt.slice(1)}return{heartbeatsToSend:xt,unsentEntries:Xt}}(Ve._heartbeatsCache.heartbeats),Ht=(0,ae.L)(JSON.stringify({version:2,heartbeats:Xt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=xt,En.length>0?(Ve._heartbeatsCache.heartbeats=En,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),Ht})()}}function yr(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,y.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function lr(Lt){return Dt.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var xt=this;return(0,y.Z)(function*(){var Xt;if(yield xt._canUseIndexedDBPromise){const Ht=yield xt.read();return Tt(xt.app,{lastSentHeartbeatDate:null!==(Xt=Ve.lastSentHeartbeatDate)&&void 0!==Xt?Xt:Ht.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var xt=this;return(0,y.Z)(function*(){var Xt;if(yield xt._canUseIndexedDBPromise){const Ht=yield xt.read();return Tt(xt.app,{lastSentHeartbeatDate:null!==(Xt=Ve.lastSentHeartbeatDate)&&void 0!==Xt?Xt:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...Ve.heartbeats]})}})()}}function vr(Lt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Lt})).length}!function Dn(Lt){Ot(new S.wA("platform-logger",Ve=>new ce(Ve),"PRIVATE")),Ot(new S.wA("heartbeat",Ve=>new ki(Ve),"PRIVATE")),Yt(Le,"0.7.21",Lt),Yt(Le,"0.7.21","esm2017"),Yt("fire-js","")}("")},4859:(Nt,ze,$)=>{"use strict";$.d(ze,{H0:()=>Pe,wA:()=>X});var y=$(5861),S=$(2090);class X{constructor(he,pe,Oe){this.name=he,this.instanceFactory=pe,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const ae="[DEFAULT]";class ce{constructor(he,pe){this.name=he,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const pe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(pe)){const Oe=new S.BH;if(this.instancesDeferred.set(pe,Oe),this.isInitialized(pe)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:pe});dt&&Oe.resolve(dt)}catch(dt){}}return this.instancesDeferred.get(pe).promise}getImmediate(he){var pe;const Oe=this.normalizeInstanceIdentifier(null==he?void 0:he.identifier),dt=null!==(pe=null==he?void 0:he.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Qe){if(dt)return null;throw Qe}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Le(Ne){return"EAGER"===Ne.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(pe){}for(const[pe,Oe]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(pe);try{const Qe=this.getOrInitializeService({instanceIdentifier:dt});Oe.resolve(Qe)}catch(Qe){}}}}clearInstance(he=ae){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,y.Z)(function*(){const pe=Array.from(he.instances.values());yield Promise.all([...pe.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...pe.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=ae){return this.instances.has(he)}getOptions(he=ae){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:pe={}}=he,Oe=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:Oe,options:pe});for(const[Qe,ot]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Qe)&&ot.resolve(dt);return dt}onInit(he,pe){var Oe;const dt=this.normalizeInstanceIdentifier(pe),Qe=null!==(Oe=this.onInitCallbacks.get(dt))&&void 0!==Oe?Oe:new Set;Qe.add(he),this.onInitCallbacks.set(dt,Qe);const ot=this.instances.get(dt);return ot&&he(ot,dt),()=>{Qe.delete(he)}}invokeOnInitCallbacks(he,pe){const Oe=this.onInitCallbacks.get(pe);if(Oe)for(const dt of Oe)try{dt(he,pe)}catch(Qe){}}getOrInitializeService({instanceIdentifier:he,options:pe={}}){let Oe=this.instances.get(he);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=he,Ne===ae?void 0:Ne),options:pe}),this.instances.set(he,Oe),this.instancesOptions.set(he,pe),this.invokeOnInitCallbacks(Oe,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Oe)}catch(dt){}var Ne;return Oe||null}normalizeInstanceIdentifier(he=ae){return this.component?this.component.multipleInstances?he:ae:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const pe=this.getProvider(he.name);if(pe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);pe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const pe=new ce(he,this);return this.providers.set(he,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(Nt,ze,$)=>{"use strict";$.d(ze,{Am:()=>Ne,Ub:()=>Pe,Yd:()=>Le,in:()=>S});const y=[];var S=(()=>{return(he=S||(S={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",S;var he})();const X={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},ae=S.INFO,ce={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},De=(he,pe,...Oe)=>{if(pe<he.logLevel)return;const dt=(new Date).toISOString(),Qe=ce[pe];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Qe](`[${dt}]  ${he.name}:`,...Oe)};class Le{constructor(pe){this.name=pe,this._logLevel=ae,this._logHandler=De,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in S))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?X[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...pe),this._logHandler(this,S.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...pe),this._logHandler(this,S.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,S.INFO,...pe),this._logHandler(this,S.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,S.WARN,...pe),this._logHandler(this,S.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...pe),this._logHandler(this,S.ERROR,...pe)}}function Pe(he){y.forEach(pe=>{pe.setLogLevel(he)})}function Ne(he,pe){for(const Oe of y){let dt=null;pe&&pe.level&&(dt=X[pe.level]),Oe.userLogHandler=null===he?null:(Qe,ot,...ft)=>{const We=ft.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch(At){return null}}).filter(nt=>nt).join(" ");ot>=(null!=dt?dt:Qe.logLevel)&&he({level:S[ot].toLowerCase(),message:We,args:ft,type:Qe.name})}}}},7562:(Nt,ze,$)=>{"use strict";$.d(ze,{Ro:()=>Ke,ef:()=>ne,t2:()=>Be});var y=$(5e3),S=$(1135),X=$(7579),ae=$(4482),ce=$(5403),De=$(8421),Le=$(5032),Ne=$(9300),he=$(1777),pe=$(9808),Oe=$(2313);const dt=["overlay"];function Qe(de,oe){1&de&&y._UZ(0,"div")}function ot(de,oe){if(1&de&&(y.TgZ(0,"div"),y.YNc(1,Qe,1,0,"div",6),y.qZA()),2&de){const me=y.oxw(2);y.Tol(me.spinner.class),y.Udp("color",me.spinner.color),y.xp6(1),y.Q6J("ngForOf",me.spinner.divArray)}}function ft(de,oe){if(1&de&&(y._UZ(0,"div",7),y.ALo(1,"safeHtml")),2&de){const me=y.oxw(2);y.Q6J("innerHTML",y.lcZ(1,1,me.template),y.oJD)}}function We(de,oe){if(1&de&&(y.TgZ(0,"div",1,2),y.YNc(2,ot,2,5,"div",3),y.YNc(3,ft,2,3,"div",4),y.TgZ(4,"div",5),y.Hsn(5),y.qZA()()),2&de){const me=y.oxw();y.Udp("background-color",me.spinner.bdColor)("z-index",me.spinner.zIndex)("position",me.spinner.fullScreen?"fixed":"absolute"),y.Q6J("@.disabled",me.disableAnimation)("@fadeIn","in"),y.xp6(2),y.Q6J("ngIf",!me.template),y.xp6(1),y.Q6J("ngIf",me.template),y.xp6(1),y.Udp("z-index",me.spinner.zIndex)}}const nt=["*"],At={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},ie="primary";class se{constructor(oe){Object.assign(this,oe)}static create(oe){return(null==(null==oe?void 0:oe.type)||0===oe.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new se(oe)}}let Be=(()=>{class de{constructor(){this.spinnerObservable=new S.X(null)}getSpinner(me){return this.spinnerObservable.asObservable().pipe((0,Ne.h)(ge=>ge&&ge.name===me))}show(me=ie,ge){return new Promise((Ue,je)=>{setTimeout(()=>{ge&&Object.keys(ge).length?(ge.name=me,this.spinnerObservable.next(new se(Object.assign(Object.assign({},ge),{show:!0}))),Ue(!0)):(this.spinnerObservable.next(new se({name:me,show:!0})),Ue(!0))},10)})}hide(me=ie,ge=10){return new Promise((Ue,je)=>{setTimeout(()=>{this.spinnerObservable.next(new se({name:me,show:!1})),Ue(!0)},ge)})}}return de.\u0275fac=function(me){return new(me||de)},de.\u0275prov=y.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})(),qe=(()=>{class de{constructor(me){this._sanitizer=me}transform(me){if(me)return this._sanitizer.bypassSecurityTrustHtml(me)}}return de.\u0275fac=function(me){return new(me||de)(y.Y36(Oe.H7,16))},de.\u0275pipe=y.Yjl({name:"safeHtml",type:de,pure:!0}),de})(),Ke=(()=>{class de{constructor(me,ge,Ue){this.spinnerService=me,this.changeDetector=ge,this.elementRef=Ue,this.disableAnimation=!1,this.spinner=new se,this.ngUnsubscribe=new X.x,this.setDefaultOptions=()=>{this.spinner=se.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=ie,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(me){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(me.target))&&(me.returnValue=!1,me.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(function Pe(de){return(0,ae.e)((oe,me)=>{(0,De.Xf)(de).subscribe((0,ce.x)(me,()=>me.complete(),Le.Z)),!me.closed&&oe.subscribe(me)})}(this.ngUnsubscribe)).subscribe(me=>{this.setDefaultOptions(),Object.assign(this.spinner,me),me.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(me){return me===this.elementRef.nativeElement.parentElement||me.parentNode&&this.isSpinnerZone(me.parentNode)}ngOnChanges(me){for(const ge in me)if(ge){const Ue=me[ge];if(Ue.isFirstChange())return;void 0!==Ue.currentValue&&Ue.currentValue!==Ue.previousValue&&""!==Ue.currentValue&&(this.spinner[ge]=Ue.currentValue,"showSpinner"===ge&&(Ue.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===ge&&this.initObservable())}}getClass(me,ge){this.spinner.divCount=At[me],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((je,qt)=>qt);let Ue="";switch(ge.toLowerCase()){case"small":Ue="la-sm";break;case"medium":Ue="la-2x";break;case"large":Ue="la-3x"}return"la-"+me+" "+Ue}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return de.\u0275fac=function(me){return new(me||de)(y.Y36(Be),y.Y36(y.sBO),y.Y36(y.SBq))},de.\u0275cmp=y.Xpm({type:de,selectors:[["ngx-spinner"]],viewQuery:function(me,ge){if(1&me&&y.Gf(dt,5),2&me){let Ue;y.iGM(Ue=y.CRH())&&(ge.spinnerDOM=Ue.first)}},hostBindings:function(me,ge){1&me&&y.NdJ("keydown",function(je){return ge.handleKeyboardEvent(je)},!1,y.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[y.TTD],ngContentSelectors:nt,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(me,ge){1&me&&(y.F$t(),y.YNc(0,We,6,12,"div",0)),2&me&&y.Q6J("ngIf",ge.spinner.show)},directives:[pe.O5,pe.sg],pipes:[qe],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,he.X$)("fadeIn",[(0,he.SB)("in",(0,he.oB)({opacity:1})),(0,he.eR)(":enter",[(0,he.oB)({opacity:0}),(0,he.jt)(300)]),(0,he.eR)(":leave",(0,he.jt)(200,(0,he.oB)({opacity:0})))])]},changeDetection:0}),de})(),ne=(()=>{class de{}return de.\u0275fac=function(me){return new(me||de)},de.\u0275mod=y.oAB({type:de}),de.\u0275inj=y.cJS({imports:[[pe.ez]]}),de})()},5861:(Nt,ze,$)=>{"use strict";function y(X,ae,ce,De,Le,Pe,Ne){try{var he=X[Pe](Ne),pe=he.value}catch(Oe){return void ce(Oe)}he.done?ae(pe):Promise.resolve(pe).then(De,Le)}function S(X){return function(){var ae=this,ce=arguments;return new Promise(function(De,Le){var Pe=X.apply(ae,ce);function Ne(pe){y(Pe,De,Le,Ne,he,"next",pe)}function he(pe){y(Pe,De,Le,Ne,he,"throw",pe)}Ne(void 0)})}}$.d(ze,{Z:()=>S})}},Nt=>{Nt(Nt.s=5589)}]);